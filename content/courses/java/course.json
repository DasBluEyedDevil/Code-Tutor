{
  "id": "java",
  "language": "java",
  "title": "Java From First Principles to Full-Stack",
  "description": "Master Java from absolute beginner to job-ready full-stack developer through Socratic mentorship and hands-on projects.",
  "difficulty": "advanced",
  "estimatedHours": 44,
  "prerequisites": [],
  "modules": [
    {
      "id": "module-01",
      "title": "Java Fundamentals",
      "description": "Introduction to programming concepts, your first Java program, variables, and control flow.",
      "difficulty": "beginner",
      "estimatedHours": 1.5,
      "lessons": [
        {
          "id": "epoch-0-lesson-1",
          "title": "Lesson 0.1: What is a Computer Program?",
          "moduleId": "module-01",
          "order": 1,
          "estimatedMinutes": 15,
          "difficulty": "beginner",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem",
              "content": "Imagine you're trying to teach your younger sibling how to make a peanut butter and jelly sandwich. You leave the kitchen for 5 minutes and return to find:\n\n• The peanut butter jar is unopened\n• They spread jelly on the outside of the bread\n• The knife is on the floor\n• They're confused why it didn't work\n\nWhat went wrong? You assumed they knew things: \"spread\" means using a knife, \"on the bread\" means the inside face, you need to open jars first. But your sibling followed your words EXACTLY as you said them—no more, no less.\n\nTHIS IS HOW COMPUTERS WORK.\n\nA computer is the most obedient, most literal \"sibling\" imaginable. It will do exactly what you tell it—nothing more, nothing less. It has zero common sense. It can't guess what you meant. It can't improvise."
            },
            {
              "type": "KEY_POINT",
              "title": "Programming is Recipe Writing (But More Precise)",
              "content": "Let's compare a recipe for humans vs. a recipe for a computer:\n\nRecipe for a Human:\n1. Preheat oven to 350°F\n2. Mix the ingredients\n3. Bake for 20 minutes\n\nWhy this works: Humans know what \"mix\" means. They know ovens have dials.\n\nRecipe for a Computer:\n1. LOCATE the oven dial\n2. TURN the dial clockwise until display shows 350\n3. WAIT until the light labeled \"READY\" turns green\n4. OPEN the ingredient_box\n5. FOR EACH item in ingredient_box:\n   a. MEASURE the item using measuring_cup\n   b. POUR into bowl labeled \"mixing_bowl\"\n6. PICK UP the spoon labeled \"mixing_spoon\"\n7. MOVE spoon in circular motion for 60 seconds\n8. PLACE mixing_bowl into oven\n9. START timer for 20 minutes\n10. WAIT until timer beeps\n\nNotice: Every action is explicit. Every object is identified. No assumptions are made.\n\nThis is programming. You're writing a recipe so detailed that something with ZERO intelligence can follow it perfectly."
            },
            {
              "type": "THEORY",
              "title": "What is a Computer Program, Really?",
              "content": "A computer program is:\n\n1. A SEQUENCE OF INSTRUCTIONS (step 1, step 2, step 3...)\n2. WRITTEN IN A LANGUAGE THE COMPUTER UNDERSTANDS (like Java, Python, C++)\n3. THAT MANIPULATES DATA (numbers, text, images)\n4. TO PRODUCE A RESULT (a calculation, a webpage, a video game)\n\nBreaking it down:\n\nInstructions: Computers execute instructions one at a time, in order. Examples:\n• \"Store the number 5 in a box\"\n• \"Add 3 to whatever is in the box\"\n• \"Show the result on the screen\"\n\nLanguage: Computers don't understand English. They understand machine code (0s and 1s). But writing in 0s and 1s is torture, so we use programming languages like Java, which look more like English. Java gets translated into machine code automatically.\n\nData: Programs work with information: numbers, text, images, videos, sounds.\n\nResults: Every program has a purpose—calculating, displaying, storing, or transforming data."
            },
            {
              "type": "KEY_POINT",
              "title": "Key Insight: Computers Are Dumb (And That's Okay)",
              "content": "Computers CANNOT:\n✗ Guess what you meant\n✗ Improvise or adapt\n✗ Understand context\n✗ Learn without being programmed to learn\n\nBut computers CAN:\n✓ Follow instructions perfectly, billions of times per second\n✓ Remember massive amounts of data flawlessly\n✓ Repeat tasks without getting tired or bored\n✓ Do exactly what you tell them, every single time\n\nYour job as a programmer: Be the smart one. Give the instructions. The computer will be the obedient one."
            }
          ],
          "challenges": []
        },
        {
          "id": "epoch-0-lesson-2",
          "title": "Lesson 0.2: Your First Java Program",
          "moduleId": "module-01",
          "order": 2,
          "estimatedMinutes": 20,
          "difficulty": "beginner",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: Talking to the Computer",
              "content": "You now understand that programming is writing detailed instructions. But there's a catch: you can't just write instructions in English. You need to use a programming language.\n\nWhy? Because English is ambiguous. \"Turn left\" could mean many things. But in a programming language, every symbol, every word, has ONE exact meaning.\n\nJava is one of the most popular programming languages in the world. It's used by millions of developers to build everything from Android apps to banking systems to video games.\n\nToday, you'll write your first Java program. It won't do much—it'll just display a message on the screen. But you'll understand every single character of code."
            },
            {
              "type": "KEY_POINT",
              "title": "Java Code is Like a Formal Letter",
              "content": "Imagine you're writing a letter to a government official. You can't just scribble:\n\"Hey! Need help. Thanks!\"\n\nYou need proper structure:\n\nDear Official,\nI am writing to request...\nSincerely,\nYour Name\n\nJava is the same. It has a formal structure. Every program needs certain pieces in certain places. Once you learn the structure, you can focus on the logic."
            },
            {
              "type": "THEORY",
              "title": "Anatomy of a Java Program",
              "content": "Here's the simplest possible Java program:\n\npublic class HelloWorld {\n    public static void main(String[] args) {\n        System.out.println(\"Hello, World!\");\n    }\n}\n\nLet's break it down, line by line:\n\n1. 'public class HelloWorld {'\n   - 'public' means anyone can use this\n   - 'class' is a container for code (you'll learn more later)\n   - 'HelloWorld' is the name we chose\n   - '{' opens a block of code\n\n2. 'public static void main(String[] args) {'\n   - This is the 'main method'—the entry point where your program starts\n   - Don't worry about the details yet, just know: every program needs this line\n\n3. 'System.out.println(\"Hello, World!\");'\n   - 'System.out.println' means \"print this on the screen\"\n   - The text inside quotes is what gets printed\n   - The semicolon ';' ends the instruction (like a period ends a sentence)\n\n4. The closing braces '}' close the blocks we opened\n\nKEY RULE: Java is case-sensitive. 'System' and 'system' are different. Be precise!"
            },
            {
              "type": "KEY_POINT",
              "title": "Your First Java Program",
              "content": "Every Java program you write will follow this basic structure:\n\npublic class ClassName {\n    public static void main(String[] args) {\n        // Your code goes here\n    }\n}\n\nFor now, accept this as the \"formal letter header.\" Soon, you'll understand why each part exists."
            }
          ],
          "challenges": [
            {
              "type": "FREE_CODING",
              "id": "epoch-0-lesson-2-hello",
              "title": "Your First Hello World",
              "description": "Write a Java program that prints exactly: Hello, World!\n\nUse System.out.println() to print the message.\nRemember: Java is case-sensitive, and don't forget the semicolon!",
              "instructions": "Write a Java program that prints exactly: Hello, World!\n\nUse System.out.println() to print the message.\nRemember: Java is case-sensitive, and don't forget the semicolon!",
              "starterCode": "// Your First Hello World\n// Write your code below\n\npublic class Solution {\n    public static void main(String[] args) {\n        \n    }\n}",
              "solution": "// Solution: Your First Hello World\n// This demonstrates the basic println statement\n\npublic class Solution {\n    public static void main(String[] args) {\n        // Use System.out.println to print text to the console\n        // The text must be enclosed in double quotes\n        System.out.println(\"Hello, World!\");\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-0-lesson-2-hello-test-1",
                  "description": "Should print 'Hello, World!'",
                  "expectedOutput": "Hello, World!",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 1,
                  "text": "Use the print/println function to display output."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            },
            {
              "type": "FREE_CODING",
              "id": "epoch-0-lesson-2-custom",
              "title": "Print Your Own Message",
              "description": "Now it's your turn! Write a program that prints: Java is awesome!\n\nUse the same System.out.println() approach, but with your new message.",
              "instructions": "Now it's your turn! Write a program that prints: Java is awesome!\n\nUse the same System.out.println() approach, but with your new message.",
              "starterCode": "// Print Your Own Message\n// Write your code below\n\npublic class Solution {\n    public static void main(String[] args) {\n        \n    }\n}",
              "solution": "// Solution: Print Your Own Message\n// This demonstrates printing custom text\n\npublic class Solution {\n    public static void main(String[] args) {\n        // Print the custom message exactly as specified\n        System.out.println(\"Java is awesome!\");\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-0-lesson-2-custom-test-1",
                  "description": "Should print 'Java is awesome!'",
                  "expectedOutput": "Java is awesome!",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 1,
                  "text": "Use the print/println function to display output."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            }
          ]
        },
        {
          "id": "epoch-0-lesson-3",
          "title": "Lesson 0.3: Understanding Variables",
          "moduleId": "module-01",
          "order": 3,
          "estimatedMinutes": 25,
          "difficulty": "beginner",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: The Computer's Memory",
              "content": "You've written your first program that prints text. But what if you want the program to REMEMBER something? What if you need to store a number, do some math, and then use that result later?\n\nRight now, your programs are like sticky notes—they can display a message, but they can't remember anything. To write useful programs, you need the ability to STORE information.\n\nThis is where variables come in."
            },
            {
              "type": "KEY_POINT",
              "title": "Variables are Labeled Boxes",
              "content": "Imagine you have a storage room with boxes. Each box:\n\n1. Has a LABEL on it (the variable name) like 'age' or 'score'\n2. Can hold ONE thing inside (the value)\n3. You can CHANGE what's inside anytime\n4. You can LOOK inside to see what's stored\n\nExample:\n- Box labeled 'playerScore' contains: 100\n- Box labeled 'playerName' contains: 'Alex'\n- Box labeled 'isGameOver' contains: false\n\nIn Java, when you create a variable, you're saying:\n\"Computer, create a box, label it with this name, and put this value inside.\"\n\nThe computer reserves a tiny spot in its memory (RAM) for that box."
            },
            {
              "type": "THEORY",
              "title": "Creating Variables in Java",
              "content": "To create a variable, you need THREE things:\n\n1. TYPE: What kind of data will the box hold? (number? text? true/false?)\n2. NAME: What should we call this box?\n3. VALUE: What should we put inside?\n\nThe syntax:\ntype name = value;\n\nExamples:\n\nint age = 25;\n  ↑    ↑    ↑\n type name value\n\nBreaking it down:\n- 'int' means 'integer' (a whole number)\n- 'age' is the name we chose\n- '25' is the value we're storing\n- ';' ends the statement (like a period)\n\nMore examples:\nint score = 100;           // Whole number\ndouble price = 19.99;      // Decimal number\nString name = \"Alice\";    // Text (must use quotes!)\nboolean isActive = true;   // true or false\n\nKey rule: Once you declare a variable with a type, that box can ONLY hold that type of data."
            },
            {
              "type": "THEORY",
              "title": "Using Variables",
              "content": "Once you create a variable, you can:\n\n1. PRINT IT:\n   int age = 25;\n   System.out.println(age);  // Prints: 25\n\n2. CHANGE IT:\n   age = 30;  // Now the box contains 30\n\n3. DO MATH WITH IT:\n   int score = 100;\n   score = score + 10;  // Now score is 110\n\n4. COMBINE IT WITH TEXT:\n   System.out.println(\"Your score is: \" + score);\n   // Prints: Your score is: 110\n\nThe '+' symbol does different things:\n- With numbers: adds them (5 + 3 = 8)\n- With text: joins them (\"Hello\" + \"World\" = \"HelloWorld\")"
            },
            {
              "type": "KEY_POINT",
              "title": "Variable Naming Rules",
              "content": "You can name variables almost anything, BUT:\n\n✓ DO:\n- Use descriptive names: 'playerScore' not 'x'\n- Start with a lowercase letter: 'score', 'myAge'\n- Use camelCase for multiple words: 'highScore', 'userName'\n\n✗ DON'T:\n- Use spaces: 'my age' is WRONG, use 'myAge'\n- Start with a number: '2cool' is WRONG, use 'cool2'\n- Use special characters: 'score$' is usually wrong\n- Use Java keywords: 'int', 'class', 'public' are reserved\n\nGood names: age, playerScore, userName, totalCost\nBad names: a, x, asdfghjkl, thing123"
            },
            {
              "type": "THEORY",
              "title": "The var Keyword (Java 10+)",
              "content": "Starting with Java 10, you can use 'var' for LOCAL VARIABLE TYPE INFERENCE.\n\nInstead of writing the type explicitly:\n\nString name = \"Alice\";\nint age = 25;\nArrayList<String> names = new ArrayList<String>();\n\nYou can let Java figure out the type:\n\nvar name = \"Alice\";          // Java knows it's a String\nvar age = 25;                 // Java knows it's an int\nvar names = new ArrayList<String>();  // Java knows the type!\n\nWHY USE var?\n1. Less typing (especially for long type names)\n2. Cleaner code when the type is obvious\n3. Required for some advanced features (like anonymous classes)\n\nWHEN TO USE var:\n✓ When the type is obvious from the right side\n✓ For complex generic types: var map = new HashMap<String, List<Integer>>();\n✓ In for-each loops: for (var item : list) { ... }\n\nWHEN NOT TO USE var:\n✗ When the type isn't obvious: var result = getResult();  // What type is this?\n✗ For method parameters or return types (not allowed)\n✗ For class fields (not allowed)\n\nIMPORTANT: var is NOT like JavaScript's var - the type is still fixed at compile time!\nvar age = 25;\nage = \"hello\";  // ERROR! age is still an int"
            },
            {
              "type": "EXAMPLE",
              "title": "Using var in Practice",
              "content": "The var keyword enables local type inference, reducing boilerplate while maintaining type safety. It's especially useful for complex generic types and in for-each loops where the type is obvious from context.",
              "code": "public class VarExample {\n    public static void main(String[] args) {\n        // Instead of: String message = \"Hello, World!\";\n        var message = \"Hello, World!\";\n        \n        // Instead of: int count = 10;\n        var count = 10;\n        \n        // Instead of: double price = 19.99;\n        var price = 19.99;\n        \n        // Especially useful for complex types:\n        // Instead of: ArrayList<String> names = new ArrayList<String>();\n        var names = new ArrayList<String>();\n        names.add(\"Alice\");\n        names.add(\"Bob\");\n        \n        // In for-each loops:\n        for (var name : names) {\n            System.out.println(name);\n        }\n        \n        // With Map:\n        var scores = new HashMap<String, Integer>();\n        scores.put(\"Alice\", 95);\n        scores.put(\"Bob\", 87);\n        \n        for (var entry : scores.entrySet()) {\n            System.out.println(entry.getKey() + \": \" + entry.getValue());\n        }\n    }\n}",
              "language": "java"
            }
          ],
          "challenges": [
            {
              "type": "FREE_CODING",
              "id": "epoch-0-lesson-3-variable",
              "title": "Create and Print a Variable",
              "description": "Create an integer variable named 'age' and set its value to 30.\nThen print it using System.out.println().\n\nRemember:\n- Use 'int' for whole numbers\n- Format: int variableName = value;\n- Don't forget the semicolon!",
              "instructions": "Create an integer variable named 'age' and set its value to 30.\nThen print it using System.out.println().\n\nRemember:\n- Use 'int' for whole numbers\n- Format: int variableName = value;\n- Don't forget the semicolon!",
              "starterCode": "// Create and Print a Variable\n// Write your code below\n\npublic class Solution {\n    public static void main(String[] args) {\n        \n    }\n}",
              "solution": "// Solution: Create and Print a Variable\n// This demonstrates creating and using integer variables\n\npublic class Solution {\n    public static void main(String[] args) {\n        // Step 1: Create an integer variable named 'age' with value 30\n        int age = 30;\n        \n        // Step 2: Print the variable\n        System.out.println(age);\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-0-lesson-3-variable-test-1",
                  "description": "Should print '30'",
                  "expectedOutput": "30",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 1,
                  "text": "Use the print/println function to display output."
                },
                {
                  "level": 1,
                  "text": "Create a variable to store your value. In java, use appropriate syntax."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            },
            {
              "type": "FREE_CODING",
              "id": "epoch-0-lesson-3-math",
              "title": "Variable Math",
              "description": "Create three integer variables:\n- x with value 10\n- y with value 5\n- sum that equals x + y\n\nThen print the sum variable.\n\nThe output should be: 15",
              "instructions": "Create three integer variables:\n- x with value 10\n- y with value 5\n- sum that equals x + y\n\nThen print the sum variable.\n\nThe output should be: 15",
              "starterCode": "// Variable Math\n// Write your code below\n\npublic class Solution {\n    public static void main(String[] args) {\n        \n    }\n}",
              "solution": "// Solution: Variable Math\n// This demonstrates arithmetic operations with variables\n\npublic class Solution {\n    public static void main(String[] args) {\n        // Step 1: Create variable x with value 10\n        int x = 10;\n        \n        // Step 2: Create variable y with value 5\n        int y = 5;\n        \n        // Step 3: Create sum variable that equals x + y\n        int sum = x + y;\n        \n        // Step 4: Print the sum\n        System.out.println(sum);\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-0-lesson-3-math-test-1",
                  "description": "Should print '15'",
                  "expectedOutput": "15",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 1,
                  "text": "Use the print/println function to display output."
                },
                {
                  "level": 1,
                  "text": "Create a variable to store your value. In java, use appropriate syntax."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            }
          ]
        },
        {
          "id": "epoch-0-lesson-4",
          "title": "Lesson 0.4: Making Decisions with If/Else",
          "moduleId": "module-01",
          "order": 4,
          "estimatedMinutes": 30,
          "difficulty": "beginner",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: Programs That Adapt",
              "content": "So far, your programs do the same thing every time. They print the same message, calculate the same numbers. But what if you need a program that ADAPTS based on the situation?\n\nExamples:\n- A game that says \"You win!\" if score > 100, but \"Try again\" if score < 100\n- A program that checks if you're old enough to vote\n- A calculator that prevents division by zero\n\nYou need a way to make the computer ASK A QUESTION and then DO DIFFERENT THINGS based on the answer.\n\nThis is called CONDITIONAL LOGIC, and in Java, we use 'if' statements."
            },
            {
              "type": "KEY_POINT",
              "title": "If Statements are Like a Fork in the Road",
              "content": "Imagine you're walking and you reach a fork in the road. There's a sign that says:\n\n\"If it's raining → Go left to the covered path\"\n\"Otherwise → Go right to the scenic route\"\n\nYou CHECK the condition (\"Is it raining?\"), and based on the answer (yes/no), you take a different path.\n\nIn Java:\n\nif (it's raining) {\n    take the covered path\n} else {\n    take the scenic route\n}\n\nThe computer CHECKS the condition in parentheses. If it's true, it runs the code inside the first curly braces. If it's false, it runs the code inside the 'else' block."
            },
            {
              "type": "THEORY",
              "title": "If Statement Syntax",
              "content": "The basic structure:\n\nif (condition) {\n    // Code to run if condition is TRUE\n}\n\nReal example:\n\nint age = 20;\nif (age >= 18) {\n    System.out.println(\"You can vote!\");\n}\n\nBreaking it down:\n- 'if' is the keyword\n- (age >= 18) is the CONDITION being tested\n- '>=' means 'greater than or equal to'\n- If the condition is TRUE, the code inside { } runs\n- If the condition is FALSE, the code is skipped\n\nIn this example, since age is 20, and 20 >= 18 is TRUE, it prints \"You can vote!\""
            },
            {
              "type": "THEORY",
              "title": "Adding 'Else' for Two Paths",
              "content": "What if you want to do something different when the condition is false?\nUse 'else':\n\nint age = 15;\nif (age >= 18) {\n    System.out.println(\"You can vote!\");\n} else {\n    System.out.println(\"Too young to vote.\");\n}\n\nNow:\n- If age >= 18 is TRUE → prints \"You can vote!\"\n- If age >= 18 is FALSE → prints \"Too young to vote.\"\n\nOnly ONE of these blocks will run, never both!"
            },
            {
              "type": "THEORY",
              "title": "Comparison Operators",
              "content": "To write conditions, you need to compare values. Java has these operators:\n\n==  (equals)              5 == 5  → true\n!=  (not equals)          5 != 3  → true\n>   (greater than)        7 > 3   → true\n<   (less than)           3 < 7   → true\n>=  (greater or equal)    5 >= 5  → true\n<=  (less or equal)       3 <= 7  → true\n\n⚠️ WARNING: A common mistake!\n- Use '==' to COMPARE: if (age == 18)\n- Use '=' to ASSIGN: age = 18\n\nif (age = 18) is WRONG! (You're assigning, not comparing)\nif (age == 18) is CORRECT!"
            },
            {
              "type": "KEY_POINT",
              "title": "Key Takeaways",
              "content": "✓ 'if' statements let your program make decisions\n✓ The condition in parentheses must be true or false\n✓ Only the code in the TRUE block runs\n✓ Use 'else' to handle the FALSE case\n✓ Use == to compare (not =)\n\nThink of it as:\nif (something is true) {\n    do this\n} else {\n    do that instead\n}"
            }
          ],
          "challenges": [
            {
              "type": "FREE_CODING",
              "id": "epoch-0-lesson-4-voting",
              "title": "Voting Eligibility Checker",
              "description": "Complete the program to check voting eligibility.\n\nThe variable 'age' is already created with value 20.\n\nWrite an if/else statement that:\n- Prints 'Can vote' if age >= 18\n- Prints 'Cannot vote' otherwise\n\nSince age is 20, it should print: Can vote",
              "instructions": "Complete the program to check voting eligibility.\n\nThe variable 'age' is already created with value 20.\n\nWrite an if/else statement that:\n- Prints 'Can vote' if age >= 18\n- Prints 'Cannot vote' otherwise\n\nSince age is 20, it should print: Can vote",
              "starterCode": "// Voting Eligibility Checker\n// Write your code below\n\npublic class Solution {\n    public static void main(String[] args) {\n        \n    }\n}",
              "solution": "// Solution: Voting Eligibility Checker\n// This demonstrates if/else conditional statements\n\npublic class Solution {\n    public static void main(String[] args) {\n        // Create the age variable\n        int age = 20;\n        \n        // Check voting eligibility with if/else\n        if (age >= 18) {\n            System.out.println(\"Can vote\");\n        } else {\n            System.out.println(\"Cannot vote\");\n        }\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-0-lesson-4-voting-test-1",
                  "description": "Should print 'Can vote' when age is 20",
                  "expectedOutput": "Can vote",
                  "isVisible": true
                },
                {
                  "id": "epoch-0-lesson-4-voting-test-2",
                  "description": "Edge case: age is exactly 18 (boundary value)",
                  "expectedOutput": "Can vote",
                  "isVisible": false
                },
                {
                  "id": "epoch-0-lesson-4-voting-test-3",
                  "description": "Tests if/else logic: age below 18 should not vote",
                  "expectedOutput": "Can vote",
                  "isVisible": false
                }
              ],
              "hints": [
                {
                  "level": 1,
                  "text": "Use the print/println function to display output."
                },
                {
                  "level": 1,
                  "text": "Create a variable to store your value. In java, use appropriate syntax."
                },
                {
                  "level": 2,
                  "text": "Use an if statement to check the condition."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            },
            {
              "type": "FREE_CODING",
              "id": "epoch-0-lesson-4-number",
              "title": "Number Comparison",
              "description": "Write a program that checks if a number is big or small.\n\nThe variable 'number' is set to 15.\n\nWrite an if/else statement:\n- If number > 10, print: Big number\n- Otherwise, print: Small number\n\nExpected output: Big number",
              "instructions": "Write a program that checks if a number is big or small.\n\nThe variable 'number' is set to 15.\n\nWrite an if/else statement:\n- If number > 10, print: Big number\n- Otherwise, print: Small number\n\nExpected output: Big number",
              "starterCode": "// Number Comparison\n// Write your code below\n\npublic class Solution {\n    public static void main(String[] args) {\n        \n    }\n}",
              "solution": "// Solution: Number Comparison\n// This demonstrates comparing numbers with if/else\n\npublic class Solution {\n    public static void main(String[] args) {\n        // Create the number variable\n        int number = 15;\n        \n        // Check if number is big (greater than 10) or small\n        if (number > 10) {\n            System.out.println(\"Big number\");\n        } else {\n            System.out.println(\"Small number\");\n        }\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-0-lesson-4-number-test-1",
                  "description": "Should print 'Big number' when number is 15",
                  "expectedOutput": "Big number",
                  "isVisible": true
                },
                {
                  "id": "epoch-0-lesson-4-number-test-2",
                  "description": "Edge case: number is exactly 10 (boundary value)",
                  "expectedOutput": "Big number",
                  "isVisible": false
                },
                {
                  "id": "epoch-0-lesson-4-number-test-3",
                  "description": "Tests else branch: numbers <= 10 are small",
                  "expectedOutput": "Big number",
                  "isVisible": false
                }
              ],
              "hints": [
                {
                  "level": 1,
                  "text": "Use the print/println function to display output."
                },
                {
                  "level": 1,
                  "text": "Create a variable to store your value. In java, use appropriate syntax."
                },
                {
                  "level": 2,
                  "text": "Use an if statement to check the condition."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            }
          ]
        },
        {
          "id": "epoch-0-lesson-5",
          "title": "Lesson 0.5: Switch Expressions & Pattern Matching (Java 17+)",
          "moduleId": "module-01",
          "order": 5,
          "estimatedMinutes": 40,
          "difficulty": "intermediate",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: Clunky Switch Statements",
              "content": "Traditional switch statements in Java are verbose and error-prone:\n\nString dayType;\nswitch (day) {\n    case \"MONDAY\":\n    case \"TUESDAY\":\n    case \"WEDNESDAY\":\n    case \"THURSDAY\":\n    case \"FRIDAY\":\n        dayType = \"Weekday\";\n        break;  // Easy to forget!\n    case \"SATURDAY\":\n    case \"SUNDAY\":\n        dayType = \"Weekend\";\n        break;\n    default:\n        dayType = \"Unknown\";\n        break;\n}\n\nProblems:\n1. Must remember 'break' or fall-through bugs occur\n2. Can't return values directly from switch\n3. Very verbose for simple mappings\n4. No compile-time exhaustiveness checking\n\nJava 14-17 introduced SWITCH EXPRESSIONS to fix all of this!"
            },
            {
              "type": "KEY_POINT",
              "title": "Switch Expressions with Arrow Syntax",
              "content": "Modern Java uses the arrow (->) syntax for cleaner switches:\n\n// Old way (statement):\nswitch (day) {\n    case \"MONDAY\":\n        System.out.println(\"Start of week\");\n        break;\n    // ... more cases\n}\n\n// New way (expression with arrows):\nString dayType = switch (day) {\n    case \"MONDAY\", \"TUESDAY\", \"WEDNESDAY\", \"THURSDAY\", \"FRIDAY\" -> \"Weekday\";\n    case \"SATURDAY\", \"SUNDAY\" -> \"Weekend\";\n    default -> \"Unknown\";\n};\n\nBenefits:\n- No break needed (no fall-through)\n- Multiple cases can share one arrow\n- Returns a value directly\n- Much more concise!\n\nArrow rules:\n- Use -> for single expression or block\n- No fall-through between cases\n- Must cover all possibilities (exhaustive)"
            },
            {
              "type": "THEORY",
              "title": "Switch Expressions with yield",
              "content": "When you need multiple statements in a case, use a block with 'yield':\n\nint numLetters = switch (day) {\n    case \"MONDAY\", \"FRIDAY\", \"SUNDAY\" -> 6;\n    case \"TUESDAY\" -> 7;\n    case \"THURSDAY\", \"SATURDAY\" -> 8;\n    case \"WEDNESDAY\" -> {\n        System.out.println(\"Middle of week!\");\n        yield 9;  // 'yield' returns the value from the block\n    }\n    default -> throw new IllegalArgumentException(\"Invalid day: \" + day);\n};\n\nKey points:\n- Use { } blocks when you need multiple statements\n- Use 'yield' (not 'return') to provide the value\n- 'yield' is only used in switch expressions, not statements"
            },
            {
              "type": "KEY_POINT",
              "title": "Pattern Matching for instanceof (Java 16+)",
              "content": "Traditional instanceof checking is repetitive:\n\n// Old way:\nif (obj instanceof String) {\n    String s = (String) obj;  // Repetitive cast!\n    System.out.println(s.length());\n}\n\n// New way with pattern matching:\nif (obj instanceof String s) {\n    // 's' is already a String - no cast needed!\n    System.out.println(s.length());\n}\n\nThe pattern 'String s' both:\n1. Tests if obj is a String\n2. Creates variable s with the String type\n\nMore examples:\n\n// With negation\nif (!(obj instanceof String s)) {\n    return;  // obj is not a String\n}\n// Here 's' is in scope and is a String\nSystem.out.println(s.toUpperCase());\n\n// In complex conditions\nif (obj instanceof String s && s.length() > 5) {\n    System.out.println(\"Long string: \" + s);\n}"
            },
            {
              "type": "THEORY",
              "title": "Pattern Matching in Switch (Java 21+)",
              "content": "Java 21 brings pattern matching to switch expressions:\n\n// Type patterns in switch\nString describe(Object obj) {\n    return switch (obj) {\n        case Integer i -> \"Integer: \" + i;\n        case Long l -> \"Long: \" + l;\n        case Double d -> \"Double: \" + d;\n        case String s -> \"String of length \" + s.length();\n        case null -> \"It's null!\";\n        default -> \"Unknown type\";\n    };\n}\n\n// With guards (when clause)\nString categorize(Object obj) {\n    return switch (obj) {\n        case Integer i when i < 0 -> \"Negative number\";\n        case Integer i when i == 0 -> \"Zero\";\n        case Integer i -> \"Positive number: \" + i;\n        case String s when s.isEmpty() -> \"Empty string\";\n        case String s -> \"String: \" + s;\n        case null -> \"null value\";\n        default -> \"Something else\";\n    };\n}\n\nKey features:\n- Type patterns: case Integer i -> ...\n- Guards: case Integer i when i > 0 -> ...\n- Null handling: case null -> ...\n- Record patterns: case Point(int x, int y) -> ..."
            },
            {
              "type": "EXAMPLE",
              "title": "Modern Switch and Pattern Matching in Action",
              "content": "Switch expressions with arrow syntax eliminate fall-through bugs and return values directly. Pattern matching for instanceof combines type checking and casting. Guards with 'when' add conditional logic to patterns.",
              "code": "public class ModernJavaDemo {\n    public static void main(String[] args) {\n        // Switch expression with arrow syntax\n        String day = \"WEDNESDAY\";\n        String activity = switch (day) {\n            case \"MONDAY\", \"TUESDAY\", \"WEDNESDAY\", \"THURSDAY\", \"FRIDAY\" -> \"Work\";\n            case \"SATURDAY\" -> \"Relax\";\n            case \"SUNDAY\" -> \"Prepare for week\";\n            default -> \"Unknown\";\n        };\n        System.out.println(day + \": \" + activity);\n        \n        // Pattern matching for instanceof\n        Object[] items = {\"Hello\", 42, 3.14, true};\n        for (Object item : items) {\n            if (item instanceof String s) {\n                System.out.println(\"String with \" + s.length() + \" chars\");\n            } else if (item instanceof Integer n) {\n                System.out.println(\"Integer: \" + n);\n            } else if (item instanceof Double d) {\n                System.out.println(\"Double: \" + d);\n            } else {\n                System.out.println(\"Other: \" + item);\n            }\n        }\n        \n        // Pattern matching in switch (Java 21+)\n        for (Object item : items) {\n            String description = switch (item) {\n                case String s when s.length() > 10 -> \"Long string\";\n                case String s -> \"String: \" + s;\n                case Integer i when i < 0 -> \"Negative\";\n                case Integer i -> \"Positive: \" + i;\n                case Double d -> \"Double: \" + d;\n                case Boolean b -> \"Boolean: \" + b;\n                case null -> \"null\";\n                default -> \"Unknown\";\n            };\n            System.out.println(description);\n        }\n    }\n}",
              "language": "java"
            },
            {
              "type": "KEY_POINT",
              "title": "When to Use Modern Switch Features",
              "content": "USE SWITCH EXPRESSIONS WHEN:\n- Assigning a value based on multiple conditions\n- Mapping one value to another\n- Replacing if-else-if chains\n\nUSE PATTERN MATCHING instanceof WHEN:\n- You need to check type AND use the value\n- Processing heterogeneous collections\n- Simplifying type-checking code\n\nUSE PATTERN MATCHING IN SWITCH WHEN:\n- Processing different types differently\n- Combining type checks with value conditions\n- Working with sealed classes/interfaces\n\nBEST PRACTICES:\n- Always handle all cases (be exhaustive)\n- Use guards (when) for additional conditions\n- Handle null explicitly when needed\n- Prefer switch expressions over statements for assignments"
            }
          ],
          "challenges": [
            {
              "type": "FREE_CODING",
              "id": "epoch-0-lesson-5-switch-basic",
              "title": "Basic Switch Expression",
              "description": "Create a method that takes a month number (1-12) and returns the season:\n- 12, 1, 2 -> \"Winter\"\n- 3, 4, 5 -> \"Spring\"\n- 6, 7, 8 -> \"Summer\"\n- 9, 10, 11 -> \"Fall\"\n- default -> \"Unknown\"\n\nUse switch expression with arrow syntax.\n\nTest: getSeason(7) should return \"Summer\"",
              "instructions": "Create a method that takes a month number (1-12) and returns the season:\n- 12, 1, 2 -> \"Winter\"\n- 3, 4, 5 -> \"Spring\"\n- 6, 7, 8 -> \"Summer\"\n- 9, 10, 11 -> \"Fall\"\n- default -> \"Unknown\"\n\nUse switch expression with arrow syntax.",
              "starterCode": "// Basic Switch Expression\n// Write your code below\n\npublic class Solution {\n    public static String getSeason(int month) {\n        // Use switch expression here\n    }\n    \n    public static void main(String[] args) {\n        System.out.println(getSeason(7));\n    }\n}",
              "solution": "// Solution: Basic Switch Expression\npublic class Solution {\n    public static String getSeason(int month) {\n        return switch (month) {\n            case 12, 1, 2 -> \"Winter\";\n            case 3, 4, 5 -> \"Spring\";\n            case 6, 7, 8 -> \"Summer\";\n            case 9, 10, 11 -> \"Fall\";\n            default -> \"Unknown\";\n        };\n    }\n    \n    public static void main(String[] args) {\n        System.out.println(getSeason(7));\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-0-lesson-5-switch-basic-test-1",
                  "description": "Should return 'Summer'",
                  "expectedOutput": "Summer",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 1,
                  "text": "Use the syntax: return switch (month) { case 1, 2 -> \"value\"; };"
                },
                {
                  "level": 2,
                  "text": "Multiple cases can share one arrow: case 12, 1, 2 -> \"Winter\""
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolon after the switch expression",
                  "consequence": "Compilation error",
                  "correction": "Switch expressions need ; at the end when used in a statement"
                },
                {
                  "mistake": "Using break with arrow syntax",
                  "consequence": "Compilation error",
                  "correction": "Arrow syntax doesn't use break - the arrow implies no fall-through"
                }
              ],
              "difficulty": "beginner"
            },
            {
              "type": "FREE_CODING",
              "id": "epoch-0-lesson-5-pattern-instanceof",
              "title": "Pattern Matching for instanceof",
              "description": "Create a method describe(Object obj) that returns:\n- \"String: [value]\" if it's a String\n- \"Number: [value]\" if it's an Integer\n- \"Unknown\" for anything else\n\nUse pattern matching for instanceof.\n\nTest: describe(\"Hello\") should return \"String: Hello\"",
              "instructions": "Create a method describe(Object obj) that returns:\n- \"String: [value]\" if it's a String\n- \"Number: [value]\" if it's an Integer\n- \"Unknown\" for anything else\n\nUse pattern matching for instanceof.",
              "starterCode": "// Pattern Matching for instanceof\n// Write your code below\n\npublic class Solution {\n    public static String describe(Object obj) {\n        // Use pattern matching instanceof here\n    }\n    \n    public static void main(String[] args) {\n        System.out.println(describe(\"Hello\"));\n    }\n}",
              "solution": "// Solution: Pattern Matching for instanceof\npublic class Solution {\n    public static String describe(Object obj) {\n        if (obj instanceof String s) {\n            return \"String: \" + s;\n        } else if (obj instanceof Integer n) {\n            return \"Number: \" + n;\n        } else {\n            return \"Unknown\";\n        }\n    }\n    \n    public static void main(String[] args) {\n        System.out.println(describe(\"Hello\"));\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-0-lesson-5-pattern-instanceof-test-1",
                  "description": "Should return 'String: Hello'",
                  "expectedOutput": "String: Hello",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 1,
                  "text": "Pattern matching: if (obj instanceof String s) - s is now a String"
                },
                {
                  "level": 2,
                  "text": "You don't need to cast after the pattern match - the variable is already the correct type"
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Casting after instanceof with pattern matching",
                  "consequence": "Unnecessary code",
                  "correction": "The pattern variable is already the correct type"
                }
              ],
              "difficulty": "intermediate"
            },
            {
              "type": "FREE_CODING",
              "id": "epoch-0-lesson-5-switch-yield",
              "title": "Switch Expression with yield",
              "description": "Create a method getGrade(int score) that returns:\n- 90-100: \"A\" (print \"Excellent!\" too)\n- 80-89: \"B\"\n- 70-79: \"C\"\n- 60-69: \"D\"\n- below 60: \"F\"\n\nUse switch expression with yield for the A grade case.\n\nTest: getGrade(95) should print \"Excellent!\" and return \"A\"",
              "instructions": "Create a method getGrade(int score) that returns:\n- 90-100: \"A\" (print \"Excellent!\" too)\n- 80-89: \"B\"\n- 70-79: \"C\"\n- 60-69: \"D\"\n- below 60: \"F\"\n\nUse switch expression with yield for the A grade case.",
              "starterCode": "// Switch Expression with yield\n// Write your code below\n\npublic class Solution {\n    public static String getGrade(int score) {\n        // Use switch expression with yield here\n    }\n    \n    public static void main(String[] args) {\n        System.out.println(getGrade(95));\n    }\n}",
              "solution": "// Solution: Switch Expression with yield\npublic class Solution {\n    public static String getGrade(int score) {\n        return switch (score / 10) {\n            case 10, 9 -> {\n                System.out.println(\"Excellent!\");\n                yield \"A\";\n            }\n            case 8 -> \"B\";\n            case 7 -> \"C\";\n            case 6 -> \"D\";\n            default -> \"F\";\n        };\n    }\n    \n    public static void main(String[] args) {\n        System.out.println(getGrade(95));\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-0-lesson-5-switch-yield-test-1",
                  "description": "Should print 'Excellent!' then 'A'",
                  "expectedOutput": "Excellent!\nA",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 1,
                  "text": "Divide score by 10 to get a single digit for the switch"
                },
                {
                  "level": 2,
                  "text": "Use { } block with yield for multiple statements: case 9 -> { print(); yield \"A\"; }"
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Using return instead of yield in switch expression block",
                  "consequence": "Compilation error",
                  "correction": "Use yield to return a value from a switch expression block"
                }
              ],
              "difficulty": "intermediate"
            }
          ]
        }
      ]
    },
    {
      "id": "module-02",
      "title": "Data Types, Loops, and Methods",
      "description": "Deep dive into data types, operators, loops, and writing reusable methods.",
      "difficulty": "beginner",
      "estimatedHours": 3.4,
      "lessons": [
        {
          "id": "epoch-1-lesson-1",
          "title": "Lesson 1.1: Data Types in Depth",
          "moduleId": "module-02",
          "order": 1,
          "estimatedMinutes": 30,
          "difficulty": "beginner",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: Different Kinds of Information",
              "content": "You've learned that variables store information. But not all information is the same:\n\n• Your age: a whole number (25)\n• Your bank balance: a decimal number (1,234.56)\n• Your name: text (\"Alice\")\n• Whether you're logged in: true or false\n\nJava needs to know WHAT KIND of data each variable holds because:\n1. Different types use different amounts of memory\n2. Different types support different operations (you can't multiply text!)\n3. This prevents bugs (accidentally treating a number as text)\n\nThink of it like containers: you wouldn't store soup in a paper bag or carry books in a bucket. The container (type) must match what you're storing (data)."
            },
            {
              "type": "KEY_POINT",
              "title": "Data Types are Like Kitchen Containers",
              "content": "In a kitchen, you have different containers for different things:\n\n🥛 Glass (int) - For whole items: 5 apples, 12 eggs, 100 cookies\n   Can't hold half items. Either you have 5 apples or 6, not 5.5.\n\n🍶 Measuring Cup (double) - For liquids: 2.5 cups of water, 1.75 liters\n   Can hold precise decimal amounts.\n\n📝 Label Maker (String) - For text: \"Flour\", \"Sugar\", \"Hello World\"\n   Stores words and sentences.\n\n🔲 Checkbox (boolean) - For yes/no: oven on? true/false\n   Only two possible values: true or false.\n\nEach container (data type) is designed for a specific purpose!"
            },
            {
              "type": "THEORY",
              "title": "The Four Essential Data Types",
              "content": "Java has several data types, but beginners need to master these four:\n\n1. int (INTEGER - whole numbers)\n   int age = 25;\n   int score = -10;  // Can be negative\n   int population = 8000000;\n   Range: -2 billion to +2 billion (approximately)\n   Use for: counts, ages, scores, quantities\n\n2. double (DECIMAL NUMBERS)\n   double price = 19.99;\n   double temperature = -3.5;\n   double pi = 3.14159;\n   Use for: money, measurements, scientific calculations\n   Note: Called 'double' because it uses double the memory of old 'float' type\n\n3. String (TEXT)\n   String name = \"Alice\";\n   String message = \"Hello, World!\";\n   String empty = \"\";  // Empty string\n   MUST use double quotes: \"like this\"\n   Note: String is capitalized (it's technically an object, not primitive)\n\n4. boolean (TRUE/FALSE)\n   boolean isLoggedIn = true;\n   boolean gameOver = false;\n   boolean hasWon = score > 100;\n   Only two values: true or false (lowercase!)\n   Use for: flags, conditions, yes/no questions"
            },
            {
              "type": "THEORY",
              "title": "Type Conversion and Common Mistakes",
              "content": "⚠️ Java is STRICT about types:\n\nWRONG:\nint x = 3.14;  // ERROR! Can't put decimal in int\nString age = 25;  // ERROR! Numbers need quotes to be Strings\n\nCORRECT:\nint x = 3;  // Whole number for int\ndouble y = 3.14;  // Decimal for double\nString age = \"25\";  // Text needs quotes\n\nConverting between types:\nint age = 25;\nString ageText = \"\" + age;  // Converts to \"25\"\n// OR\nString ageText = String.valueOf(age);\n\ndouble price = 19.99;\nint dollars = (int) price;  // Truncates to 19 (loses .99!)\n\nKey rule: Java won't automatically convert if data could be lost."
            },
            {
              "type": "KEY_POINT",
              "title": "Choosing the Right Type",
              "content": "How to decide which type to use:\n\nAsk yourself:\n1. Is it a number? → int or double\n   - Whole number? → int\n   - Needs decimals? → double\n\n2. Is it text? → String\n   - Even if it looks like a number (\"123\") but you're not doing math\n\n3. Is it yes/no, on/off, true/false? → boolean\n\nExamples:\n✓ int numberOfStudents = 30;  // Counting people\n✓ double temperature = 98.6;  // Needs precision\n✓ String username = \"alice2024\";  // Text identifier\n✓ boolean isValid = true;  // Yes/no flag\n\n✗ double numberOfStudents = 30.0;  // Wasteful (don't need decimals)\n✗ int price = 20;  // Risky (what about $20.50?)\n✗ String isValid = \"true\";  // Wrong type (should be boolean)"
            }
          ],
          "challenges": [
            {
              "type": "FREE_CODING",
              "id": "epoch-1-lesson-1-variables",
              "title": "Creating Multiple Data Types",
              "description": "Create four variables with different data types:\n1. int age = 28\n2. double price = 15.99\n3. String name = \"Bob\"\n4. boolean isActive = true\n\nThen print the 'name' variable.\n\nRemember: Strings need double quotes!",
              "instructions": "Create four variables with different data types:\n1. int age = 28\n2. double price = 15.99\n3. String name = \"Bob\"\n4. boolean isActive = true\n\nThen print the 'name' variable.\n\nRemember: Strings need double quotes!",
              "starterCode": "// Creating Multiple Data Types\n// Write your code below\n\npublic class Solution {\n    public static void main(String[] args) {\n        \n    }\n}",
              "solution": "// Solution: Creating Multiple Data Types\n// This demonstrates using different data types in Java\n\npublic class Solution {\n    public static void main(String[] args) {\n        // Create four variables with different data types\n        int age = 28;              // Integer for whole numbers\n        double price = 15.99;      // Double for decimal numbers\n        String name = \"Bob\";       // String for text (note double quotes)\n        boolean isActive = true;   // Boolean for true/false values\n        \n        // Print the name variable\n        System.out.println(name);\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-1-lesson-1-variables-test-1",
                  "description": "Should print 'Bob'",
                  "expectedOutput": "Bob",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 1,
                  "text": "Use the print/println function to display output."
                },
                {
                  "level": 1,
                  "text": "Create a variable to store your value. In java, use appropriate syntax."
                },
                {
                  "level": 2,
                  "text": "Use an if statement to check the condition."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            },
            {
              "type": "FREE_CODING",
              "id": "epoch-1-lesson-1-student",
              "title": "Student Profile",
              "description": "Create a student profile with the following variables:\n- String studentName = \"Alice\"\n- int studentAge = 20\n- double gpa = 3.85\n- boolean isEnrolled = true\n\nThen print: Alice is 20 years old\n\nHint: System.out.println(studentName + \" is \" + studentAge + \" years old\");",
              "instructions": "Create a student profile with the following variables:\n- String studentName = \"Alice\"\n- int studentAge = 20\n- double gpa = 3.85\n- boolean isEnrolled = true\n\nThen print: Alice is 20 years old\n\nHint: System.out.println(studentName + \" is \" + studentAge + \" years old\");",
              "starterCode": "// Student Profile\n// Write your code below\n\npublic class Solution {\n    public static void main(String[] args) {\n        \n    }\n}",
              "solution": "// Solution: Student Profile\n// This demonstrates string concatenation with variables\n\npublic class Solution {\n    public static void main(String[] args) {\n        // Create the student profile variables\n        String studentName = \"Alice\";\n        int studentAge = 20;\n        double gpa = 3.85;\n        boolean isEnrolled = true;\n        \n        // Print the formatted message using string concatenation\n        System.out.println(studentName + \" is \" + studentAge + \" years old\");\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-1-lesson-1-student-test-1",
                  "description": "Should print student info correctly",
                  "expectedOutput": "Alice is 20 years old",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 1,
                  "text": "Use the print/println function to display output."
                },
                {
                  "level": 1,
                  "text": "Create a variable to store your value. In java, use appropriate syntax."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            }
          ]
        },
        {
          "id": "epoch-1-lesson-2",
          "title": "Lesson 1.2: Operators and Expressions",
          "moduleId": "module-02",
          "order": 2,
          "estimatedMinutes": 30,
          "difficulty": "beginner",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: Doing Math with Variables",
              "content": "You can store numbers in variables, but programs need to DO THINGS with those numbers:\n\n• A calculator adds, subtracts, multiplies, divides\n• A game tracks score: score = score + 10\n• A store calculates total: price * quantity\n• A thermometer converts: fahrenheit = (celsius * 9/5) + 32\n\nJava provides OPERATORS—symbols that perform operations on values.\n\nThink of operators as the buttons on a calculator: +, -, ×, ÷"
            },
            {
              "type": "KEY_POINT",
              "title": "Operators are Calculator Buttons",
              "content": "Imagine a calculator:\n\nYou press: 5 [+] 3 [=]\nResult: 8\n\nIn Java:\nint result = 5 + 3;  // result is 8\n\nThe '+' is an OPERATOR. It takes two values (5 and 3) and produces a result (8).\n\nJust like a calculator has buttons for +, -, ×, ÷, Java has operator symbols:\n+ for addition\n- for subtraction\n* for multiplication (can't use × symbol!)\n/ for division\n% for remainder (modulo)"
            },
            {
              "type": "THEORY",
              "title": "The Five Basic Arithmetic Operators",
              "content": "1. ADDITION (+)\n   int sum = 10 + 5;     // sum is 15\n   int x = 7;\n   int y = 3;\n   int total = x + y;    // total is 10\n\n2. SUBTRACTION (-)\n   int difference = 10 - 5;  // 5\n   int age = 30;\n   int yearsAgo = age - 10;  // 20\n\n3. MULTIPLICATION (*)\n   int product = 10 * 5;     // 50\n   int price = 20;\n   int quantity = 3;\n   int total = price * quantity;  // 60\n\n4. DIVISION (/)\n   int quotient = 10 / 5;    // 2\n   ⚠️ WARNING: int division truncates decimals!\n   int result = 10 / 3;      // 3 (not 3.333...)\n   double result = 10.0 / 3; // 3.333...\n\n5. MODULO (%) - Remainder after division\n   int remainder = 10 % 3;   // 1 (10 ÷ 3 = 3 remainder 1)\n   int rem = 17 % 5;         // 2 (17 ÷ 5 = 3 remainder 2)\n   Use cases: Check if even (x % 2 == 0), cycle through values"
            },
            {
              "type": "THEORY",
              "title": "Order of Operations (PEMDAS)",
              "content": "Just like in math, Java follows order of operations:\n\nParentheses → Multiplication/Division → Addition/Subtraction\n\nExamples:\nint result = 5 + 3 * 2;     // 11 (not 16!)\n// Multiply first: 3 * 2 = 6, then add: 5 + 6 = 11\n\nint result = (5 + 3) * 2;   // 16\n// Parentheses first: 5 + 3 = 8, then multiply: 8 * 2 = 16\n\nint result = 10 / 2 + 3;    // 8\n// Divide first: 10 / 2 = 5, then add: 5 + 3 = 8\n\nWhen in doubt, use parentheses to be explicit:\nint total = (price * quantity) + tax;  // Clear intent"
            },
            {
              "type": "THEORY",
              "title": "Shorthand Operators",
              "content": "Java provides shortcuts for common patterns:\n\n1. INCREMENT (add 1)\n   int score = 10;\n   score++;  // Same as: score = score + 1\n   // score is now 11\n\n2. DECREMENT (subtract 1)\n   int lives = 3;\n   lives--;  // Same as: lives = lives - 1\n   // lives is now 2\n\n3. COMPOUND ASSIGNMENT\n   int x = 10;\n   x += 5;   // Same as: x = x + 5  (x is 15)\n   x -= 3;   // Same as: x = x - 3  (x is 12)\n   x *= 2;   // Same as: x = x * 2  (x is 24)\n   x /= 4;   // Same as: x = x / 4  (x is 6)\n\nThese are VERY common in real code!"
            },
            {
              "type": "KEY_POINT",
              "title": "Common Mistakes to Avoid",
              "content": "❌ WRONG: int result = 5 x 3;  (x is not an operator)\n✓ CORRECT: int result = 5 * 3;\n\n❌ WRONG: int half = 10 / 2.0;  (can't assign double to int)\n✓ CORRECT: double half = 10 / 2.0;\n\n❌ WRONG: int result = 10 / 3;  // Thinking this gives 3.33\n✓ CORRECT: double result = 10.0 / 3.0;  // This gives 3.33\n\n❌ WRONG: x =+ 5;  (This assigns 5, doesn't add!)\n✓ CORRECT: x += 5;  (This adds 5 to x)\n\nRemember: In integer division, the decimal part is thrown away!\n7 / 2 = 3 (not 3.5)"
            }
          ],
          "challenges": [
            {
              "type": "FREE_CODING",
              "id": "epoch-1-lesson-2-calc",
              "title": "Basic Calculator",
              "description": "Given: int a = 20 and int b = 5\n\nCalculate: (a + b) * 2\nStore the result in a variable called 'result'\nThen print the result.\n\nExpected output: 50\n(Because 20 + 5 = 25, and 25 * 2 = 50)",
              "instructions": "Given: int a = 20 and int b = 5\n\nCalculate: (a + b) * 2\nStore the result in a variable called 'result'\nThen print the result.\n\nExpected output: 50\n(Because 20 + 5 = 25, and 25 * 2 = 50)",
              "starterCode": "// Basic Calculator\n// Write your code below\n\npublic class Solution {\n    public static void main(String[] args) {\n        \n    }\n}",
              "solution": "// Solution: Basic Calculator\n// This demonstrates arithmetic operators and order of operations\n\npublic class Solution {\n    public static void main(String[] args) {\n        // Create variables a and b\n        int a = 20;\n        int b = 5;\n        \n        // Calculate (a + b) * 2 using parentheses for order of operations\n        int result = (a + b) * 2;\n        \n        // Print the result\n        System.out.println(result);\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-1-lesson-2-calc-test-1",
                  "description": "Should calculate (20 + 5) * 2 = 50",
                  "expectedOutput": "50",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 1,
                  "text": "Use the print/println function to display output."
                },
                {
                  "level": 1,
                  "text": "Create a variable to store your value. In java, use appropriate syntax."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            },
            {
              "type": "FREE_CODING",
              "id": "epoch-1-lesson-2-compound",
              "title": "Using Compound Operators",
              "description": "Starting with: int score = 100\n\n1. Add 50 to score using the += operator\n2. Subtract 30 from score using the -= operator\n3. Print the final score\n\nExpected output: 120\n(100 + 50 - 30 = 120)",
              "instructions": "Starting with: int score = 100\n\n1. Add 50 to score using the += operator\n2. Subtract 30 from score using the -= operator\n3. Print the final score\n\nExpected output: 120\n(100 + 50 - 30 = 120)",
              "starterCode": "// Using Compound Operators\n// Write your code below\n\npublic class Solution {\n    public static void main(String[] args) {\n        \n    }\n}",
              "solution": "// Solution: Using Compound Operators\n// This demonstrates compound assignment operators (+=, -=)\n\npublic class Solution {\n    public static void main(String[] args) {\n        // Start with score = 100\n        int score = 100;\n        \n        // Add 50 using += operator\n        score += 50;  // score is now 150\n        \n        // Subtract 30 using -= operator\n        score -= 30;  // score is now 120\n        \n        // Print the final score\n        System.out.println(score);\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-1-lesson-2-compound-test-1",
                  "description": "Should output 120",
                  "expectedOutput": "120",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 1,
                  "text": "Use the print/println function to display output."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            }
          ]
        },
        {
          "id": "epoch-1-lesson-3",
          "title": "Lesson 1.3: While Loops - Mastering Repetition",
          "moduleId": "module-02",
          "order": 3,
          "estimatedMinutes": 35,
          "difficulty": "beginner",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: Repeating Tasks",
              "content": "Imagine you need to print \"Hello\" 100 times. You COULD write:\n\nSystem.out.println(\"Hello\");\nSystem.out.println(\"Hello\");\nSystem.out.println(\"Hello\");\n// ...97 more times!\n\nThis is:\n❌ Tedious to write\n❌ Error-prone (did you type exactly 100?)\n❌ Hard to change (what if you need 1000?)\n\nReal-world examples of repetition:\n• A game runs the same game loop thousands of times\n• A server checks for new requests continuously\n• You scroll through a list of items one by one\n\nYou need a way to say: \"KEEP DOING THIS until a condition is met.\"\n\nThis is what LOOPS do!"
            },
            {
              "type": "KEY_POINT",
              "title": "Loops are Like \"Simon Says\" Rules",
              "content": "Remember the game \"Simon Says\"?\n\n\"Keep jumping while I'm clapping\"\n\nYou KEEP jumping (repeating the action) WHILE the condition (clapping) is true.\nWhen the clapping stops (condition becomes false), you stop jumping.\n\nA while loop works the same way:\n\nwhile (condition is true) {\n    keep doing this\n}\n\nAnother analogy: Brushing your teeth\n\nwhile (teeth are dirty) {\n    brush teeth;\n}\n\nYou keep brushing WHILE the condition (teeth are dirty) is true.\nOnce your teeth are clean (condition is false), you stop."
            },
            {
              "type": "THEORY",
              "title": "While Loop Syntax",
              "content": "The basic structure:\n\nwhile (condition) {\n    // Code to repeat\n}\n\nReal example - Count to 5:\n\nint count = 1;\nwhile (count <= 5) {\n    System.out.println(count);\n    count++;  // CRITICAL: Change the condition!\n}\n\nHow it works:\n1. Check: Is count <= 5? (1 <= 5? YES)\n2. Run code: Print 1, then count becomes 2\n3. Check again: Is count <= 5? (2 <= 5? YES)\n4. Run code: Print 2, then count becomes 3\n5. Repeat until count is 6\n6. Check: Is count <= 5? (6 <= 5? NO)\n7. STOP - exit the loop\n\nOutput: 1 2 3 4 5"
            },
            {
              "type": "THEORY",
              "title": "The Infinite Loop Danger",
              "content": "⚠️ CRITICAL MISTAKE: Forgetting to change the condition\n\nWRONG:\nint count = 1;\nwhile (count <= 5) {\n    System.out.println(count);\n    // Forgot count++!\n}\n\nThis creates an INFINITE LOOP:\n- count is always 1\n- 1 <= 5 is always true\n- Loop runs FOREVER\n- Your program hangs/crashes\n\nGOLDEN RULE: Always modify the loop variable inside the loop!\n\nCommon patterns:\n• Counting up: count++\n• Counting down: count--\n• Reading input: get next value from user"
            },
            {
              "type": "KEY_POINT",
              "title": "When to Use While Loops",
              "content": "Use a while loop when:\n\n✓ You DON'T know how many times to repeat in advance\n   - \"Keep asking until user enters valid input\"\n   - \"Keep running game until player loses all lives\"\n\n✓ The repetition depends on a condition\n   - while (userIsLoggedIn) { ... }\n   - while (hasMoreData) { ... }\n\nExample patterns:\n\n// Sum numbers from 1 to 10\nint sum = 0;\nint n = 1;\nwhile (n <= 10) {\n    sum += n;  // Add n to sum\n    n++;       // Move to next number\n}\n// sum is now 55\n\n// Countdown\nint countdown = 5;\nwhile (countdown > 0) {\n    System.out.println(countdown);\n    countdown--;\n}\nSystem.out.println(\"Blast off!\");\n// Prints: 5 4 3 2 1 Blast off!"
            }
          ],
          "challenges": [
            {
              "type": "FREE_CODING",
              "id": "epoch-1-lesson-3-count",
              "title": "Count to 10",
              "description": "Write a while loop that prints the numbers 1 through 10, each on a separate line.\n\nSteps:\n1. Create a variable 'i' starting at 1\n2. Create a while loop that runs while i <= 10\n3. Inside the loop, print i\n4. Increment i (i++)\n\nExpected output:\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10",
              "instructions": "Write a while loop that prints the numbers 1 through 10, each on a separate line.\n\nSteps:\n1. Create a variable 'i' starting at 1\n2. Create a while loop that runs while i <= 10\n3. Inside the loop, print i\n4. Increment i (i++)\n\nExpected output:\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10",
              "starterCode": "// Count to 10\n// Write your code below\n\npublic class Solution {\n    public static void main(String[] args) {\n        \n    }\n}",
              "solution": "// Solution: Count to 10\n// This demonstrates while loops for counting\n\npublic class Solution {\n    public static void main(String[] args) {\n        // Step 1: Create counter variable starting at 1\n        int i = 1;\n        \n        // Step 2: Loop while i <= 10\n        while (i <= 10) {\n            // Step 3: Print the current value\n            System.out.println(i);\n            \n            // Step 4: Increment i (CRITICAL to avoid infinite loop!)\n            i++;\n        }\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-1-lesson-3-count-test-1",
                  "description": "Should print numbers 1 to 10",
                  "expectedOutput": "1\n2\n3\n4\n5\n6\n7\n8\n9\n10",
                  "isVisible": true
                },
                {
                  "id": "epoch-1-lesson-3-count-test-2",
                  "description": "Loop should start at 1 (not 0)",
                  "expectedOutput": "1\n2\n3\n4\n5\n6\n7\n8\n9\n10",
                  "isVisible": false
                },
                {
                  "id": "epoch-1-lesson-3-count-test-3",
                  "description": "Loop should include 10 (check boundary condition)",
                  "expectedOutput": "1\n2\n3\n4\n5\n6\n7\n8\n9\n10",
                  "isVisible": false
                }
              ],
              "hints": [
                {
                  "level": 1,
                  "text": "Use the print/println function to display output."
                },
                {
                  "level": 1,
                  "text": "Create a variable to store your value. In java, use appropriate syntax."
                },
                {
                  "level": 2,
                  "text": "Use a for loop or while loop to repeat the operation."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            },
            {
              "type": "FREE_CODING",
              "id": "epoch-1-lesson-3-sum",
              "title": "Sum with While Loop",
              "description": "Use a while loop to calculate the sum of numbers from 1 to 5.\n\nSteps:\n1. Create variable 'sum' starting at 0\n2. Create variable 'n' starting at 1\n3. While n <= 5:\n   - Add n to sum (sum += n)\n   - Increment n\n4. Print the final sum\n\nExpected output: 15\n(Because 1 + 2 + 3 + 4 + 5 = 15)",
              "instructions": "Use a while loop to calculate the sum of numbers from 1 to 5.\n\nSteps:\n1. Create variable 'sum' starting at 0\n2. Create variable 'n' starting at 1\n3. While n <= 5:\n   - Add n to sum (sum += n)\n   - Increment n\n4. Print the final sum\n\nExpected output: 15\n(Because 1 + 2 + 3 + 4 + 5 = 15)",
              "starterCode": "// Sum with While Loop\n// Write your code below\n\npublic class Solution {\n    public static void main(String[] args) {\n        \n    }\n}",
              "solution": "// Solution: Sum with While Loop\n// This demonstrates using while loops for accumulation\n\npublic class Solution {\n    public static void main(String[] args) {\n        // Step 1: Create sum variable to accumulate the total\n        int sum = 0;\n        \n        // Step 2: Create counter variable starting at 1\n        int n = 1;\n        \n        // Step 3: Loop while n <= 5\n        while (n <= 5) {\n            // Add n to sum\n            sum += n;\n            \n            // Increment n\n            n++;\n        }\n        \n        // Step 4: Print the final sum\n        System.out.println(sum);\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-1-lesson-3-sum-test-1",
                  "description": "Should calculate sum 1+2+3+4+5 = 15",
                  "expectedOutput": "15",
                  "isVisible": true
                },
                {
                  "id": "epoch-1-lesson-3-sum-test-2",
                  "description": "Sum should start at 0 (accumulator pattern)",
                  "expectedOutput": "15",
                  "isVisible": false
                },
                {
                  "id": "epoch-1-lesson-3-sum-test-3",
                  "description": "Loop should include 5 in the sum",
                  "expectedOutput": "15",
                  "isVisible": false
                }
              ],
              "hints": [
                {
                  "level": 1,
                  "text": "Use the print/println function to display output."
                },
                {
                  "level": 1,
                  "text": "Create a variable to store your value. In java, use appropriate syntax."
                },
                {
                  "level": 2,
                  "text": "Use a for loop or while loop to repeat the operation."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            }
          ]
        },
        {
          "id": "epoch-1-lesson-4",
          "title": "Lesson 1.4: For Loops - Counting Made Easy",
          "moduleId": "module-02",
          "order": 4,
          "estimatedMinutes": 30,
          "difficulty": "beginner",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: While Loops for Counting Feel Clunky",
              "content": "You learned to count with a while loop:\n\nint i = 1;\nwhile (i <= 10) {\n    System.out.println(i);\n    i++;\n}\n\nThis works, but notice the pattern:\n1. INITIALIZE a counter (int i = 1)\n2. CHECK a condition (i <= 10)\n3. UPDATE the counter (i++)\n\nThese three pieces are scattered across 4 lines! When you're just COUNTING, this feels messy.\n\nJava provides a cleaner syntax for this exact pattern: the FOR LOOP.\n\nThe same code with a for loop:\n\nfor (int i = 1; i <= 10; i++) {\n    System.out.println(i);\n}\n\nAll three pieces (init, condition, update) are on ONE line!"
            },
            {
              "type": "KEY_POINT",
              "title": "For Loops are Like a Recipe's Prep List",
              "content": "Imagine a recipe that says:\n\n\"For each of the 12 muffin cups: fill with batter, bake for 20 minutes\"\n\nIn Java:\n\nfor (cup 1 to 12) {\n    fill cup with batter;\n    bake cup;\n}\n\nThe recipe header tells you:\n- START: cup 1\n- STOP WHEN: you've done 12\n- EACH TIME: move to the next cup\n\nA for loop packages all this information upfront, making it crystal clear:\n\"I'm going to do this task a specific number of times.\""
            },
            {
              "type": "THEORY",
              "title": "For Loop Syntax",
              "content": "for (initialization; condition; update) {\n    // Code to repeat\n}\n\nThree parts separated by semicolons:\n\n1. INITIALIZATION: Run once at the start\n   int i = 0  (Create counter, set starting value)\n\n2. CONDITION: Check before each iteration\n   i < 10  (Keep going while this is true)\n\n3. UPDATE: Run after each iteration\n   i++  (Change the counter)\n\nExample - Print 0 to 4:\n\nfor (int i = 0; i < 5; i++) {\n    System.out.println(i);\n}\n\nExecution flow:\n1. int i = 0  (i is 0)\n2. Check: i < 5? YES → run code (print 0)\n3. Update: i++ (i is now 1)\n4. Check: i < 5? YES → run code (print 1)\n5. Update: i++ (i is now 2)\n... continues until i is 5\n6. Check: i < 5? NO → stop\n\nOutput: 0 1 2 3 4"
            },
            {
              "type": "THEORY",
              "title": "Common For Loop Patterns",
              "content": "1. COUNT FROM 0 TO N (exclusive)\nfor (int i = 0; i < 10; i++) {\n    // Runs 10 times: i = 0, 1, 2...9\n}\nThis is THE most common pattern in programming!\n\n2. COUNT FROM 1 TO N (inclusive)\nfor (int i = 1; i <= 10; i++) {\n    // Runs 10 times: i = 1, 2, 3...10\n}\n\n3. COUNT BACKWARDS\nfor (int i = 10; i > 0; i--) {\n    // Runs 10 times: i = 10, 9, 8...1\n}\n\n4. COUNT BY 2s\nfor (int i = 0; i < 10; i += 2) {\n    // Runs 5 times: i = 0, 2, 4, 6, 8\n}\n\n5. ITERATE OVER CHARACTERS\nString word = \"Hello\";\nfor (int i = 0; i < word.length(); i++) {\n    System.out.println(word.charAt(i));\n    // Prints: H e l l o (each on new line)\n}"
            },
            {
              "type": "KEY_POINT",
              "title": "While vs For: When to Use Each",
              "content": "Use FOR when:\n✓ You know how many times to loop\n✓ You're counting or iterating\n✓ You have a clear start, end, and step\n\nfor (int i = 0; i < 100; i++) { ... }  // \"Do this 100 times\"\n\nUse WHILE when:\n✓ You DON'T know how many times to loop\n✓ The condition is complex\n✓ Not necessarily counting\n\nwhile (userWantsMore) { ... }  // \"Keep going until user says stop\"\n\nRule of thumb:\nCounting → for\nCondition-based → while"
            }
          ],
          "challenges": [
            {
              "type": "FREE_CODING",
              "id": "epoch-1-lesson-4-numbers",
              "title": "Print 1 to 5",
              "description": "Write a for loop that prints the numbers 1 through 5, each on a separate line.\n\nUse the pattern: for (int i = 1; i <= 5; i++)\n\nExpected output:\n1\n2\n3\n4\n5",
              "instructions": "Write a for loop that prints the numbers 1 through 5, each on a separate line.\n\nUse the pattern: for (int i = 1; i <= 5; i++)\n\nExpected output:\n1\n2\n3\n4\n5",
              "starterCode": "// Print 1 to 5\n// Write your code below\n\npublic class Solution {\n    public static void main(String[] args) {\n        \n    }\n}",
              "solution": "// Solution: Print 1 to 5\n// This demonstrates the for loop syntax\n\npublic class Solution {\n    public static void main(String[] args) {\n        // For loop: initialization; condition; update\n        // i starts at 1, runs while i <= 5, increments by 1 each time\n        for (int i = 1; i <= 5; i++) {\n            System.out.println(i);\n        }\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-1-lesson-4-numbers-test-1",
                  "description": "Should print 1 through 5",
                  "expectedOutput": "1\n2\n3\n4\n5",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 1,
                  "text": "Use the print/println function to display output."
                },
                {
                  "level": 2,
                  "text": "Use a for loop or while loop to repeat the operation."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            },
            {
              "type": "FREE_CODING",
              "id": "epoch-1-lesson-4-multable",
              "title": "5 Times Table",
              "description": "Use a for loop to print the 5 times table.\n\nLoop from i = 1 to i = 5\nEach iteration, print: i * 5\n\nExpected output:\n5\n10\n15\n20\n25",
              "instructions": "Use a for loop to print the 5 times table.\n\nLoop from i = 1 to i = 5\nEach iteration, print: i * 5\n\nExpected output:\n5\n10\n15\n20\n25",
              "starterCode": "// 5 Times Table\n// Write your code below\n\npublic class Solution {\n    public static void main(String[] args) {\n        \n    }\n}",
              "solution": "// Solution: 5 Times Table\n// This demonstrates multiplication within a for loop\n\npublic class Solution {\n    public static void main(String[] args) {\n        // Loop from 1 to 5\n        for (int i = 1; i <= 5; i++) {\n            // Print i multiplied by 5\n            System.out.println(i * 5);\n        }\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-1-lesson-4-multable-test-1",
                  "description": "Should print 5, 10, 15, 20, 25",
                  "expectedOutput": "5\n10\n15\n20\n25",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 1,
                  "text": "Use the print/println function to display output."
                },
                {
                  "level": 2,
                  "text": "Use a for loop or while loop to repeat the operation."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            },
            {
              "type": "FREE_CODING",
              "id": "epoch-1-lesson-4-countdown",
              "title": "Rocket Countdown",
              "description": "Create a countdown from 5 to 1, then print \"Liftoff!\"\n\nUse a for loop that:\n- Starts at 5\n- Runs while i > 0\n- Decrements with i--\n\nExpected output:\n5\n4\n3\n2\n1\nLiftoff!",
              "instructions": "Create a countdown from 5 to 1, then print \"Liftoff!\"\n\nUse a for loop that:\n- Starts at 5\n- Runs while i > 0\n- Decrements with i--\n\nExpected output:\n5\n4\n3\n2\n1\nLiftoff!",
              "starterCode": "// Rocket Countdown\n// Write your code below\n\npublic class Solution {\n    public static void main(String[] args) {\n        \n    }\n}",
              "solution": "// Solution: Rocket Countdown\n// This demonstrates counting backwards with a for loop\n\npublic class Solution {\n    public static void main(String[] args) {\n        // For loop: start at 5, run while i > 0, decrement each time\n        for (int i = 5; i > 0; i--) {\n            System.out.println(i);\n        }\n        \n        // Print \"Liftoff!\" after the countdown\n        System.out.println(\"Liftoff!\");\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-1-lesson-4-countdown-test-1",
                  "description": "Should countdown and print Liftoff!",
                  "expectedOutput": "5\n4\n3\n2\n1\nLiftoff!",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 1,
                  "text": "Use the print/println function to display output."
                },
                {
                  "level": 2,
                  "text": "Use a for loop or while loop to repeat the operation."
                },
                {
                  "level": 2,
                  "text": "Use an if statement to check the condition."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            }
          ]
        },
        {
          "id": "epoch-1-lesson-5",
          "title": "Lesson 1.5: Introduction to Methods",
          "moduleId": "module-02",
          "order": 5,
          "estimatedMinutes": 35,
          "difficulty": "beginner",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: Copy-Pasting Code is Dangerous",
              "content": "Imagine you need to greet different people in your program:\n\nSystem.out.println(\"Hello, Alice!\");\nSystem.out.println(\"Welcome, Alice!\");\nSystem.out.println(\"Goodbye, Alice!\");\n\nSystem.out.println(\"Hello, Bob!\");\nSystem.out.println(\"Welcome, Bob!\");\nSystem.out.println(\"Goodbye, Bob!\");\n\nThis is:\n❌ Repetitive (same pattern, different name)\n❌ Hard to change (what if you want to add another line?)\n❌ Error-prone (easy to make typos)\n\nWhat if you could define the greeting pattern ONCE, and then just say:\ngreet(\"Alice\");\ngreet(\"Bob\");\n\nThis is what METHODS (also called functions) do! They let you package code into reusable chunks."
            },
            {
              "type": "KEY_POINT",
              "title": "Methods are Like Vending Machine Buttons",
              "content": "Think of a vending machine:\n\n1. You press button \"A1\"\n2. The machine runs a sequence: move arm → grab item → drop item\n3. You get your snack\n\nYou don't need to know HOW the machine works internally. You just press the button (call the method) and get the result.\n\nIn programming:\n\ncalculateTax(100)  ← Press the button (input: 100)\n↓ Internal magic happens\nReturns: 8  ← You get the result\n\nA method is a button with a name. When you \"press\" it (call it), it runs some code and can give you back a result.\n\nAnother analogy: A recipe\nRecipe name: \"Make Pancakes\"\nInputs (ingredients): flour, eggs, milk\nSteps: mix, cook, flip\nOutput: delicious pancakes\n\nmakePancakes(flour, eggs, milk) → pancakes"
            },
            {
              "type": "THEORY",
              "title": "Method Syntax - The Basics",
              "content": "A method has several parts:\n\npublic static RETURN_TYPE methodName(PARAMETERS) {\n    // Code to run\n    return result;  // If return type isn't void\n}\n\nLet's break it down:\n\n1. 'public static' - For now, always write these (you'll understand later)\n2. RETURN_TYPE - What the method gives back (int, double, String, or 'void' for nothing)\n3. methodName - What you call it (use camelCase: calculateSum, printMessage)\n4. PARAMETERS - Inputs in parentheses (like variables: int x, String name)\n5. CODE BLOCK - What the method does\n6. 'return' - Sends the result back (not needed if return type is 'void')\n\nExample 1: Method that returns nothing (void)\n\npublic static void sayHello() {\n    System.out.println(\"Hello!\");\n}\n\nCalling it:\nsayHello();  // Prints: Hello!\n\nExample 2: Method that returns a value\n\npublic static int addNumbers(int a, int b) {\n    int sum = a + b;\n    return sum;\n}\n\nCalling it:\nint result = addNumbers(5, 3);  // result is 8"
            },
            {
              "type": "THEORY",
              "title": "Parameters and Return Values",
              "content": "PARAMETERS: Inputs to the method\n\npublic static void greet(String name) {\n    System.out.println(\"Hello, \" + name + \"!\");\n}\n\ngreet(\"Alice\");  // Prints: Hello, Alice!\ngreet(\"Bob\");    // Prints: Hello, Bob!\n\n'name' is a parameter—a variable that gets its value when you call the method.\n\nRETURN VALUES: Outputs from the method\n\npublic static int square(int number) {\n    return number * number;\n}\n\nint result = square(5);  // result is 25\nint x = square(10);      // x is 100\n\nThe 'return' keyword sends the value back to wherever the method was called.\n\nThink of it like:\n- Parameters = ingredients you give to a chef\n- Return value = the dish the chef gives back"
            },
            {
              "type": "KEY_POINT",
              "title": "void vs Returning a Value",
              "content": "When to use 'void' (no return value):\n✓ Method performs an action (print, modify something)\n✓ You don't need a result back\n\npublic static void printBanner() {\n    System.out.println(\"============\");\n    System.out.println(\"WELCOME\");\n    System.out.println(\"============\");\n}\n\nWhen to return a value:\n✓ Method calculates something\n✓ You need the result for later\n\npublic static double calculateTip(double bill, double percent) {\n    return bill * (percent / 100);\n}\n\ndouble tip = calculateTip(50.0, 15);  // tip is 7.5\n\nKey difference:\n- void methods DO something\n- Returning methods CALCULATE and give you something back"
            }
          ],
          "challenges": [
            {
              "type": "FREE_CODING",
              "id": "epoch-1-lesson-5-simple",
              "title": "Create a Simple Method",
              "description": "Create a method called 'printWelcome' that prints \"Welcome!\"\n\nThe method should:\n- Be public static void\n- Have no parameters\n- Print: Welcome!\n\nThen call it from main.\n\nExpected output: Welcome!",
              "instructions": "Create a method called 'printWelcome' that prints \"Welcome!\"\n\nThe method should:\n- Be public static void\n- Have no parameters\n- Print: Welcome!\n\nThen call it from main.\n\nExpected output: Welcome!",
              "starterCode": "// Create a Simple Method\n// Write your code below\n\npublic class Solution {\n    public static void main(String[] args) {\n        \n    }\n}",
              "solution": "// Solution: Create a Simple Method\n// This demonstrates creating and calling a void method\n\npublic class Solution {\n    public static void main(String[] args) {\n        // Call the method from main\n        printWelcome();\n    }\n    \n    // Define a method that prints \"Welcome!\"\n    // public static void = accessible, class-level, returns nothing\n    public static void printWelcome() {\n        System.out.println(\"Welcome!\");\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-1-lesson-5-simple-test-1",
                  "description": "Should print Welcome!",
                  "expectedOutput": "Welcome!",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 1,
                  "text": "Use the print/println function to display output."
                },
                {
                  "level": 2,
                  "text": "Define a function using the java syntax. Don't forget the return statement if needed."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            },
            {
              "type": "FREE_CODING",
              "id": "epoch-1-lesson-5-return",
              "title": "Method with Return Value",
              "description": "Create a method called 'doubleNumber' that:\n- Takes one int parameter called 'number'\n- Returns number * 2\n- Return type is int\n\nThe main method will call it with 5 and print the result.\n\nExpected output: 10",
              "instructions": "Create a method called 'doubleNumber' that:\n- Takes one int parameter called 'number'\n- Returns number * 2\n- Return type is int\n\nThe main method will call it with 5 and print the result.\n\nExpected output: 10",
              "starterCode": "// Method with Return Value\n// Write your code below\n\npublic class Solution {\n    public static void main(String[] args) {\n        \n    }\n}",
              "solution": "// Solution: Method with Return Value\n// This demonstrates methods that return values\n\npublic class Solution {\n    public static void main(String[] args) {\n        // Call the method with 5 and print the result\n        int result = doubleNumber(5);\n        System.out.println(result);\n    }\n    \n    // Method that takes an int and returns it doubled\n    // Return type is int (not void) because we return a value\n    public static int doubleNumber(int number) {\n        return number * 2;\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-1-lesson-5-return-test-1",
                  "description": "Should return 5 * 2 = 10",
                  "expectedOutput": "10",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 1,
                  "text": "Use the print/println function to display output."
                },
                {
                  "level": 2,
                  "text": "Define a function using the java syntax. Don't forget the return statement if needed."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            },
            {
              "type": "FREE_CODING",
              "id": "epoch-1-lesson-5-params",
              "title": "Method with Parameters",
              "description": "Create a method called 'add' that:\n- Takes two int parameters: a and b\n- Returns a + b\n- Return type is int\n\nThe main method will call it with 7 and 3.\n\nExpected output: 10",
              "instructions": "Create a method called 'add' that:\n- Takes two int parameters: a and b\n- Returns a + b\n- Return type is int\n\nThe main method will call it with 7 and 3.\n\nExpected output: 10",
              "starterCode": "// Method with Parameters\n// Write your code below\n\npublic class Solution {\n    public static void main(String[] args) {\n        \n    }\n}",
              "solution": "// Solution: Method with Parameters\n// This demonstrates methods with multiple parameters\n\npublic class Solution {\n    public static void main(String[] args) {\n        // Call the add method with 7 and 3, print result\n        int result = add(7, 3);\n        System.out.println(result);\n    }\n    \n    // Method that takes two int parameters and returns their sum\n    public static int add(int a, int b) {\n        return a + b;\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-1-lesson-5-params-test-1",
                  "description": "Should return 7 + 3 = 10",
                  "expectedOutput": "10",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 1,
                  "text": "Use the print/println function to display output."
                },
                {
                  "level": 2,
                  "text": "Define a function using the java syntax. Don't forget the return statement if needed."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            }
          ]
        },
        {
          "id": "epoch-1-lesson-6",
          "title": "Lesson 1.6: What Do 'public', 'static', and 'void' Mean?",
          "moduleId": "module-02",
          "order": 6,
          "estimatedMinutes": 40,
          "difficulty": "beginner",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Mystery Keywords You've Been Ignoring",
              "content": "You've been writing:\n\npublic static void main(String[] args)\npublic static int add(int a, int b)\n\nAnd I told you: \"Just write 'public static' for now.\"\n\nBut what do these keywords ACTUALLY mean?\nWhy do we write them?\nWhen do you use 'public' vs 'private'?\nWhat's the difference between 'void' and 'int'?\n\nTime to demystify these CRUCIAL keywords!"
            },
            {
              "type": "THEORY",
              "title": "Part 1: Understanding 'void' vs Return Types",
              "content": "'void' is NOT a type like 'int' or 'String'. It means \"returns NOTHING\".\n\nVOID METHOD (performs action, returns nothing):\n\npublic static void sayHello() {\n    System.out.println(\"Hello!\");\n    // NO return statement\n}\n\nsayHello();  // Just does something, doesn't give back a value\n\nRETURNING METHOD (calculates and returns value):\n\npublic static int add(int a, int b) {\n    return a + b;  // MUST return an int\n}\n\nint result = add(5, 3);  // result gets the value 8\n\nKEY DIFFERENCE:\n- void = \"do something\" (print, save, modify)\n- int/String/double/etc = \"calculate and give me back a value\"\n\nThink of it like asking someone to do something:\n- \"Clean your room!\" (void - just do it, no result)\n- \"What's 2 + 2?\" (returns int - I need an answer back)"
            },
            {
              "type": "THEORY",
              "title": "Part 2: Understanding 'public' vs 'private'",
              "content": "'public' and 'private' control WHO can access your method.\n\nPUBLIC = Everyone can use it:\n\npublic static int add(int a, int b) {\n    return a + b;\n}\n\n// Any code, anywhere can call this:\nint x = MathUtils.add(5, 3);  // Works!\n\nPRIVATE = Only THIS class can use it:\n\nprivate static int secretCalculation(int x) {\n    return x * 2 + 10;  // Internal helper method\n}\n\n// Other classes CAN'T call this:\nint y = MathUtils.secretCalculation(5);  // COMPILE ERROR!\n\nWHY USE PRIVATE?\n- Hide internal implementation details\n- Prevent others from depending on internal code\n- Make it easier to change later\n\nRULE OF THUMB:\n- Methods you want others to use: public\n- Helper methods just for your class: private"
            },
            {
              "type": "KEY_POINT",
              "title": "public vs private: Restaurant Kitchen Analogy",
              "content": "Imagine a restaurant:\n\nPUBLIC methods = Menu items (customer-facing):\n- orderPizza() ✓ Customer can call this\n- orderSalad() ✓ Customer can call this\nThese are the INTERFACE the public uses.\n\nPRIVATE methods = Kitchen processes (internal):\n- chopVegetables() ✗ Customer can't call this\n- preheartOven() ✗ Customer can't call this\nThese are IMPLEMENTATION details customers shouldn't worry about.\n\nIn code:\n\npublic class Restaurant {\n    // PUBLIC - customers can call\n    public void orderPizza(String type) {\n        prepareOven();        // Call private helper\n        makeDough();          // Call private helper\n        addToppings(type);    // Call private helper\n    }\n    \n    // PRIVATE - internal methods\n    private void prepareOven() { ... }\n    private void makeDough() { ... }\n    private void addToppings(String type) { ... }\n}"
            },
            {
              "type": "THEORY",
              "title": "Part 3: Understanding 'static'",
              "content": "'static' means the method belongs to the CLASS, not to individual objects.\n\nSTATIC METHOD (class-level, no object needed):\n\npublic static int add(int a, int b) {\n    return a + b;\n}\n\n// Call directly on class:\nint result = MathUtils.add(5, 3);  // No object needed!\n\nNON-STATIC METHOD (instance-level, needs an object):\n\npublic class Dog {\n    String name;\n    \n    public void bark() {  // NO 'static'\n        System.out.println(name + \" says Woof!\");\n    }\n}\n\n// Must create object first:\nDog myDog = new Dog();\nmyDog.name = \"Buddy\";\nmyDog.bark();  // \"Buddy says Woof!\"\n\nWHEN TO USE STATIC:\n✓ Utility methods (Math.sqrt, Integer.parseInt)\n✓ Methods that don't need object data\n✓ main() method (entry point)\n\nWHEN TO USE NON-STATIC:\n✓ Methods that work with object data\n✓ Behavior specific to an instance\n✓ Most methods in classes you create"
            },
            {
              "type": "KEY_POINT",
              "title": "static: Shared vs Personal",
              "content": "STATIC = Shared tool (belongs to everyone):\n\nThink of a PUBLIC calculator at school:\n- Anyone can use it\n- Doesn't belong to any one student\n- Same calculator for all\n\nMath.abs(-5)  // Use the shared Math class\n\nNON-STATIC = Personal item (belongs to an instance):\n\nThink of YOUR phone:\n- Has YOUR contacts\n- Stores YOUR photos\n- Different from others' phones\n\nmyPhone.makeCall(\"Mom\")  // Your phone, your mom's number\n\nIn Java:\n\n// STATIC - shared, no object needed\npublic static int add(int a, int b) {\n    return a + b;  // Same for everyone\n}\nCalculator.add(2, 3);  // Just call it\n\n// NON-STATIC - instance-specific\npublic class BankAccount {\n    double balance;  // EACH account has its own balance\n    \n    public void deposit(double amount) {\n        balance += amount;  // Modifies THIS account\n    }\n}\nBankAccount aliceAccount = new BankAccount();\naliceAccount.deposit(100);  // Alice's balance changes"
            },
            {
              "type": "KEY_POINT",
              "title": "Putting It All Together",
              "content": "public static void main(String[] args)\n  |      |     |    |     └─ Parameter: array of Strings\n  |      |     |    └─ Name: main (special name, program entry)\n  |      |     └─ Return type: void (doesn't return anything)\n  |      └─ static: Can be called without creating an object\n  └─ public: Must be accessible from anywhere (JVM needs to call it)\n\npublic static int add(int a, int b)\n  |      |     |   |   └─ Parameters\n  |      |     |   └─ Name\n  |      |     └─ Return type: int (returns an integer)\n  |      └─ static: Utility method, no object needed\n  └─ public: Other classes can use this\n\nprivate void updateDisplay()\n  |      |    └─ Name\n  |      └─ Return type: void (performs action, no return)\n  └─ private: Only THIS class can call this\n\nQUICK REFERENCE:\n- void: Returns nothing\n- int/String/etc: Returns that type\n- public: Everyone can access\n- private: Only this class can access\n- static: Class-level, no object needed\n- (no static): Instance-level, needs object"
            }
          ],
          "challenges": []
        }
      ]
    },
    {
      "id": "module-03",
      "title": "Object-Oriented Programming",
      "description": "Master OOP concepts: classes, objects, encapsulation, inheritance, polymorphism, and modern records.",
      "difficulty": "beginner",
      "estimatedHours": 3.9,
      "lessons": [
        {
          "id": "epoch-2-lesson-1",
          "title": "Lesson 2.1: Classes and Objects - The Blueprint",
          "moduleId": "module-03",
          "order": 1,
          "estimatedMinutes": 40,
          "difficulty": "beginner",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: Managing Complex Data",
              "content": "Imagine you're building a student management system. Each student has:\n- name (String)\n- age (int)\n- gpa (double)\n- isEnrolled (boolean)\n\nFor 100 students, you'd need:\nString student1Name, student2Name, ...student100Name;\nint student1Age, student2Age, ...student100Age;\n// 400 variables total!\n\nThis is:\n❌ Impossible to manage\n❌ Error-prone (easy to mix up which age belongs to which student)\n❌ Can't use loops or methods effectively\n\nYou need a way to group related data together and create your OWN data types.\n\nThis is what CLASSES do!"
            },
            {
              "type": "KEY_POINT",
              "title": "Classes are Blueprints, Objects are Houses",
              "content": "Think of building houses:\n\nBLUEPRINT (Class):\n- Defines what a house HAS: rooms, doors, windows\n- Defines what a house DOES: open door, turn on lights\n- You can't live in a blueprint!\n\nACTUAL HOUSE (Object):\n- Built FROM the blueprint\n- Has actual values: 3 bedrooms, blue door, 5 windows\n- You can interact with it\n\nFrom ONE blueprint, you can build MANY houses, each with different colors, sizes, etc.\n\nIn Java:\n- Class = Blueprint (you define it once)\n- Object = Actual instance (you create many from the blueprint)\n\nclass Student { } // This is the blueprint\nStudent alice = new Student(); // This is an actual object"
            },
            {
              "type": "THEORY",
              "title": "Creating a Class",
              "content": "A class is a template for creating objects.\n\npublic class Student {\n    // FIELDS (data the object stores)\n    String name;\n    int age;\n    double gpa;\n    \n    // METHODS (what the object can do)\n    void study() {\n        System.out.println(name + \" is studying\");\n    }\n}\n\nBreaking it down:\n1. 'public class Student' - declares a new type called Student\n2. Fields (variables inside the class) - the data each student has\n3. Methods (functions inside the class) - actions a student can do\n\nCreating and using objects:\n\n// Create two student objects\nStudent alice = new Student();\nalice.name = \"Alice\";\nalice.age = 20;\nalice.gpa = 3.8;\n\nStudent bob = new Student();\nbob.name = \"Bob\";\nbob.age = 22;\nbob.gpa = 3.5;\n\n// Use the objects\nalice.study();  // Prints: Alice is studying\nbob.study();    // Prints: Bob is studying"
            },
            {
              "type": "KEY_POINT",
              "title": "Class vs Object - The Key Difference",
              "content": "CLASS:\n✓ A template/blueprint\n✓ Defined once\n✓ Describes structure and behavior\n✓ Example: 'Student' class\n\nOBJECT:\n✓ An instance created from the class\n✓ Created many times with 'new'\n✓ Has actual data values\n✓ Example: alice and bob are Student objects\n\nAnalogy:\nClass = Cookie cutter\nObject = Actual cookie\n\nYou use ONE cookie cutter to make MANY cookies."
            }
          ],
          "challenges": [
            {
              "type": "FREE_CODING",
              "id": "epoch-2-lesson-1-car",
              "title": "Create and Use Objects",
              "description": "A Car class is provided with fields: brand, year and a method honk().\n\nIn main:\n1. Create a Car object called 'myCar'\n2. Set myCar.brand = \"Toyota\"\n3. Set myCar.year = 2020\n4. Call myCar.honk()\n\nExpected output: Toyota goes beep!",
              "instructions": "A Car class is provided with fields: brand, year and a method honk().\n\nIn main:\n1. Create a Car object called 'myCar'\n2. Set myCar.brand = \"Toyota\"\n3. Set myCar.year = 2020\n4. Call myCar.honk()\n\nExpected output: Toyota goes beep!",
              "starterCode": "// Create and Use Objects\n// Write your code below\n\npublic class Solution {\n    public static void main(String[] args) {\n        \n    }\n}",
              "solution": "// Solution: Create and Use Objects\n// This demonstrates creating and using objects\n\n// Define the Car class with fields and methods\nclass Car {\n    String brand;\n    int year;\n    \n    // Method that uses the brand field\n    void honk() {\n        System.out.println(brand + \" goes beep!\");\n    }\n}\n\npublic class Solution {\n    public static void main(String[] args) {\n        // Step 1: Create a Car object\n        Car myCar = new Car();\n        \n        // Step 2: Set the brand field\n        myCar.brand = \"Toyota\";\n        \n        // Step 3: Set the year field\n        myCar.year = 2020;\n        \n        // Step 4: Call the honk method\n        myCar.honk();\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-2-lesson-1-car-test-1",
                  "description": "Should print Toyota goes beep!",
                  "expectedOutput": "Toyota goes beep!",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 1,
                  "text": "Use the print/println function to display output."
                },
                {
                  "level": 2,
                  "text": "Define a function using the java syntax. Don't forget the return statement if needed."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            }
          ]
        },
        {
          "id": "epoch-2-lesson-2",
          "title": "Lesson 2.2: Constructors - Better Object Creation",
          "moduleId": "module-03",
          "order": 2,
          "estimatedMinutes": 30,
          "difficulty": "beginner",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: Tedious Object Setup",
              "content": "Creating objects the current way is tedious:\n\nStudent student = new Student();\nstudent.name = \"Alice\";\nstudent.age = 20;\nstudent.gpa = 3.8;\n\nFour lines just to create one student! And you might forget to set a field.\n\nWouldn't it be nice to write:\nStudent student = new Student(\"Alice\", 20, 3.8);\n\nThis is what CONSTRUCTORS allow!"
            },
            {
              "type": "THEORY",
              "title": "Constructor Syntax",
              "content": "A constructor is a special method that runs when you create an object.\n\npublic class Student {\n    String name;\n    int age;\n    double gpa;\n    \n    // Constructor\n    public Student(String name, int age, double gpa) {\n        this.name = name;\n        this.age = age;\n        this.gpa = gpa;\n    }\n}\n\nKey points:\n1. Constructor name MUST match class name\n2. No return type (not even void)\n3. 'this.name' refers to the field, 'name' refers to the parameter\n\nUsage:\nStudent alice = new Student(\"Alice\", 20, 3.8);"
            },
            {
              "type": "KEY_POINT",
              "title": "The 'this' Keyword",
              "content": "'this' refers to the current object.\n\nthis.name = name;\n  ↑          ↑\n field    parameter\n\nWithout 'this', Java gets confused about which 'name' you mean!"
            }
          ],
          "challenges": [
            {
              "type": "FREE_CODING",
              "id": "epoch-2-lesson-2-constructor",
              "title": "Create a Constructor",
              "description": "Add a constructor to the Book class that takes three parameters:\n- String title\n- String author\n- int pages\n\nUse 'this' to assign the parameters to the fields.\n\nExpected output: 1984 by Orwell",
              "instructions": "Add a constructor to the Book class that takes three parameters:\n- String title\n- String author\n- int pages\n\nUse 'this' to assign the parameters to the fields.\n\nExpected output: 1984 by Orwell",
              "starterCode": "// Create a Constructor\n// Write your code below\n\npublic class Solution {\n    public static void main(String[] args) {\n        \n    }\n}",
              "solution": "// Solution: Create a Constructor\n// This demonstrates using constructors to initialize objects\n\n// Book class with constructor\nclass Book {\n    String title;\n    String author;\n    int pages;\n    \n    // Constructor takes three parameters\n    // Uses 'this' to distinguish field from parameter\n    public Book(String title, String author, int pages) {\n        this.title = title;\n        this.author = author;\n        this.pages = pages;\n    }\n}\n\npublic class Solution {\n    public static void main(String[] args) {\n        // Create a book using the constructor\n        Book book = new Book(\"1984\", \"Orwell\", 328);\n        \n        // Print the formatted output\n        System.out.println(book.title + \" by \" + book.author);\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-2-lesson-2-constructor-test-1",
                  "description": "Should create book and display it",
                  "expectedOutput": "1984 by Orwell",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 1,
                  "text": "Use the print/println function to display output."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            }
          ]
        },
        {
          "id": "epoch-2-lesson-3",
          "title": "Lesson 2.3: Encapsulation - Protecting Your Data",
          "moduleId": "module-03",
          "order": 3,
          "estimatedMinutes": 35,
          "difficulty": "beginner",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: Anyone Can Mess With Your Objects",
              "content": "Remember our Car class?\n\nclass Car {\n    String model;\n    int speed;\n}\n\nWhat if someone does this?\n\nCar myCar = new Car();\nmyCar.speed = -500;  // Negative speed?!\nmyCar.speed = 999999;  // Impossible speed!\n\nRight now, ANYONE can directly change our object's fields to nonsensical values.\nWe need CONTROL over how our data gets accessed and modified.\n\nThis is where ENCAPSULATION comes in."
            },
            {
              "type": "KEY_POINT",
              "title": "Encapsulation is Like a Bank Account",
              "content": "WITHOUT ENCAPSULATION:\n= Money sitting in a box on your desk\n- Anyone can take money out\n- Anyone can add fake money\n- No security or validation\n\nWITH ENCAPSULATION:\n= Money in a bank account\n- You can't directly touch the money\n- Must use deposit() method (validates amount)\n- Must use withdraw() method (checks balance)\n- Bank controls access and enforces rules\n\nIn Java:\n- Fields = private (like money in vault)\n- Methods = public (like bank teller window)\n- Methods validate before changing fields"
            },
            {
              "type": "THEORY",
              "title": "Access Modifiers: public, private, protected",
              "content": "Java has keywords that control WHO can access your code:\n\n1. PUBLIC - Anyone can access\n   public int speed;  // Any code anywhere can read/write\n\n2. PRIVATE - Only THIS class can access\n   private int speed;  // Only methods inside Car can access\n\n3. PROTECTED - This class + subclasses (we'll learn later)\n\n4. DEFAULT (no keyword) - Same package only\n\nBEST PRACTICE:\n- Fields: ALWAYS private\n- Methods: public if others need them, private if internal only"
            },
            {
              "type": "THEORY",
              "title": "Getters and Setters: Controlled Access",
              "content": "Instead of public fields, use private fields + public methods:\n\nclass Car {\n    private int speed;  // Hidden from outside\n    \n    // GETTER - Read the value\n    public int getSpeed() {\n        return speed;\n    }\n    \n    // SETTER - Change the value (with validation!)\n    public void setSpeed(int newSpeed) {\n        if (newSpeed >= 0 && newSpeed <= 200) {\n            speed = newSpeed;\n        } else {\n            System.out.println(\"Invalid speed!\");\n        }\n    }\n}\n\nNow:\nCar myCar = new Car();\nmyCar.speed = -500;  // COMPILE ERROR! speed is private\nmyCar.setSpeed(-500);  // Prints \"Invalid speed!\", doesn't change\nmyCar.setSpeed(60);  // Works! Sets speed to 60\nSystem.out.println(myCar.getSpeed());  // 60"
            },
            {
              "type": "KEY_POINT",
              "title": "Why Encapsulation Matters",
              "content": "1. DATA VALIDATION\n   - Prevent invalid states (negative speed, empty names)\n   - Enforce business rules\n\n2. FLEXIBILITY\n   - Change internal implementation without breaking other code\n   - Example: Change from int to double, only modify inside class\n\n3. DEBUGGING\n   - Put breakpoints in setters to find who's changing data\n   - Add logging to track changes\n\n4. SECURITY\n   - Hide sensitive data\n   - Control who can modify critical fields\n\nProfessional code ALWAYS uses encapsulation!"
            }
          ],
          "challenges": [
            {
              "type": "FREE_CODING",
              "id": "epoch-2-lesson-3-bank",
              "title": "Create Encapsulated BankAccount",
              "description": "Create a BankAccount class with:\n- private field: balance (double)\n- constructor that sets initial balance\n- getBalance() method\n- deposit(double amount) method (only if amount > 0)\n- withdraw(double amount) method (only if amount > 0 and balance sufficient)",
              "instructions": "Create a BankAccount class with:\n- private field: balance (double)\n- constructor that sets initial balance\n- getBalance() method\n- deposit(double amount) method (only if amount > 0)\n- withdraw(double amount) method (only if amount > 0 and balance sufficient)",
              "starterCode": "public class BankAccount {\n    // Add private field here\n    \n    // Add constructor\n    \n    // Add getBalance method\n    \n    // Add deposit method\n    \n    // Add withdraw method\n    \n}",
              "solution": "// Solution: Create Encapsulated BankAccount\n// This demonstrates encapsulation with private fields and public methods\n\npublic class BankAccount {\n    // Private field - cannot be accessed directly from outside\n    private double balance;\n    \n    // Constructor to set initial balance\n    public BankAccount(double initialBalance) {\n        this.balance = initialBalance;\n    }\n    \n    // Getter method - controlled read access\n    public double getBalance() {\n        return balance;\n    }\n    \n    // Deposit method with validation\n    public void deposit(double amount) {\n        // Only deposit if amount is positive\n        if (amount > 0) {\n            balance += amount;\n        }\n    }\n    \n    // Withdraw method with validation\n    public void withdraw(double amount) {\n        // Only withdraw if amount is positive AND sufficient balance\n        if (amount > 0 && balance >= amount) {\n            balance -= amount;\n        }\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-2-lesson-3-bank-test-1",
                  "description": "BankAccount acc = new BankAccount(100.0);\nreturn acc.getBalance();",
                  "expectedOutput": "100.0",
                  "isVisible": true
                },
                {
                  "id": "epoch-2-lesson-3-bank-test-2",
                  "description": "BankAccount acc = new BankAccount(100.0);\nacc.deposit(50.0);\nreturn acc.getBalance();",
                  "expectedOutput": "150.0",
                  "isVisible": true
                },
                {
                  "id": "epoch-2-lesson-3-bank-test-3",
                  "description": "BankAccount acc = new BankAccount(100.0);\nacc.withdraw(30.0);\nreturn acc.getBalance();",
                  "expectedOutput": "70.0",
                  "isVisible": true
                },
                {
                  "id": "epoch-2-lesson-3-bank-test-4",
                  "description": "BankAccount acc = new BankAccount(100.0);\nacc.withdraw(200.0);\nreturn acc.getBalance();",
                  "expectedOutput": "100.0",
                  "isVisible": true
                },
                {
                  "id": "epoch-2-lesson-3-bank-test-5",
                  "description": "BankAccount acc = new BankAccount(100.0);\nacc.deposit(-50.0);\nreturn acc.getBalance();",
                  "expectedOutput": "100.0",
                  "isVisible": false
                }
              ],
              "hints": [
                {
                  "level": 2,
                  "text": "Define a function using the java syntax. Don't forget the return statement if needed."
                },
                {
                  "level": 2,
                  "text": "Use an if statement to check the condition."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            },
            {
              "type": "FREE_CODING",
              "id": "epoch-2-lesson-3-student",
              "title": "Create Encapsulated Student",
              "description": "Create a Student class with:\n- private fields: name (String), grade (int)\n- constructor\n- getName() and getGrade() methods\n- setGrade(int g) that only accepts grades 0-100",
              "instructions": "Create a Student class with:\n- private fields: name (String), grade (int)\n- constructor\n- getName() and getGrade() methods\n- setGrade(int g) that only accepts grades 0-100",
              "starterCode": "public class Student {\n    // Your code here\n}",
              "solution": "// Solution: Create Encapsulated Student\n// This demonstrates encapsulation with validation in setters\n\npublic class Student {\n    // Private fields\n    private String name;\n    private int grade;\n    \n    // Constructor\n    public Student(String name, int grade) {\n        this.name = name;\n        // Validate grade in constructor too\n        if (grade >= 0 && grade <= 100) {\n            this.grade = grade;\n        }\n    }\n    \n    // Getter for name\n    public String getName() {\n        return name;\n    }\n    \n    // Getter for grade\n    public int getGrade() {\n        return grade;\n    }\n    \n    // Setter for grade with validation (0-100 only)\n    public void setGrade(int g) {\n        if (g >= 0 && g <= 100) {\n            this.grade = g;\n        }\n        // If invalid, grade remains unchanged\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-2-lesson-3-student-test-1",
                  "description": "Student s = new Student(\"Alice\", 85);\nreturn s.getName();",
                  "expectedOutput": "Alice",
                  "isVisible": true
                },
                {
                  "id": "epoch-2-lesson-3-student-test-2",
                  "description": "Student s = new Student(\"Bob\", 90);\nreturn s.getGrade();",
                  "expectedOutput": "90",
                  "isVisible": true
                },
                {
                  "id": "epoch-2-lesson-3-student-test-3",
                  "description": "Student s = new Student(\"Carol\", 80);\ns.setGrade(95);\nreturn s.getGrade();",
                  "expectedOutput": "95",
                  "isVisible": true
                },
                {
                  "id": "epoch-2-lesson-3-student-test-4",
                  "description": "Student s = new Student(\"Dave\", 75);\ns.setGrade(150);\nreturn s.getGrade();",
                  "expectedOutput": "75",
                  "isVisible": false
                }
              ],
              "hints": [
                {
                  "level": 2,
                  "text": "Define a function using the java syntax. Don't forget the return statement if needed."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            },
            {
              "type": "FREE_CODING",
              "id": "epoch-2-lesson-3-product",
              "title": "Product with Validation",
              "description": "Create a Product class with:\n- private fields: name (String), price (double)\n- constructor\n- getName() and getPrice() methods\n- setPrice(double p) that only accepts prices > 0",
              "instructions": "Create a Product class with:\n- private fields: name (String), price (double)\n- constructor\n- getName() and getPrice() methods\n- setPrice(double p) that only accepts prices > 0",
              "starterCode": "public class Product {\n    // Your code here\n}",
              "solution": "// Solution: Product with Validation\n// This demonstrates encapsulation with price validation\n\npublic class Product {\n    // Private fields\n    private String name;\n    private double price;\n    \n    // Constructor\n    public Product(String name, double price) {\n        this.name = name;\n        // Only set price if positive\n        if (price > 0) {\n            this.price = price;\n        }\n    }\n    \n    // Getter for name\n    public String getName() {\n        return name;\n    }\n    \n    // Getter for price\n    public double getPrice() {\n        return price;\n    }\n    \n    // Setter for price with validation (must be > 0)\n    public void setPrice(double p) {\n        if (p > 0) {\n            this.price = p;\n        }\n        // If invalid, price remains unchanged\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-2-lesson-3-product-test-1",
                  "description": "Product p = new Product(\"Laptop\", 999.99);\nreturn p.getName() + \"-\" + p.getPrice();",
                  "expectedOutput": "Laptop-999.99",
                  "isVisible": true
                },
                {
                  "id": "epoch-2-lesson-3-product-test-2",
                  "description": "Product p = new Product(\"Mouse\", 25.0);\np.setPrice(30.0);\nreturn p.getPrice();",
                  "expectedOutput": "30.0",
                  "isVisible": true
                },
                {
                  "id": "epoch-2-lesson-3-product-test-3",
                  "description": "Product p = new Product(\"Keyboard\", 50.0);\np.setPrice(-10.0);\nreturn p.getPrice();",
                  "expectedOutput": "50.0",
                  "isVisible": false
                }
              ],
              "hints": [
                {
                  "level": 2,
                  "text": "Define a function using the java syntax. Don't forget the return statement if needed."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            }
          ]
        },
        {
          "id": "epoch-2-lesson-4",
          "title": "Lesson 2.4: Inheritance - Building on Existing Classes",
          "moduleId": "module-03",
          "order": 4,
          "estimatedMinutes": 40,
          "difficulty": "beginner",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: Duplicate Code Everywhere",
              "content": "Imagine you need these classes:\n\nclass Dog {\n    String name;\n    int age;\n    void eat() { System.out.println(\"Eating...\"); }\n    void sleep() { System.out.println(\"Sleeping...\"); }\n    void bark() { System.out.println(\"Woof!\"); }\n}\n\nclass Cat {\n    String name;  // DUPLICATE!\n    int age;  // DUPLICATE!\n    void eat() { System.out.println(\"Eating...\"); }  // DUPLICATE!\n    void sleep() { System.out.println(\"Sleeping...\"); }  // DUPLICATE!\n    void meow() { System.out.println(\"Meow!\"); }\n}\n\nThis is HORRIBLE:\n- Repeated code (name, age, eat, sleep)\n- If you change eat(), must change in BOTH places\n- Hard to maintain\n\nSolution: INHERITANCE - share common code!"
            },
            {
              "type": "KEY_POINT",
              "title": "Inheritance is Like Family Traits",
              "content": "BIOLOGICAL INHERITANCE:\n- Your parents have: eyes, hair, height genes\n- YOU inherit: eyes, hair, height from them\n- You also have: your own unique features\n\nJAVA INHERITANCE:\nclass Animal {  // PARENT (superclass)\n    String name;\n    void eat() { ... }\n    void sleep() { ... }\n}\n\nclass Dog extends Animal {  // CHILD (subclass)\n    // Automatically has: name, eat(), sleep()\n    void bark() { ... }  // PLUS its own method\n}\n\nDog d = new Dog();\nd.eat();  // From Animal\nd.sleep();  // From Animal\nd.bark();  // Dog's own method"
            },
            {
              "type": "THEORY",
              "title": "The 'extends' Keyword",
              "content": "SYNTAX:\nclass ChildClass extends ParentClass { ... }\n\nEXAMPLE:\nclass Animal {\n    protected String name;  // 'protected' = accessible to subclasses\n    protected int age;\n    \n    public Animal(String name, int age) {\n        this.name = name;\n        this.age = age;\n    }\n    \n    public void eat() {\n        System.out.println(name + \" is eating.\");\n    }\n}\n\nclass Dog extends Animal {\n    public Dog(String name, int age) {\n        super(name, age);  // Call parent constructor\n    }\n    \n    public void bark() {\n        System.out.println(name + \" says Woof!\");  // Can use 'name'\n    }\n}\n\nUsage:\nDog myDog = new Dog(\"Buddy\", 3);\nmyDog.eat();  // From Animal: \"Buddy is eating.\"\nmyDog.bark();  // From Dog: \"Buddy says Woof!\""
            },
            {
              "type": "THEORY",
              "title": "The 'super' Keyword",
              "content": "'super' refers to the PARENT class:\n\n1. CALLING PARENT CONSTRUCTOR:\n   public Dog(String name, int age) {\n       super(name, age);  // Must be FIRST line\n   }\n\n2. CALLING PARENT METHOD:\n   public void eat() {\n       super.eat();  // Call Animal's eat() first\n       System.out.println(\"Dog is satisfied.\");\n   }\n\n3. ACCESSING PARENT FIELD:\n   System.out.println(super.name);  // Usually just use 'name'\n\nNOTE: If you don't call super(...) explicitly, Java tries to call\nthe parent's no-argument constructor automatically."
            },
            {
              "type": "KEY_POINT",
              "title": "Inheritance Best Practices",
              "content": "1. IS-A RELATIONSHIP:\n   - Dog IS-A Animal ✓ (inheritance makes sense)\n   - Car IS-A Engine ✗ (Car HAS-A Engine, use composition instead)\n\n2. INHERITANCE HIERARCHY:\n   Object (built-in Java class)\n     ↑\n   Animal\n     ↑\n   Dog, Cat, Bird (all extend Animal)\n\n3. EVERYTHING EXTENDS Object:\n   - Every Java class automatically extends Object\n   - Object provides: toString(), equals(), hashCode()\n\n4. SINGLE INHERITANCE ONLY:\n   - Java: class Dog extends Animal (ONE parent only)\n   - Multiple inheritance causes problems (diamond problem)\n   - Use interfaces for multiple \"contracts\" (later lesson)"
            }
          ],
          "challenges": [
            {
              "type": "FREE_CODING",
              "id": "epoch-2-lesson-4-vehicle",
              "title": "Create Vehicle Hierarchy",
              "description": "Create:\n1. Vehicle class with: String brand, int year, and method getInfo() that returns \"brand (year)\"\n2. Car class that extends Vehicle and adds: int doors field\n   Constructor should accept brand, year, and doors",
              "instructions": "Create:\n1. Vehicle class with: String brand, int year, and method getInfo() that returns \"brand (year)\"\n2. Car class that extends Vehicle and adds: int doors field\n   Constructor should accept brand, year, and doors",
              "starterCode": "class Vehicle {\n    // Your code here\n}\n\nclass Car extends Vehicle {\n    // Your code here\n}",
              "solution": "// Solution: Create Vehicle Hierarchy\n// This demonstrates inheritance with extends and super\n\nclass Vehicle {\n    String brand;\n    int year;\n    \n    // Constructor\n    public Vehicle(String brand, int year) {\n        this.brand = brand;\n        this.year = year;\n    }\n    \n    // Method to get vehicle info\n    public String getInfo() {\n        return brand + \" (\" + year + \")\";\n    }\n}\n\nclass Car extends Vehicle {\n    int doors;\n    \n    // Constructor calls super to initialize parent fields\n    public Car(String brand, int year, int doors) {\n        super(brand, year);  // Call Vehicle constructor\n        this.doors = doors;\n    }\n    // Car inherits getInfo() from Vehicle automatically\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-2-lesson-4-vehicle-test-1",
                  "description": "Vehicle v = new Vehicle(\"Generic\", 2020);\nreturn v.getInfo();",
                  "expectedOutput": "Generic (2020)",
                  "isVisible": true
                },
                {
                  "id": "epoch-2-lesson-4-vehicle-test-2",
                  "description": "Car c = new Car(\"Toyota\", 2022, 4);\nreturn c.getInfo();",
                  "expectedOutput": "Toyota (2022)",
                  "isVisible": true
                },
                {
                  "id": "epoch-2-lesson-4-vehicle-test-3",
                  "description": "Car c = new Car(\"Honda\", 2023, 2);\nreturn c.doors;",
                  "expectedOutput": "2",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 2,
                  "text": "Define a function using the java syntax. Don't forget the return statement if needed."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            },
            {
              "type": "FREE_CODING",
              "id": "epoch-2-lesson-4-employee",
              "title": "Employee Hierarchy",
              "description": "Create:\n1. Person class with: String name, int age\n2. Employee class extending Person with: double salary\n3. Both should have constructors\n4. Employee should have getSalary() method",
              "instructions": "Create:\n1. Person class with: String name, int age\n2. Employee class extending Person with: double salary\n3. Both should have constructors\n4. Employee should have getSalary() method",
              "starterCode": "class Person {\n    // Your code here\n}\n\nclass Employee extends Person {\n    // Your code here\n}",
              "solution": "// Solution: Employee Hierarchy\n// This demonstrates inheritance with Person as parent class\n\nclass Person {\n    String name;\n    int age;\n    \n    // Constructor\n    public Person(String name, int age) {\n        this.name = name;\n        this.age = age;\n    }\n}\n\nclass Employee extends Person {\n    double salary;\n    \n    // Constructor calls super to initialize Person fields\n    public Employee(String name, int age, double salary) {\n        super(name, age);  // Call Person constructor\n        this.salary = salary;\n    }\n    \n    // Getter for salary\n    public double getSalary() {\n        return salary;\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-2-lesson-4-employee-test-1",
                  "description": "Person p = new Person(\"Alice\", 30);\nreturn p.name;",
                  "expectedOutput": "Alice",
                  "isVisible": true
                },
                {
                  "id": "epoch-2-lesson-4-employee-test-2",
                  "description": "Employee e = new Employee(\"Bob\", 35, 50000.0);\nreturn e.name;",
                  "expectedOutput": "Bob",
                  "isVisible": true
                },
                {
                  "id": "epoch-2-lesson-4-employee-test-3",
                  "description": "Employee e = new Employee(\"Carol\", 28, 60000.0);\nreturn e.getSalary();",
                  "expectedOutput": "60000.0",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 2,
                  "text": "Define a function using the java syntax. Don't forget the return statement if needed."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            },
            {
              "type": "FREE_CODING",
              "id": "epoch-2-lesson-4-shape",
              "title": "Shape Hierarchy",
              "description": "Create:\n1. Shape class with: String color field and constructor\n2. Rectangle class extending Shape with: int width, int height\n3. Rectangle constructor should call super(color) and set width/height\n4. Rectangle should have getArea() method returning width * height",
              "instructions": "Create:\n1. Shape class with: String color field and constructor\n2. Rectangle class extending Shape with: int width, int height\n3. Rectangle constructor should call super(color) and set width/height\n4. Rectangle should have getArea() method returning width * height",
              "starterCode": "class Shape {\n    // Your code here\n}\n\nclass Rectangle extends Shape {\n    // Your code here\n}",
              "solution": "// Solution: Shape Hierarchy\n// This demonstrates inheritance with constructors and methods\n\nclass Shape {\n    String color;\n    \n    // Constructor to set color\n    public Shape(String color) {\n        this.color = color;\n    }\n}\n\nclass Rectangle extends Shape {\n    int width;\n    int height;\n    \n    // Constructor calls super to set color, then sets dimensions\n    public Rectangle(String color, int width, int height) {\n        super(color);  // Call Shape constructor\n        this.width = width;\n        this.height = height;\n    }\n    \n    // Calculate and return the area\n    public int getArea() {\n        return width * height;\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-2-lesson-4-shape-test-1",
                  "description": "Rectangle r = new Rectangle(\"red\", 5, 10);\nreturn r.color;",
                  "expectedOutput": "red",
                  "isVisible": true
                },
                {
                  "id": "epoch-2-lesson-4-shape-test-2",
                  "description": "Rectangle r = new Rectangle(\"blue\", 4, 6);\nreturn r.getArea();",
                  "expectedOutput": "24",
                  "isVisible": true
                },
                {
                  "id": "epoch-2-lesson-4-shape-test-3",
                  "description": "Rectangle r = new Rectangle(\"green\", 7, 3);\nreturn r.getArea();",
                  "expectedOutput": "21",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 2,
                  "text": "Define a function using the java syntax. Don't forget the return statement if needed."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            }
          ]
        },
        {
          "id": "epoch-2-lesson-5",
          "title": "Lesson 2.5: Polymorphism - One Interface, Many Forms",
          "moduleId": "module-03",
          "order": 5,
          "estimatedMinutes": 40,
          "difficulty": "beginner",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: Different Animals Make Different Sounds",
              "content": "You have an Animal class with a makeSound() method:\n\nclass Animal {\n    void makeSound() {\n        System.out.println(\"Generic animal sound\");\n    }\n}\n\nclass Dog extends Animal {\n    // Inherits makeSound(), but dogs don't make \"generic animal sounds\"!\n}\n\nclass Cat extends Animal {\n    // Same problem - cats meow, not generic sounds\n}\n\nWe need a way for EACH subclass to have its OWN implementation\nof makeSound() while still being treated as Animals.\n\nSolution: METHOD OVERRIDING + POLYMORPHISM"
            },
            {
              "type": "KEY_POINT",
              "title": "Polymorphism is Like a Universal Remote",
              "content": "UNIVERSAL REMOTE:\n- Has a \"Power\" button\n- Works for TV, DVD player, sound system\n- SAME button, DIFFERENT behavior depending on device\n\nPOLYMORPHISM IN JAVA:\nAnimal[] animals = {new Dog(), new Cat(), new Bird()};\n\nfor (Animal a : animals) {\n    a.makeSound();  // SAME method call\n}\n\nOutput:\nWoof!  (Dog's version)\nMeow!  (Cat's version)\nChirp!  (Bird's version)\n\nONE interface (makeSound), MANY forms (each animal's unique sound).\nThat's poly (many) + morph (forms) = polymorphism!"
            },
            {
              "type": "THEORY",
              "title": "Method Overriding with @Override",
              "content": "OVERRIDING = Replacing a parent method with your own version\n\nclass Animal {\n    public void makeSound() {\n        System.out.println(\"Generic sound\");\n    }\n}\n\nclass Dog extends Animal {\n    @Override  // ANNOTATION - tells Java \"I'm overriding\"\n    public void makeSound() {\n        System.out.println(\"Woof!\");\n    }\n}\n\nclass Cat extends Animal {\n    @Override\n    public void makeSound() {\n        System.out.println(\"Meow!\");\n    }\n}\n\nRULES FOR OVERRIDING:\n1. Same method name\n2. Same parameters (signature)\n3. Same or more accessible (public > protected > default > private)\n4. Use @Override annotation (optional but HIGHLY recommended)"
            },
            {
              "type": "THEORY",
              "title": "Polymorphism in Action",
              "content": "The MAGIC of polymorphism:\n\nAnimal myPet = new Dog();  // Dog IS-A Animal\nmyPet.makeSound();  // Calls Dog's version → \"Woof!\"\n\nmyPet = new Cat();  // Now it's a Cat\nmyPet.makeSound();  // Calls Cat's version → \"Meow!\"\n\nThis enables POWERFUL patterns:\n\nvoid feedAnimal(Animal a) {\n    System.out.println(\"Feeding...\");\n    a.makeSound();  // Will call the RIGHT version automatically!\n}\n\nfeedAnimal(new Dog());  // \"Feeding...\" then \"Woof!\"\nfeedAnimal(new Cat());  // \"Feeding...\" then \"Meow!\"\nfeedAnimal(new Bird());  // \"Feeding...\" then \"Chirp!\"\n\nONE method works with ALL Animal types!"
            },
            {
              "type": "KEY_POINT",
              "title": "Dynamic Method Dispatch",
              "content": "HOW does Java know which version to call?\n\nAnimal a = new Dog();\na.makeSound();  // Which makeSound()?\n\nJava uses DYNAMIC DISPATCH (runtime polymorphism):\n1. Looks at the ACTUAL object type (Dog)\n2. Finds the method in Dog's class\n3. Calls Dog's version, not Animal's\n\nThis happens at RUNTIME, not compile time!\n\nKEY INSIGHT:\n- Variable type (Animal) determines WHAT methods are available\n- Object type (Dog) determines WHICH version gets called\n\nThis is the foundation of flexible, extensible code!"
            },
            {
              "type": "THEORY",
              "title": "⚠️ Overriding vs Overloading - Don't Confuse Them!",
              "content": "OVERRIDING (this lesson):\n- SAME method signature in child class\n- REPLACES parent's version\n- Requires inheritance\n\nclass Animal {\n    void eat() { ... }\n}\nclass Dog extends Animal {\n    @Override\n    void eat() { ... }  // OVERRIDING\n}\n\nOVERLOADING (Epoch 1):\n- DIFFERENT parameters, same name\n- ADDS new version\n- Same class\n\nclass Calculator {\n    int add(int a, int b) { ... }\n    double add(double a, double b) { ... }  // OVERLOADING\n}"
            }
          ],
          "challenges": [
            {
              "type": "FREE_CODING",
              "id": "epoch-2-lesson-5-animal",
              "title": "Override Animal Sounds",
              "description": "Complete the code:\n1. Animal class has makeSound() that returns \"Some sound\"\n2. Dog class overrides makeSound() to return \"Bark\"\n3. Cat class overrides makeSound() to return \"Meow\"",
              "instructions": "Complete the code:\n1. Animal class has makeSound() that returns \"Some sound\"\n2. Dog class overrides makeSound() to return \"Bark\"\n3. Cat class overrides makeSound() to return \"Meow\"",
              "starterCode": "class Animal {\n    public String makeSound() {\n        return \"Some sound\";\n    }\n}\n\nclass Dog extends Animal {\n    // Override makeSound here\n}\n\nclass Cat extends Animal {\n    // Override makeSound here\n}",
              "solution": "// Solution: Override Animal Sounds\n// This demonstrates polymorphism and method overriding\n\nclass Animal {\n    public String makeSound() {\n        return \"Some sound\";\n    }\n}\n\nclass Dog extends Animal {\n    // Override makeSound to return \"Bark\"\n    // @Override annotation is best practice\n    @Override\n    public String makeSound() {\n        return \"Bark\";\n    }\n}\n\nclass Cat extends Animal {\n    // Override makeSound to return \"Meow\"\n    @Override\n    public String makeSound() {\n        return \"Meow\";\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-2-lesson-5-animal-test-1",
                  "description": "Animal a = new Animal();\nreturn a.makeSound();",
                  "expectedOutput": "Some sound",
                  "isVisible": true
                },
                {
                  "id": "epoch-2-lesson-5-animal-test-2",
                  "description": "Dog d = new Dog();\nreturn d.makeSound();",
                  "expectedOutput": "Bark",
                  "isVisible": true
                },
                {
                  "id": "epoch-2-lesson-5-animal-test-3",
                  "description": "Cat c = new Cat();\nreturn c.makeSound();",
                  "expectedOutput": "Meow",
                  "isVisible": true
                },
                {
                  "id": "epoch-2-lesson-5-animal-test-4",
                  "description": "Animal a = new Dog();\nreturn a.makeSound();",
                  "expectedOutput": "Bark",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 1,
                  "text": "Read the instructions carefully and break down the problem into smaller steps."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            },
            {
              "type": "FREE_CODING",
              "id": "epoch-2-lesson-5-shape",
              "title": "Polymorphic Shape Areas",
              "description": "Create:\n1. Shape class with getArea() returning 0.0\n2. Circle class with radius field, overriding getArea() to return π * r²\n3. Rectangle class with width and height, overriding getArea() to return width * height\nUse Math.PI for π",
              "instructions": "Create:\n1. Shape class with getArea() returning 0.0\n2. Circle class with radius field, overriding getArea() to return π * r²\n3. Rectangle class with width and height, overriding getArea() to return width * height\nUse Math.PI for π",
              "starterCode": "class Shape {\n    public double getArea() {\n        return 0.0;\n    }\n}\n\nclass Circle extends Shape {\n    double radius;\n    \n    public Circle(double radius) {\n        this.radius = radius;\n    }\n    \n    // Override getArea here\n}\n\nclass Rectangle extends Shape {\n    int width, height;\n    \n    public Rectangle(int width, int height) {\n        this.width = width;\n        this.height = height;\n    }\n    \n    // Override getArea here\n}",
              "solution": "// Solution: Polymorphic Shape Areas\n// This demonstrates polymorphism with different shape calculations\n\nclass Shape {\n    public double getArea() {\n        return 0.0;\n    }\n}\n\nclass Circle extends Shape {\n    double radius;\n    \n    public Circle(double radius) {\n        this.radius = radius;\n    }\n    \n    // Override getArea to calculate circle area: PI * r^2\n    @Override\n    public double getArea() {\n        return Math.PI * radius * radius;\n    }\n}\n\nclass Rectangle extends Shape {\n    int width, height;\n    \n    public Rectangle(int width, int height) {\n        this.width = width;\n        this.height = height;\n    }\n    \n    // Override getArea to calculate rectangle area: width * height\n    @Override\n    public double getArea() {\n        return width * height;\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-2-lesson-5-shape-test-1",
                  "description": "Circle c = new Circle(5.0);\nreturn Math.abs(c.getArea() - 78.54) < 0.1;",
                  "expectedOutput": "true",
                  "isVisible": true
                },
                {
                  "id": "epoch-2-lesson-5-shape-test-2",
                  "description": "Rectangle r = new Rectangle(4, 5);\nreturn r.getArea();",
                  "expectedOutput": "20.0",
                  "isVisible": true
                },
                {
                  "id": "epoch-2-lesson-5-shape-test-3",
                  "description": "Shape s = new Circle(10.0);\nreturn s.getArea() > 300.0 && s.getArea() < 320.0;",
                  "expectedOutput": "true",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 1,
                  "text": "Read the instructions carefully and break down the problem into smaller steps."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            },
            {
              "type": "FREE_CODING",
              "id": "epoch-2-lesson-5-vehicle",
              "title": "Vehicle Start Methods",
              "description": "Create:\n1. Vehicle class with start() method returning \"Starting vehicle\"\n2. Car class overriding start() to return \"Turning key, engine starts\"\n3. Motorcycle class overriding start() to return \"Kick-starting engine\"",
              "instructions": "Create:\n1. Vehicle class with start() method returning \"Starting vehicle\"\n2. Car class overriding start() to return \"Turning key, engine starts\"\n3. Motorcycle class overriding start() to return \"Kick-starting engine\"",
              "starterCode": "class Vehicle {\n    // Your code here\n}\n\nclass Car extends Vehicle {\n    // Your code here\n}\n\nclass Motorcycle extends Vehicle {\n    // Your code here\n}",
              "solution": "// Solution: Vehicle Start Methods\n// This demonstrates polymorphism with vehicle start methods\n\nclass Vehicle {\n    // Base start method\n    public String start() {\n        return \"Starting vehicle\";\n    }\n}\n\nclass Car extends Vehicle {\n    // Override start for Car behavior\n    @Override\n    public String start() {\n        return \"Turning key, engine starts\";\n    }\n}\n\nclass Motorcycle extends Vehicle {\n    // Override start for Motorcycle behavior\n    @Override\n    public String start() {\n        return \"Kick-starting engine\";\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-2-lesson-5-vehicle-test-1",
                  "description": "Vehicle v = new Vehicle();\nreturn v.start();",
                  "expectedOutput": "Starting vehicle",
                  "isVisible": true
                },
                {
                  "id": "epoch-2-lesson-5-vehicle-test-2",
                  "description": "Car c = new Car();\nreturn c.start();",
                  "expectedOutput": "Turning key, engine starts",
                  "isVisible": true
                },
                {
                  "id": "epoch-2-lesson-5-vehicle-test-3",
                  "description": "Motorcycle m = new Motorcycle();\nreturn m.start();",
                  "expectedOutput": "Kick-starting engine",
                  "isVisible": true
                },
                {
                  "id": "epoch-2-lesson-5-vehicle-test-4",
                  "description": "Vehicle v = new Car();\nreturn v.start();",
                  "expectedOutput": "Turning key, engine starts",
                  "isVisible": false
                }
              ],
              "hints": [
                {
                  "level": 2,
                  "text": "Define a function using the java syntax. Don't forget the return statement if needed."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            }
          ]
        },
        {
          "id": "epoch-2-lesson-6",
          "title": "Lesson 2.6: Abstract Classes & Interfaces - Enforcing Contracts",
          "moduleId": "module-03",
          "order": 6,
          "estimatedMinutes": 45,
          "difficulty": "beginner",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: Incomplete Parent Classes",
              "content": "Remember our Animal example?\n\nclass Animal {\n    public void makeSound() {\n        System.out.println(\"Generic sound\");  // What IS a generic sound?\n    }\n}\n\nProblems:\n1. There's no such thing as a \"generic animal\" - it's too abstract\n2. What if someone creates: Animal a = new Animal()?\n3. What if a subclass FORGETS to override makeSound()?\n\nWe need a way to say:\n- \"Animal is a concept, not a real thing\" (can't instantiate)\n- \"Every subclass MUST implement makeSound()\" (enforce contract)\n\nSolution: ABSTRACT CLASSES"
            },
            {
              "type": "THEORY",
              "title": "Abstract Classes: Templates with Rules",
              "content": "ABSTRACT CLASS = Class that CANNOT be instantiated\nABSTRACT METHOD = Method with NO implementation (body)\n\nabstract class Animal {  // Can't do: new Animal()\n    protected String name;\n    \n    public Animal(String name) {\n        this.name = name;\n    }\n    \n    // ABSTRACT METHOD - no body, must be overridden\n    public abstract void makeSound();\n    \n    // CONCRETE METHOD - has implementation\n    public void sleep() {\n        System.out.println(name + \" is sleeping.\");\n    }\n}\n\nclass Dog extends Animal {\n    public Dog(String name) {\n        super(name);\n    }\n    \n    @Override\n    public void makeSound() {  // MUST implement this!\n        System.out.println(\"Woof!\");\n    }\n}\n\n// Animal a = new Animal(\"Generic\");  // COMPILE ERROR!\nDog d = new Dog(\"Buddy\");  // Works!\nd.makeSound();  // \"Woof!\"\nd.sleep();  // \"Buddy is sleeping.\" (inherited)"
            },
            {
              "type": "KEY_POINT",
              "title": "Abstract Class is Like a Cake Recipe Template",
              "content": "ABSTRACT CLASS = Recipe template with mandatory steps:\n\nRecipe Template:\n1. Prepare batter (ABSTRACT - each cake type does it differently)\n2. Pour into pan (CONCRETE - same for all cakes)\n3. Bake (CONCRETE - same for all)\n4. Decorate (ABSTRACT - each cake type unique)\n\nYou can't make a \"generic cake\" from the template.\nYou must make: Chocolate Cake, Vanilla Cake, etc.\nEach MUST specify how to prepare batter and decorate.\n\nJAVA:\nabstract class Recipe {  // Can't instantiate\n    abstract void prepareBatter();  // MUST implement\n    void pourIntoPan() { ... }  // Inherited as-is\n    void bake() { ... }  // Inherited as-is\n    abstract void decorate();  // MUST implement\n}\n\nclass ChocolateCake extends Recipe {\n    void prepareBatter() { /* chocolate batter */ }\n    void decorate() { /* chocolate frosting */ }\n}"
            },
            {
              "type": "THEORY",
              "title": "Interfaces: Pure Contracts",
              "content": "INTERFACE = 100% abstract contract (no implementation)\nBefore Java 8, interfaces had ONLY abstract methods.\n\ninterface Flyable {\n    void fly();  // public abstract (automatically)\n    void land();\n}\n\nclass Bird implements Flyable {\n    @Override\n    public void fly() {\n        System.out.println(\"Flapping wings!\");\n    }\n    \n    @Override\n    public void land() {\n        System.out.println(\"Landing on branch.\");\n    }\n}\n\nclass Airplane implements Flyable {\n    @Override\n    public void fly() {\n        System.out.println(\"Jet engines roaring!\");\n    }\n    \n    @Override\n    public void land() {\n        System.out.println(\"Landing on runway.\");\n    }\n}\n\nKEY: Bird and Airplane are NOT related by inheritance,\nbut BOTH can be treated as Flyable!"
            },
            {
              "type": "THEORY",
              "title": "Abstract Class vs Interface - When to Use What?",
              "content": "ABSTRACT CLASS:\n✓ IS-A relationship (Dog IS-A Animal)\n✓ Share CODE between subclasses (common fields, methods)\n✓ Has state (fields)\n✓ Single inheritance only\n\nExample:\nabstract class Animal {  // Common state and behavior\n    String name;\n    abstract void makeSound();\n    void sleep() { ... }  // Shared implementation\n}\n\nINTERFACE:\n✓ CAN-DO relationship (Bird CAN fly, Dog CAN swim)\n✓ Define BEHAVIOR contract, no implementation (pre-Java 8)\n✓ No state (no fields, except constants)\n✓ Multiple implementation allowed!\n\nExample:\ninterface Flyable { void fly(); }\ninterface Swimmable { void swim(); }\n\nclass Duck implements Flyable, Swimmable {  // Multiple!\n    public void fly() { ... }\n    public void swim() { ... }\n}"
            },
            {
              "type": "KEY_POINT",
              "title": "Multiple Interfaces: Java's Alternative to Multiple Inheritance",
              "content": "Java doesn't allow:\nclass Dog extends Animal, Robot { }  // ERROR!\n\nBut DOES allow:\nclass RobotDog extends Robot implements Walkable, Barkable { }\n\nReal example:\ninterface Swimmable { void swim(); }\ninterface Flyable { void fly(); }\ninterface Walkable { void walk(); }\n\nclass Duck extends Animal implements Flyable, Swimmable, Walkable {\n    public void fly() { System.out.println(\"Flying\"); }\n    public void swim() { System.out.println(\"Swimming\"); }\n    public void walk() { System.out.println(\"Walking\"); }\n}\n\nNow Duck can be used as:\n- Animal (inheritance)\n- Flyable (interface)\n- Swimmable (interface)\n- Walkable (interface)\n\nThis is POWERFUL for flexible design!"
            }
          ],
          "challenges": [
            {
              "type": "FREE_CODING",
              "id": "epoch-2-lesson-6-shape",
              "title": "Abstract Shape Class",
              "description": "Create:\n1. Abstract class Shape with: String color field, constructor, abstract method getArea()\n2. Circle class extending Shape with: double radius, constructor, getArea() implementation\n   (area = π * r²)",
              "instructions": "Create:\n1. Abstract class Shape with: String color field, constructor, abstract method getArea()\n2. Circle class extending Shape with: double radius, constructor, getArea() implementation\n   (area = π * r²)",
              "starterCode": "abstract class Shape {\n    // Your code here\n}\n\nclass Circle extends Shape {\n    // Your code here\n}",
              "solution": "// Solution: Abstract Shape Class\n// This demonstrates abstract classes with required method implementations\n\nabstract class Shape {\n    // Protected field accessible to subclasses\n    String color;\n    \n    // Constructor\n    public Shape(String color) {\n        this.color = color;\n    }\n    \n    // Abstract method - must be implemented by subclasses\n    public abstract double getArea();\n}\n\nclass Circle extends Shape {\n    double radius;\n    \n    // Constructor calls super to set color and sets radius\n    public Circle(String color, double radius) {\n        super(color);  // Call Shape constructor\n        this.radius = radius;\n    }\n    \n    // Implement the abstract method\n    @Override\n    public double getArea() {\n        return Math.PI * radius * radius;\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-2-lesson-6-shape-test-1",
                  "description": "Circle c = new Circle(\"red\", 5.0);\nreturn c.color;",
                  "expectedOutput": "red",
                  "isVisible": true
                },
                {
                  "id": "epoch-2-lesson-6-shape-test-2",
                  "description": "Circle c = new Circle(\"blue\", 10.0);\nreturn Math.abs(c.getArea() - 314.159) < 1.0;",
                  "expectedOutput": "true",
                  "isVisible": true
                },
                {
                  "id": "epoch-2-lesson-6-shape-test-3",
                  "description": "Circle c = new Circle(\"green\", 3.0);\nreturn c.getArea() > 28.0 && c.getArea() < 29.0;",
                  "expectedOutput": "true",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 2,
                  "text": "Define a function using the java syntax. Don't forget the return statement if needed."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            },
            {
              "type": "FREE_CODING",
              "id": "epoch-2-lesson-6-payment",
              "title": "Payment Interface",
              "description": "Create:\n1. Interface Payable with method: double calculatePayment()\n2. Class Employee implementing Payable with: double salary field, constructor,\n   calculatePayment() returning salary\n3. Class Contractor implementing Payable with: double hourlyRate, int hoursWorked,\n   constructor, calculatePayment() returning hourlyRate * hoursWorked",
              "instructions": "Create:\n1. Interface Payable with method: double calculatePayment()\n2. Class Employee implementing Payable with: double salary field, constructor,\n   calculatePayment() returning salary\n3. Class Contractor implementing Payable with: double hourlyRate, int hoursWorked,\n   constructor, calculatePayment() returning hourlyRate * hoursWorked",
              "starterCode": "interface Payable {\n    // Your code here\n}\n\nclass Employee implements Payable {\n    // Your code here\n}\n\nclass Contractor implements Payable {\n    // Your code here\n}",
              "solution": "// Solution: Payment Interface\n// This demonstrates interfaces defining contracts\n\ninterface Payable {\n    // Interface method - no body, must be implemented\n    double calculatePayment();\n}\n\nclass Employee implements Payable {\n    double salary;\n    \n    // Constructor\n    public Employee(double salary) {\n        this.salary = salary;\n    }\n    \n    // Implement the interface method\n    @Override\n    public double calculatePayment() {\n        return salary;\n    }\n}\n\nclass Contractor implements Payable {\n    double hourlyRate;\n    int hoursWorked;\n    \n    // Constructor\n    public Contractor(double hourlyRate, int hoursWorked) {\n        this.hourlyRate = hourlyRate;\n        this.hoursWorked = hoursWorked;\n    }\n    \n    // Implement the interface method\n    @Override\n    public double calculatePayment() {\n        return hourlyRate * hoursWorked;\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-2-lesson-6-payment-test-1",
                  "description": "Employee e = new Employee(5000.0);\nreturn e.calculatePayment();",
                  "expectedOutput": "5000.0",
                  "isVisible": true
                },
                {
                  "id": "epoch-2-lesson-6-payment-test-2",
                  "description": "Contractor c = new Contractor(50.0, 40);\nreturn c.calculatePayment();",
                  "expectedOutput": "2000.0",
                  "isVisible": true
                },
                {
                  "id": "epoch-2-lesson-6-payment-test-3",
                  "description": "Payable p = new Employee(3000.0);\nreturn p.calculatePayment();",
                  "expectedOutput": "3000.0",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 2,
                  "text": "Define a function using the java syntax. Don't forget the return statement if needed."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            },
            {
              "type": "FREE_CODING",
              "id": "epoch-2-lesson-6-multiple",
              "title": "Multiple Interfaces",
              "description": "Create:\n1. Interface Drivable with method: void drive()\n2. Interface Refuelable with method: void refuel()\n3. Class Car implementing BOTH interfaces\n   - drive() should return \"Driving car\"\n   - refuel() should return \"Refueling car\"",
              "instructions": "Create:\n1. Interface Drivable with method: void drive()\n2. Interface Refuelable with method: void refuel()\n3. Class Car implementing BOTH interfaces\n   - drive() should return \"Driving car\"\n   - refuel() should return \"Refueling car\"",
              "starterCode": "interface Drivable {\n    String drive();\n}\n\ninterface Refuelable {\n    String refuel();\n}\n\nclass Car implements Drivable, Refuelable {\n    // Your code here\n}",
              "solution": "// Solution: Multiple Interfaces\n// This demonstrates implementing multiple interfaces\n\ninterface Drivable {\n    String drive();\n}\n\ninterface Refuelable {\n    String refuel();\n}\n\nclass Car implements Drivable, Refuelable {\n    // Implement drive() from Drivable interface\n    @Override\n    public String drive() {\n        return \"Driving car\";\n    }\n    \n    // Implement refuel() from Refuelable interface\n    @Override\n    public String refuel() {\n        return \"Refueling car\";\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-2-lesson-6-multiple-test-1",
                  "description": "Car c = new Car();\nreturn c.drive();",
                  "expectedOutput": "Driving car",
                  "isVisible": true
                },
                {
                  "id": "epoch-2-lesson-6-multiple-test-2",
                  "description": "Car c = new Car();\nreturn c.refuel();",
                  "expectedOutput": "Refueling car",
                  "isVisible": true
                },
                {
                  "id": "epoch-2-lesson-6-multiple-test-3",
                  "description": "Drivable d = new Car();\nreturn d.drive();",
                  "expectedOutput": "Driving car",
                  "isVisible": true
                },
                {
                  "id": "epoch-2-lesson-6-multiple-test-4",
                  "description": "Refuelable r = new Car();\nreturn r.refuel();",
                  "expectedOutput": "Refueling car",
                  "isVisible": false
                }
              ],
              "hints": [
                {
                  "level": 2,
                  "text": "Define a function using the java syntax. Don't forget the return statement if needed."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            }
          ]
        },
        {
          "id": "epoch-2-lesson-7",
          "title": "Lesson 2.7: Records - Immutable Data Classes (Java 16+)",
          "moduleId": "module-03",
          "order": 7,
          "estimatedMinutes": 35,
          "difficulty": "intermediate",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: Too Much Boilerplate",
              "content": "How much code does it take to create a simple data class in Java?\n\npublic class Person {\n    private final String name;\n    private final int age;\n    \n    public Person(String name, int age) {\n        this.name = name;\n        this.age = age;\n    }\n    \n    public String getName() { return name; }\n    public int getAge() { return age; }\n    \n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Person person = (Person) o;\n        return age == person.age && Objects.equals(name, person.name);\n    }\n    \n    @Override\n    public int hashCode() {\n        return Objects.hash(name, age);\n    }\n    \n    @Override\n    public String toString() {\n        return \"Person[name=\" + name + \", age=\" + age + \"]\";\n    }\n}\n\nThat's over 25 lines for a simple class with just 2 fields!\n\nJava 16 introduced RECORDS to solve this problem."
            },
            {
              "type": "KEY_POINT",
              "title": "Records: One Line = Complete Data Class",
              "content": "A record is a special kind of class designed to hold immutable data.\n\nThe entire Person class above can be written as:\n\npublic record Person(String name, int age) {}\n\nThat's it! ONE LINE!\n\nWhat you get automatically:\n- Private final fields for each component\n- A constructor that takes all components\n- Accessor methods: name() and age() (not getName/getAge)\n- equals() that compares all components\n- hashCode() based on all components\n- toString() that shows all components\n\nUsage:\nPerson alice = new Person(\"Alice\", 30);\nSystem.out.println(alice.name());   // Alice\nSystem.out.println(alice.age());    // 30\nSystem.out.println(alice);          // Person[name=Alice, age=30]"
            },
            {
              "type": "THEORY",
              "title": "Record Syntax and Features",
              "content": "BASIC RECORD:\npublic record Point(int x, int y) {}\n\nRECORD WITH COMPACT CONSTRUCTOR:\nRecords can have a compact constructor for validation:\n\npublic record Person(String name, int age) {\n    public Person {\n        // Compact constructor - no parameters needed\n        if (age < 0) {\n            throw new IllegalArgumentException(\"Age cannot be negative\");\n        }\n        if (name == null || name.isBlank()) {\n            throw new IllegalArgumentException(\"Name is required\");\n        }\n        // Fields are automatically assigned after this block\n    }\n}\n\nRECORD WITH METHODS:\npublic record Rectangle(int width, int height) {\n    // You can add methods to records!\n    public int area() {\n        return width * height;\n    }\n    \n    public int perimeter() {\n        return 2 * (width + height);\n    }\n}\n\nRECORD WITH STATIC MEMBERS:\npublic record Temperature(double celsius) {\n    public static Temperature freezing() {\n        return new Temperature(0);\n    }\n    \n    public static Temperature boiling() {\n        return new Temperature(100);\n    }\n    \n    public double fahrenheit() {\n        return celsius * 9/5 + 32;\n    }\n}"
            },
            {
              "type": "KEY_POINT",
              "title": "Records are Immutable",
              "content": "Records are IMMUTABLE by design:\n\nPerson alice = new Person(\"Alice\", 30);\nalice.age = 31;  // COMPILE ERROR! No setter exists\n\nTo \"change\" a record, create a new one:\n\nPerson olderAlice = new Person(alice.name(), alice.age() + 1);\n\nWHY IMMUTABILITY?\n1. Thread-safe by default (no synchronization needed)\n2. Can be used as map keys safely\n3. Easy to reason about (no unexpected changes)\n4. Functional programming friendly\n\nRECORD RESTRICTIONS:\n- Cannot extend other classes (implicitly extend Record)\n- Cannot be extended (implicitly final)\n- All fields are final (cannot be changed)\n- Cannot declare instance fields (only components)\n\nRECORDS CAN:\n- Implement interfaces\n- Have static fields and methods\n- Have instance methods\n- Override accessor methods (rarely needed)"
            },
            {
              "type": "EXAMPLE",
              "title": "Records in Action",
              "content": "Records provide compact constructors for validation, automatic accessor methods, and built-in toString/equals/hashCode. Use them for immutable data holders like DTOs and value objects.",
              "code": "// Define a simple record\npublic record Student(String name, int grade, double gpa) {\n    // Compact constructor for validation\n    public Student {\n        if (grade < 1 || grade > 12) {\n            throw new IllegalArgumentException(\"Grade must be 1-12\");\n        }\n        if (gpa < 0.0 || gpa > 4.0) {\n            throw new IllegalArgumentException(\"GPA must be 0.0-4.0\");\n        }\n    }\n    \n    // Custom method\n    public boolean isHonorRoll() {\n        return gpa >= 3.5;\n    }\n}\n\n// Using the record\npublic class Main {\n    public static void main(String[] args) {\n        // Create records\n        var alice = new Student(\"Alice\", 10, 3.8);\n        var bob = new Student(\"Bob\", 11, 3.2);\n        \n        // Access components\n        System.out.println(alice.name());  // Alice\n        System.out.println(alice.gpa());   // 3.8\n        \n        // Use custom methods\n        System.out.println(alice.isHonorRoll());  // true\n        System.out.println(bob.isHonorRoll());    // false\n        \n        // Automatic toString\n        System.out.println(alice);  // Student[name=Alice, grade=10, gpa=3.8]\n        \n        // Automatic equals\n        var aliceCopy = new Student(\"Alice\", 10, 3.8);\n        System.out.println(alice.equals(aliceCopy));  // true\n        \n        // Use in collections\n        var students = List.of(alice, bob);\n        for (var student : students) {\n            System.out.println(student.name() + \": \" + student.gpa());\n        }\n    }\n}",
              "language": "java"
            },
            {
              "type": "THEORY",
              "title": "When to Use Records",
              "content": "USE RECORDS FOR:\n- Data Transfer Objects (DTOs)\n- API response/request objects\n- Value objects (Money, Coordinate, Range)\n- Configuration objects\n- Tuple-like groupings of data\n- Immutable data holders\n\nRECORD EXAMPLES:\n\n// API Response\nrecord ApiResponse<T>(T data, String message, int status) {}\n\n// Geographic coordinates\nrecord Coordinate(double latitude, double longitude) {\n    public double distanceTo(Coordinate other) {\n        // Calculate distance...\n    }\n}\n\n// Money with currency\nrecord Money(BigDecimal amount, String currency) {\n    public Money add(Money other) {\n        if (!currency.equals(other.currency)) {\n            throw new IllegalArgumentException(\"Currency mismatch\");\n        }\n        return new Money(amount.add(other.amount), currency);\n    }\n}\n\nDON'T USE RECORDS FOR:\n- Entities that need to change (use regular classes)\n- Classes that need inheritance hierarchies\n- Classes with complex initialization logic\n- JPA/Hibernate entities (they need no-arg constructors)"
            }
          ],
          "challenges": [
            {
              "type": "FREE_CODING",
              "id": "epoch-2-lesson-7-record-basic",
              "title": "Create a Simple Record",
              "description": "Create a record named 'Book' with:\n- String title\n- String author\n- int pages\n\nIn main, create a Book with title \"1984\", author \"Orwell\", pages 328.\nPrint the book's title using the accessor method.\n\nExpected output: 1984",
              "instructions": "Create a record named 'Book' with:\n- String title\n- String author\n- int pages\n\nIn main, create a Book with title \"1984\", author \"Orwell\", pages 328.\nPrint the book's title using the accessor method.\n\nExpected output: 1984",
              "starterCode": "// Create a Simple Record\n// Write your code below\n\npublic class Solution {\n    public static void main(String[] args) {\n        \n    }\n}",
              "solution": "// Solution: Create a Simple Record\n// Define the Book record\nrecord Book(String title, String author, int pages) {}\n\npublic class Solution {\n    public static void main(String[] args) {\n        // Create a Book record instance\n        Book book = new Book(\"1984\", \"Orwell\", 328);\n        \n        // Access and print the title\n        System.out.println(book.title());\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-2-lesson-7-record-basic-test-1",
                  "description": "Should print '1984'",
                  "expectedOutput": "1984",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 1,
                  "text": "Records are declared with the syntax: record Name(Type field1, Type field2) {}"
                },
                {
                  "level": 2,
                  "text": "Record accessor methods don't use 'get' prefix - just use book.title() not book.getTitle()"
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Using getTitle() instead of title()",
                  "consequence": "Method not found error",
                  "correction": "Records use component name as accessor: title() not getTitle()"
                },
                {
                  "mistake": "Trying to modify record fields",
                  "consequence": "Compilation error",
                  "correction": "Records are immutable - create a new record instead"
                }
              ],
              "difficulty": "beginner"
            },
            {
              "type": "FREE_CODING",
              "id": "epoch-2-lesson-7-record-method",
              "title": "Record with Custom Method",
              "description": "Create a record 'Rectangle' with:\n- int width\n- int height\n- A method area() that returns width * height\n\nIn main, create a Rectangle(5, 10) and print its area.\n\nExpected output: 50",
              "instructions": "Create a record 'Rectangle' with:\n- int width\n- int height\n- A method area() that returns width * height\n\nIn main, create a Rectangle(5, 10) and print its area.\n\nExpected output: 50",
              "starterCode": "// Record with Custom Method\n// Write your code below\n\npublic class Solution {\n    public static void main(String[] args) {\n        \n    }\n}",
              "solution": "// Solution: Record with Custom Method\n// Define the Rectangle record with custom method\nrecord Rectangle(int width, int height) {\n    public int area() {\n        return width * height;\n    }\n}\n\npublic class Solution {\n    public static void main(String[] args) {\n        // Create a Rectangle\n        Rectangle rect = new Rectangle(5, 10);\n        \n        // Print the area\n        System.out.println(rect.area());\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-2-lesson-7-record-method-test-1",
                  "description": "Should print '50'",
                  "expectedOutput": "50",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 1,
                  "text": "You can add methods inside the record body: record Name(fields) { methods here }"
                },
                {
                  "level": 2,
                  "text": "Inside the method, you can access components directly: width * height"
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Declaring width and height as fields inside the record",
                  "consequence": "Duplicate field error",
                  "correction": "Components are already fields - just use them in methods"
                }
              ],
              "difficulty": "beginner"
            },
            {
              "type": "FREE_CODING",
              "id": "epoch-2-lesson-7-record-validation",
              "title": "Record with Validation",
              "description": "Create a record 'Age' with:\n- int years\n- Validation: throw IllegalArgumentException if years < 0\n\nIn main, create Age(25) and print its years.\n\nExpected output: 25",
              "instructions": "Create a record 'Age' with:\n- int years\n- Validation: throw IllegalArgumentException if years < 0\n\nIn main, create Age(25) and print its years.\n\nExpected output: 25",
              "starterCode": "// Record with Validation\n// Write your code below\n\npublic class Solution {\n    public static void main(String[] args) {\n        \n    }\n}",
              "solution": "// Solution: Record with Validation\n// Define the Age record with compact constructor validation\nrecord Age(int years) {\n    public Age {\n        if (years < 0) {\n            throw new IllegalArgumentException(\"Age cannot be negative\");\n        }\n    }\n}\n\npublic class Solution {\n    public static void main(String[] args) {\n        // Create a valid Age\n        Age age = new Age(25);\n        \n        // Print the years\n        System.out.println(age.years());\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-2-lesson-7-record-validation-test-1",
                  "description": "Should print '25'",
                  "expectedOutput": "25",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 1,
                  "text": "Use a compact constructor: public Age { validation here }"
                },
                {
                  "level": 2,
                  "text": "Compact constructors don't need parameters - they implicitly receive the components"
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Writing full constructor with parameters",
                  "consequence": "More verbose than needed",
                  "correction": "Use compact constructor: public Age { } without parameters"
                }
              ],
              "difficulty": "intermediate"
            }
          ]
        }
      ]
    },
    {
      "id": "module-04",
      "title": "Collections and Functional Programming",
      "description": "Work with arrays, lists, maps, and functional programming with lambdas and streams.",
      "difficulty": "beginner",
      "estimatedHours": 3.2,
      "lessons": [
        {
          "id": "epoch-3-lesson-1",
          "title": "Lesson 3.1: Arrays - Storing Multiple Values",
          "moduleId": "module-04",
          "order": 1,
          "estimatedMinutes": 35,
          "difficulty": "beginner",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: Many Related Values",
              "content": "You want to store the scores of 5 students:\n\nint score1 = 85;\nint score2 = 92;\nint score3 = 78;\nint score4 = 95;\nint score5 = 88;\n\nTo calculate the average:\nint total = score1 + score2 + score3 + score4 + score5;\ndouble avg = total / 5.0;\n\nThis doesn't scale! What if you have 100 students? 1000?\n\nYou need a way to store MANY values of the same type under ONE name.\n\nThis is what ARRAYS do!"
            },
            {
              "type": "KEY_POINT",
              "title": "Arrays are Like a Row of Numbered Boxes",
              "content": "Imagine a row of mail boxes in an apartment building:\n\n[Box 0] [Box 1] [Box 2] [Box 3] [Box 4]\n\nEach box:\n- Holds ONE item\n- Has a NUMBER (index)\n- Contains the SAME TYPE of thing\n\nIn Java:\nint[] scores = new int[5];\nscores[0] = 85;  // Put 85 in box 0\nscores[1] = 92;  // Put 92 in box 1\n\n⚠️ Arrays start at index 0, not 1!"
            },
            {
              "type": "THEORY",
              "title": "Array Syntax",
              "content": "Creating an array:\n\n// Method 1: Declare size, fill later\nint[] numbers = new int[5];\nnumbers[0] = 10;\nnumbers[1] = 20;\n\n// Method 2: Declare with values\nint[] numbers = {10, 20, 30, 40, 50};\n\nAccessing elements:\nSystem.out.println(numbers[0]);  // 10\nSystem.out.println(numbers[4]);  // 50\n\nArray length:\nnumbers.length  // 5\n\nLooping through array:\nfor (int i = 0; i < numbers.length; i++) {\n    System.out.println(numbers[i]);\n}"
            }
          ],
          "challenges": [
            {
              "type": "FREE_CODING",
              "id": "epoch-3-lesson-1-sum",
              "title": "Sum Array Elements",
              "description": "Given an array: {5, 10, 15, 20, 25}\n\nUse a for loop to calculate the sum of all elements.\nPrint the total sum.\n\nExpected output: 75",
              "instructions": "Given an array: {5, 10, 15, 20, 25}\n\nUse a for loop to calculate the sum of all elements.\nPrint the total sum.\n\nExpected output: 75",
              "starterCode": "// Sum Array Elements\n// Write your code below\n\npublic class Solution {\n    public static void main(String[] args) {\n        \n    }\n}",
              "solution": "// Solution: Sum Array Elements\n// This demonstrates looping through an array to calculate a sum\n\npublic class Solution {\n    public static void main(String[] args) {\n        // Create the array with the given values\n        int[] numbers = {5, 10, 15, 20, 25};\n        \n        // Variable to accumulate the sum\n        int sum = 0;\n        \n        // Loop through each element in the array\n        for (int i = 0; i < numbers.length; i++) {\n            sum += numbers[i];  // Add each element to sum\n        }\n        \n        // Print the total sum\n        System.out.println(sum);\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-3-lesson-1-sum-test-1",
                  "description": "Should calculate sum = 75",
                  "expectedOutput": "75",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 1,
                  "text": "Use the print/println function to display output."
                },
                {
                  "level": 2,
                  "text": "Use a for loop or while loop to repeat the operation."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            }
          ]
        },
        {
          "id": "epoch-3-lesson-2",
          "title": "Lesson 3.2: ArrayList - Arrays That Grow",
          "moduleId": "module-04",
          "order": 2,
          "estimatedMinutes": 40,
          "difficulty": "beginner",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: Fixed-Size Arrays",
              "content": "Remember arrays?\n\nint[] numbers = new int[5];  // Size is FIXED at 5\n\nProblems:\n1. What if you need to add a 6th element? Can't do it!\n2. What if you need to remove an element? Have to shift manually\n3. No built-in methods for common operations\n\nExample:\nYou're building a to-do list app. How many tasks will users have?\n- Could be 0\n- Could be 5\n- Could be 100\n\nYou CAN'T predict the size!\n\nSolution: ArrayList - a dynamic, resizable array!"
            },
            {
              "type": "KEY_POINT",
              "title": "ArrayList is Like an Accordion Folder",
              "content": "FIXED ARRAY:\n= Box with 5 compartments\n- Can hold exactly 5 items\n- Want to add a 6th? Too bad!\n- Want to remove one? Empty slot remains\n\nARRAYLIST:\n= Accordion folder\n- Starts with some capacity\n- Add items → expands automatically\n- Remove items → shrinks, no gaps\n- Has methods: add(), remove(), get(), size()\n\nArrayList handles resizing for you!"
            },
            {
              "type": "THEORY",
              "title": "ArrayList Syntax and Operations",
              "content": "IMPORT:\nimport java.util.ArrayList;\n\nCREATING:\nArrayList<String> names = new ArrayList<>();\n// <String> = type parameter (ArrayList of Strings)\n\nADDING ELEMENTS:\nnames.add(\"Alice\");  // [\"Alice\"]\nnames.add(\"Bob\");    // [\"Alice\", \"Bob\"]\nnames.add(\"Carol\");  // [\"Alice\", \"Bob\", \"Carol\"]\n\nACCESSING:\nnames.get(0);  // \"Alice\" (like array[0])\nnames.get(1);  // \"Bob\"\n\nSIZE:\nnames.size();  // 3 (NOT .length like arrays)\n\nREMOVING:\nnames.remove(1);  // Remove \"Bob\"\n// Now: [\"Alice\", \"Carol\"] - automatically shifts!\n\nCHECKING:\nnames.contains(\"Alice\");  // true\nnames.isEmpty();  // false"
            },
            {
              "type": "THEORY",
              "title": "ArrayList vs Array: Key Differences",
              "content": "ARRAY:\nint[] arr = new int[5];\n- Fixed size: 5 elements forever\n- Access: arr[0]\n- Length: arr.length\n- Can hold primitives (int, double, char)\n\nARRAYLIST:\nArrayList<Integer> list = new ArrayList<>();\n- Dynamic size: grows/shrinks\n- Access: list.get(0)\n- Length: list.size()\n- Only holds objects (Integer, String, not int)\n\nAUTOBOXING (automatic conversion):\nArrayList<Integer> nums = new ArrayList<>();\nnums.add(5);  // int 5 → Integer 5 (autoboxing)\nint x = nums.get(0);  // Integer → int (auto-unboxing)"
            },
            {
              "type": "KEY_POINT",
              "title": "Common ArrayList Methods",
              "content": "ADDING:\n- add(item) → adds to end\n- add(index, item) → inserts at position\n\nREMOVING:\n- remove(index) → removes at position\n- remove(object) → removes first occurrence\n- clear() → removes all\n\nACCESSING:\n- get(index) → retrieves element\n- set(index, item) → replaces element\n\nQUERYING:\n- size() → number of elements\n- isEmpty() → true if empty\n- contains(item) → true if found\n- indexOf(item) → position of item (-1 if not found)\n\nLOOPING:\nfor (int i = 0; i < list.size(); i++) {\n    System.out.println(list.get(i));\n}\n\n// Enhanced for loop (easier!)\nfor (String item : list) {\n    System.out.println(item);\n}"
            }
          ],
          "challenges": [
            {
              "type": "FREE_CODING",
              "id": "epoch-3-lesson-2-todo",
              "title": "Simple To-Do List",
              "description": "Create a ToDoList class with:\n- ArrayList<String> field named tasks\n- Constructor that initializes tasks\n- addTask(String task) method\n- getTaskCount() method returning number of tasks\n- getTask(int index) method",
              "instructions": "Create a ToDoList class with:\n- ArrayList<String> field named tasks\n- Constructor that initializes tasks\n- addTask(String task) method\n- getTaskCount() method returning number of tasks\n- getTask(int index) method",
              "starterCode": "import java.util.ArrayList;\n\npublic class ToDoList {\n    // Your code here\n}",
              "solution": "// Solution: Simple To-Do List\n// This demonstrates using ArrayList for dynamic storage\n\nimport java.util.ArrayList;\n\npublic class ToDoList {\n    // ArrayList to store tasks\n    ArrayList<String> tasks;\n    \n    // Constructor initializes the ArrayList\n    public ToDoList() {\n        tasks = new ArrayList<>();\n    }\n    \n    // Add a task to the list\n    public void addTask(String task) {\n        tasks.add(task);\n    }\n    \n    // Get the number of tasks\n    public int getTaskCount() {\n        return tasks.size();\n    }\n    \n    // Get a task by index\n    public String getTask(int index) {\n        return tasks.get(index);\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-3-lesson-2-todo-test-1",
                  "description": "ToDoList list = new ToDoList();\nreturn list.getTaskCount();",
                  "expectedOutput": "0",
                  "isVisible": true
                },
                {
                  "id": "epoch-3-lesson-2-todo-test-2",
                  "description": "ToDoList list = new ToDoList();\nlist.addTask(\"Buy milk\");\nreturn list.getTaskCount();",
                  "expectedOutput": "1",
                  "isVisible": true
                },
                {
                  "id": "epoch-3-lesson-2-todo-test-3",
                  "description": "ToDoList list = new ToDoList();\nlist.addTask(\"Task 1\");\nlist.addTask(\"Task 2\");\nreturn list.getTask(1);",
                  "expectedOutput": "Task 2",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 2,
                  "text": "Define a function using the java syntax. Don't forget the return statement if needed."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            },
            {
              "type": "FREE_CODING",
              "id": "epoch-3-lesson-2-numbers",
              "title": "Sum of ArrayList",
              "description": "Create a class with a method sumList(ArrayList<Integer> nums) that:\n- Takes an ArrayList of integers\n- Returns the sum of all numbers",
              "instructions": "Create a class with a method sumList(ArrayList<Integer> nums) that:\n- Takes an ArrayList of integers\n- Returns the sum of all numbers",
              "starterCode": "import java.util.ArrayList;\n\npublic class ListCalculator {\n    public static int sumList(ArrayList<Integer> nums) {\n        // Your code here\n    }\n}",
              "solution": "// Solution: Sum of ArrayList\n// This demonstrates iterating through an ArrayList\n\nimport java.util.ArrayList;\n\npublic class ListCalculator {\n    public static int sumList(ArrayList<Integer> nums) {\n        // Variable to accumulate sum\n        int sum = 0;\n        \n        // Enhanced for loop - easier way to iterate\n        for (int num : nums) {\n            sum += num;\n        }\n        \n        return sum;\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-3-lesson-2-numbers-test-1",
                  "description": "ArrayList<Integer> nums = new ArrayList<>();\n",
                  "expectedOutput": "30",
                  "isVisible": true
                },
                {
                  "id": "epoch-3-lesson-2-numbers-test-2",
                  "description": "ArrayList<Integer> nums = new ArrayList<>();\n",
                  "expectedOutput": "10",
                  "isVisible": true
                },
                {
                  "id": "epoch-3-lesson-2-numbers-test-3",
                  "description": "ArrayList<Integer> nums = new ArrayList<>();\n",
                  "expectedOutput": "0",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 2,
                  "text": "Define a function using the java syntax. Don't forget the return statement if needed."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            },
            {
              "type": "FREE_CODING",
              "id": "epoch-3-lesson-2-search",
              "title": "Find and Remove",
              "description": "Create a class with method removeNegatives(ArrayList<Integer> nums) that:\n- Takes an ArrayList of integers\n- Removes all negative numbers\n- Returns the modified list",
              "instructions": "Create a class with method removeNegatives(ArrayList<Integer> nums) that:\n- Takes an ArrayList of integers\n- Removes all negative numbers\n- Returns the modified list",
              "starterCode": "import java.util.ArrayList;\n\npublic class ListFilter {\n    public static ArrayList<Integer> removeNegatives(ArrayList<Integer> nums) {\n        // Your code here\n    }\n}",
              "solution": "// Solution: Find and Remove\n// This demonstrates removing elements from an ArrayList\n\nimport java.util.ArrayList;\n\npublic class ListFilter {\n    public static ArrayList<Integer> removeNegatives(ArrayList<Integer> nums) {\n        // Create a new ArrayList for positive numbers\n        ArrayList<Integer> result = new ArrayList<>();\n        \n        // Only add non-negative numbers to result\n        for (int num : nums) {\n            if (num >= 0) {\n                result.add(num);\n            }\n        }\n        \n        return result;\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-3-lesson-2-search-test-1",
                  "description": "ArrayList<Integer> nums = new ArrayList<>();\n",
                  "expectedOutput": "2",
                  "isVisible": true
                },
                {
                  "id": "epoch-3-lesson-2-search-test-2",
                  "description": "ArrayList<Integer> nums = new ArrayList<>();\n",
                  "expectedOutput": "15",
                  "isVisible": false
                }
              ],
              "hints": [
                {
                  "level": 2,
                  "text": "Define a function using the java syntax. Don't forget the return statement if needed."
                },
                {
                  "level": 2,
                  "text": "Use an if statement to check the condition."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            }
          ]
        },
        {
          "id": "epoch-3-lesson-3",
          "title": "Lesson 3.3: HashMap - Looking Up by Name",
          "moduleId": "module-04",
          "order": 3,
          "estimatedMinutes": 40,
          "difficulty": "beginner",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: Finding Data by Index is Limiting",
              "content": "With ArrayList, you access by INDEX:\n\nArrayList<String> students = new ArrayList<>();\nstudents.add(\"Alice\");  // index 0\nstudents.add(\"Bob\");    // index 1\n\nTo find Bob, you need to:\n- Loop through entire list\n- Check each name\n- Remember which index was Bob\n\nReal-world scenarios:\n- Look up a phone number by NAME (not position)\n- Find product price by SKU code\n- Get user profile by username\n\nYou need: KEY → VALUE lookup\n\nSolution: HashMap!"
            },
            {
              "type": "KEY_POINT",
              "title": "HashMap is Like a Dictionary",
              "content": "ENGLISH DICTIONARY:\n- Look up \"apple\" (KEY)\n- Get definition: \"a round fruit...\" (VALUE)\n- Don't need to know page number\n- Direct lookup!\n\nJAVA HASHMAP:\nHashMap<String, String> phonebook = new HashMap<>();\nphonebook.put(\"Alice\", \"555-1234\");  // KEY → VALUE\nphonebook.put(\"Bob\", \"555-5678\");\n\nString aliceNumber = phonebook.get(\"Alice\");  // \"555-1234\"\n\nFast lookup by KEY, not index!"
            },
            {
              "type": "THEORY",
              "title": "HashMap Syntax and Operations",
              "content": "IMPORT:\nimport java.util.HashMap;\n\nCREATING:\nHashMap<String, Integer> ages = new HashMap<>();\n// <KeyType, ValueType>\n\nADDING/UPDATING:\nages.put(\"Alice\", 25);  // Add Alice → 25\nages.put(\"Bob\", 30);    // Add Bob → 30\nages.put(\"Alice\", 26);  // UPDATE Alice to 26 (overwrites)\n\nGETTING VALUES:\nages.get(\"Alice\");  // 26\nages.get(\"Bob\");    // 30\nages.get(\"Carol\");  // null (not found)\n\nCHECKING:\nages.containsKey(\"Alice\");  // true\nages.containsValue(30);  // true\nages.isEmpty();  // false\n\nREMOVING:\nages.remove(\"Bob\");  // Remove Bob's entry\n\nSIZE:\nages.size();  // 1 (only Alice remains)"
            },
            {
              "type": "THEORY",
              "title": "Looping Through a HashMap",
              "content": "You can iterate over KEYS, VALUES, or ENTRIES:\n\nHashMap<String, Integer> scores = new HashMap<>();\nscores.put(\"Alice\", 95);\nscores.put(\"Bob\", 87);\nscores.put(\"Carol\", 92);\n\n// METHOD 1: Loop through keys\nfor (String name : scores.keySet()) {\n    System.out.println(name + \": \" + scores.get(name));\n}\n\n// METHOD 2: Loop through entries (KEY-VALUE pairs)\nfor (Map.Entry<String, Integer> entry : scores.entrySet()) {\n    System.out.println(entry.getKey() + \": \" + entry.getValue());\n}\n\n// METHOD 3: Loop through values only\nfor (Integer score : scores.values()) {\n    System.out.println(score);\n}\n\nNote: HashMap does NOT maintain order (use LinkedHashMap for order)"
            },
            {
              "type": "KEY_POINT",
              "title": "HashMap Performance and Use Cases",
              "content": "PERFORMANCE:\n- put(key, value): O(1) average - FAST!\n- get(key): O(1) average - FAST!\n- containsKey(key): O(1) average - FAST!\n\nCompare to ArrayList search: O(n) - must check every element\n\nWHEN TO USE HASHMAP:\n✓ Need fast lookup by key\n✓ Key-value associations (username → profile)\n✓ Counting occurrences (word → count)\n✓ Caching results (input → output)\n\nWHEN NOT TO USE:\n✗ Need to maintain order (use LinkedHashMap)\n✗ Need sorting (use TreeMap)\n✗ Just storing a list of items (use ArrayList)"
            },
            {
              "type": "THEORY",
              "title": "⚠️ HashMap Keys Must Be Unique",
              "content": "HashMap<String, Integer> map = new HashMap<>();\nmap.put(\"Alice\", 25);\nmap.put(\"Bob\", 30);\nmap.put(\"Alice\", 26);  // OVERWRITES previous Alice value!\n\nSystem.out.println(map.get(\"Alice\"));  // 26 (not 25)\nSystem.out.println(map.size());  // 2 (not 3)\n\nEach KEY can only appear ONCE.\nIf you put() with an existing key, it REPLACES the value.\n\nBut VALUES can be duplicated:\nmap.put(\"Carol\", 30);  // Same value as Bob - totally fine!"
            }
          ],
          "challenges": [
            {
              "type": "FREE_CODING",
              "id": "epoch-3-lesson-3-phonebook",
              "title": "Simple Phonebook",
              "description": "Create a Phonebook class with:\n- HashMap<String, String> field named contacts (name → phone)\n- Constructor that initializes contacts\n- addContact(String name, String phone) method\n- getPhone(String name) method returning the phone number",
              "instructions": "Create a Phonebook class with:\n- HashMap<String, String> field named contacts (name → phone)\n- Constructor that initializes contacts\n- addContact(String name, String phone) method\n- getPhone(String name) method returning the phone number",
              "starterCode": "import java.util.HashMap;\n\npublic class Phonebook {\n    // Your code here\n}",
              "solution": "// Solution: Simple Phonebook\n// This demonstrates using HashMap for key-value storage\n\nimport java.util.HashMap;\n\npublic class Phonebook {\n    // HashMap to store name -> phone number mappings\n    HashMap<String, String> contacts;\n    \n    // Constructor initializes the HashMap\n    public Phonebook() {\n        contacts = new HashMap<>();\n    }\n    \n    // Add a contact\n    public void addContact(String name, String phone) {\n        contacts.put(name, phone);\n    }\n    \n    // Get phone number by name (returns null if not found)\n    public String getPhone(String name) {\n        return contacts.get(name);\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-3-lesson-3-phonebook-test-1",
                  "description": "Phonebook pb = new Phonebook();\n",
                  "expectedOutput": "555-1234",
                  "isVisible": true
                },
                {
                  "id": "epoch-3-lesson-3-phonebook-test-2",
                  "description": "Phonebook pb = new Phonebook();\n",
                  "expectedOutput": "555-9999",
                  "isVisible": true
                },
                {
                  "id": "epoch-3-lesson-3-phonebook-test-3",
                  "description": "Phonebook pb = new Phonebook();\n",
                  "expectedOutput": "null",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 2,
                  "text": "Define a function using the java syntax. Don't forget the return statement if needed."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            },
            {
              "type": "FREE_CODING",
              "id": "epoch-3-lesson-3-inventory",
              "title": "Product Inventory",
              "description": "Create an Inventory class with:\n- HashMap<String, Integer> field named stock (product → quantity)\n- Constructor that initializes stock\n- addProduct(String product, int quantity) method\n- getStock(String product) method returning quantity (or 0 if not found)\n- hasProduct(String product) method returning boolean",
              "instructions": "Create an Inventory class with:\n- HashMap<String, Integer> field named stock (product → quantity)\n- Constructor that initializes stock\n- addProduct(String product, int quantity) method\n- getStock(String product) method returning quantity (or 0 if not found)\n- hasProduct(String product) method returning boolean",
              "starterCode": "import java.util.HashMap;\n\npublic class Inventory {\n    // Your code here\n}",
              "solution": "// Solution: Product Inventory\n// This demonstrates HashMap with containsKey and default values\n\nimport java.util.HashMap;\n\npublic class Inventory {\n    // HashMap to store product -> quantity mappings\n    HashMap<String, Integer> stock;\n    \n    // Constructor initializes the HashMap\n    public Inventory() {\n        stock = new HashMap<>();\n    }\n    \n    // Add a product with quantity\n    public void addProduct(String product, int quantity) {\n        stock.put(product, quantity);\n    }\n    \n    // Get stock quantity (returns 0 if product not found)\n    public int getStock(String product) {\n        // Use getOrDefault to return 0 if product doesn't exist\n        return stock.getOrDefault(product, 0);\n    }\n    \n    // Check if product exists\n    public boolean hasProduct(String product) {\n        return stock.containsKey(product);\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-3-lesson-3-inventory-test-1",
                  "description": "Inventory inv = new Inventory();\n",
                  "expectedOutput": "50",
                  "isVisible": true
                },
                {
                  "id": "epoch-3-lesson-3-inventory-test-2",
                  "description": "Inventory inv = new Inventory();\n",
                  "expectedOutput": "true",
                  "isVisible": true
                },
                {
                  "id": "epoch-3-lesson-3-inventory-test-3",
                  "description": "Inventory inv = new Inventory();\n",
                  "expectedOutput": "false",
                  "isVisible": true
                },
                {
                  "id": "epoch-3-lesson-3-inventory-test-4",
                  "description": "Inventory inv = new Inventory();\n",
                  "expectedOutput": "0",
                  "isVisible": false
                }
              ],
              "hints": [
                {
                  "level": 2,
                  "text": "Define a function using the java syntax. Don't forget the return statement if needed."
                },
                {
                  "level": 2,
                  "text": "Use an if statement to check the condition."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            },
            {
              "type": "FREE_CODING",
              "id": "epoch-3-lesson-3-wordcount",
              "title": "Word Frequency Counter",
              "description": "Create a class with method countWords(String[] words) that:\n- Takes an array of words\n- Returns HashMap<String, Integer> where key=word, value=count\nExample: [\"apple\", \"banana\", \"apple\"] → {\"apple\": 2, \"banana\": 1}",
              "instructions": "Create a class with method countWords(String[] words) that:\n- Takes an array of words\n- Returns HashMap<String, Integer> where key=word, value=count\nExample: [\"apple\", \"banana\", \"apple\"] → {\"apple\": 2, \"banana\": 1}",
              "starterCode": "import java.util.HashMap;\n\npublic class WordCounter {\n    public static HashMap<String, Integer> countWords(String[] words) {\n        // Your code here\n    }\n}",
              "solution": "// Solution: Word Frequency Counter\n// This demonstrates using HashMap for counting occurrences\n\nimport java.util.HashMap;\n\npublic class WordCounter {\n    public static HashMap<String, Integer> countWords(String[] words) {\n        // Create HashMap to store word counts\n        HashMap<String, Integer> counts = new HashMap<>();\n        \n        // Loop through each word in the array\n        for (String word : words) {\n            // If word already exists, increment count\n            // If not, start count at 1\n            if (counts.containsKey(word)) {\n                counts.put(word, counts.get(word) + 1);\n            } else {\n                counts.put(word, 1);\n            }\n        }\n        \n        return counts;\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-3-lesson-3-wordcount-test-1",
                  "description": "String[] words = {\"apple\", \"banana\", \"apple\"};\n",
                  "expectedOutput": "2",
                  "isVisible": true
                },
                {
                  "id": "epoch-3-lesson-3-wordcount-test-2",
                  "description": "String[] words = {\"apple\", \"banana\", \"apple\"};\n",
                  "expectedOutput": "1",
                  "isVisible": true
                },
                {
                  "id": "epoch-3-lesson-3-wordcount-test-3",
                  "description": "String[] words = {\"cat\", \"dog\", \"cat\", \"bird\", \"dog\", \"cat\"};\n",
                  "expectedOutput": "3",
                  "isVisible": false
                }
              ],
              "hints": [
                {
                  "level": 2,
                  "text": "Define a function using the java syntax. Don't forget the return statement if needed."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            }
          ]
        },
        {
          "id": "epoch-3-lesson-4",
          "title": "Lesson 3.4: LinkedList - A Different Kind of List",
          "moduleId": "module-04",
          "order": 4,
          "estimatedMinutes": 35,
          "difficulty": "beginner",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: ArrayList Insertion is Slow",
              "content": "ArrayList stores elements in a continuous block:\n\n[0] [1] [2] [3] [4]\n\nWhat happens when you INSERT in the middle?\n\nlist.add(2, \"NEW\");  // Insert at index 2\n\nArrayList must:\n1. Shift element at index 2 to index 3\n2. Shift element at index 3 to index 4\n3. Shift element at index 4 to index 5\n4. THEN insert \"NEW\" at index 2\n\nFor 1 million elements, this is SLOW! O(n) time\n\nLinkedList solves this differently!"
            },
            {
              "type": "KEY_POINT",
              "title": "LinkedList is Like a Chain of People Holding Hands",
              "content": "ARRAYLIST:\n= People standing in numbered spots\n[Person 0] [Person 1] [Person 2] [Person 3]\n- To add someone in middle: everyone shifts spots\n- Access by position: very fast (just go to spot 2)\n\nLINKEDLIST:\n= Chain of people holding hands\n(Alice) → (Bob) → (Carol) → (Dave)\n- Each person holds hand of next person\n- To insert: break one handhold, insert new person, reconnect\n- Access by position: must walk from start (slower)\n\nLinkedList: Fast insertion, slower access\nArrayList: Slower insertion, fast access"
            },
            {
              "type": "THEORY",
              "title": "LinkedList Syntax",
              "content": "IMPORT:\nimport java.util.LinkedList;\n\nCREATING:\nLinkedList<String> names = new LinkedList<>();\n\nLinkedList has ALL ArrayList methods:\nnames.add(\"Alice\");\nnames.add(\"Bob\");\nnames.get(0);  // \"Alice\"\nnames.remove(1);  // Remove Bob\n\nPLUS special methods for ends:\nnames.addFirst(\"First\");  // Add to beginning\nnames.addLast(\"Last\");    // Add to end\nnames.getFirst();  // Get first element\nnames.getLast();   // Get last element\nnames.removeFirst();  // Remove first\nnames.removeLast();   // Remove last\n\nThese operations are O(1) - VERY FAST!"
            },
            {
              "type": "THEORY",
              "title": "ArrayList vs LinkedList: Performance Comparison",
              "content": "OPERATION          | ArrayList | LinkedList\n-------------------|-----------|-----------\nget(index)         | O(1) ✓    | O(n) ✗\nadd(element)       | O(1) ✓    | O(1) ✓\nadd(index, elem)   | O(n) ✗    | O(n) ~\naddFirst(elem)     | O(n) ✗    | O(1) ✓\naddLast(elem)      | O(1) ✓    | O(1) ✓\nremove(index)      | O(n) ✗    | O(n) ~\nremoveFirst()      | O(n) ✗    | O(1) ✓\nremoveLast()       | O(1) ✓    | O(1) ✓\n\nO(1) = Constant time (FAST)\nO(n) = Linear time (scales with size)\n\nSUMMARY:\nArrayList: Fast random access, slow insertions\nLinkedList: Slow random access, fast insertions at ends"
            },
            {
              "type": "KEY_POINT",
              "title": "When to Use Each Collection",
              "content": "USE ARRAYLIST WHEN:\n✓ You access elements by index frequently\n✓ You mostly add to the end\n✓ You iterate through all elements\n✓ MOST COMMON USE CASE (default choice)\n\nExample: Displaying a list of products\n\nUSE LINKEDLIST WHEN:\n✓ You frequently insert/remove at the beginning\n✓ You implement a Queue (FIFO)\n✓ You implement a Stack (LIFO)\n✓ You rarely access by index\n\nExample: Task queue where tasks are added/removed from front\n\nUSE HASHMAP WHEN:\n✓ You need key-value pairs\n✓ You need fast lookup by key\n✓ Order doesn't matter\n\nExample: User profiles by username\n\nRULE OF THUMB: Start with ArrayList unless you have a reason not to!"
            },
            {
              "type": "THEORY",
              "title": "💻 Queue Example with LinkedList",
              "content": "```java\nA QUEUE is FIFO (First In, First Out) like a line at a store:\n\nLinkedList<String> queue = new LinkedList<>();\n\n// People join the line (add to end)\nqueue.addLast(\"Alice\");\nqueue.addLast(\"Bob\");\nqueue.addLast(\"Carol\");\n\n// Serve customers (remove from front)\nString first = queue.removeFirst();  // \"Alice\"\nString second = queue.removeFirst(); // \"Bob\"\n\n// Who's next?\nString next = queue.getFirst();  // \"Carol\" (peek without removing)\n\nLinkedList is PERFECT for queues because:\n- addLast() is O(1)\n- removeFirst() is O(1)\nBoth operations are FAST!\n```"
            }
          ],
          "challenges": [
            {
              "type": "FREE_CODING",
              "id": "epoch-3-lesson-4-queue",
              "title": "Simple Task Queue",
              "description": "Create a TaskQueue class with:\n- LinkedList<String> field named tasks\n- Constructor that initializes tasks\n- enqueue(String task) method (add to end)\n- dequeue() method (remove and return first task, or null if empty)\n- size() method",
              "instructions": "Create a TaskQueue class with:\n- LinkedList<String> field named tasks\n- Constructor that initializes tasks\n- enqueue(String task) method (add to end)\n- dequeue() method (remove and return first task, or null if empty)\n- size() method",
              "starterCode": "import java.util.LinkedList;\n\npublic class TaskQueue {\n    // Your code here\n}",
              "solution": "// Solution: Simple Task Queue\n// This demonstrates using LinkedList as a FIFO queue\n\nimport java.util.LinkedList;\n\npublic class TaskQueue {\n    // LinkedList for efficient add/remove at ends\n    LinkedList<String> tasks;\n    \n    // Constructor initializes the LinkedList\n    public TaskQueue() {\n        tasks = new LinkedList<>();\n    }\n    \n    // Enqueue: add to end of queue\n    public void enqueue(String task) {\n        tasks.addLast(task);\n    }\n    \n    // Dequeue: remove and return first task\n    public String dequeue() {\n        // Return null if queue is empty\n        if (tasks.isEmpty()) {\n            return null;\n        }\n        return tasks.removeFirst();\n    }\n    \n    // Get current queue size\n    public int size() {\n        return tasks.size();\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-3-lesson-4-queue-test-1",
                  "description": "TaskQueue q = new TaskQueue();\n",
                  "expectedOutput": "2",
                  "isVisible": true
                },
                {
                  "id": "epoch-3-lesson-4-queue-test-2",
                  "description": "TaskQueue q = new TaskQueue();\n",
                  "expectedOutput": "First",
                  "isVisible": true
                },
                {
                  "id": "epoch-3-lesson-4-queue-test-3",
                  "description": "TaskQueue q = new TaskQueue();\n",
                  "expectedOutput": "B",
                  "isVisible": true
                },
                {
                  "id": "epoch-3-lesson-4-queue-test-4",
                  "description": "TaskQueue q = new TaskQueue();\n",
                  "expectedOutput": "null",
                  "isVisible": false
                }
              ],
              "hints": [
                {
                  "level": 2,
                  "text": "Define a function using the java syntax. Don't forget the return statement if needed."
                },
                {
                  "level": 2,
                  "text": "Use an if statement to check the condition."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            }
          ]
        },
        {
          "id": "epoch-3-lesson-5",
          "title": "Lesson 3.5: Sorting, Searching, and Collection Utilities",
          "moduleId": "module-04",
          "order": 5,
          "estimatedMinutes": 40,
          "difficulty": "beginner",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: Collections Need Common Operations",
              "content": "You've learned:\n- ArrayList for dynamic lists\n- HashMap for key-value pairs\n- LinkedList for queue-like structures\n\nBut you often need to:\n- SORT a list (alphabetically, numerically)\n- SEARCH for an element\n- SHUFFLE elements\n- Find MAX/MIN values\n- REVERSE order\n\nGood news: Java provides Collections utility class with methods for all of this!"
            },
            {
              "type": "THEORY",
              "title": "Collections.sort() - Sorting Lists",
              "content": "IMPORT:\nimport java.util.Collections;\n\nSORTING NUMBERS:\nArrayList<Integer> numbers = new ArrayList<>();\nnumbers.add(5);\nnumbers.add(2);\nnumbers.add(8);\nnumbers.add(1);\n\nCollections.sort(numbers);  // Sorts IN PLACE\n// Now: [1, 2, 5, 8]\n\nSORTING STRINGS:\nArrayList<String> names = new ArrayList<>();\nnames.add(\"Charlie\");\nnames.add(\"Alice\");\nnames.add(\"Bob\");\n\nCollections.sort(names);  // Alphabetical\n// Now: [\"Alice\", \"Bob\", \"Charlie\"]\n\nREVERSE SORT:\nCollections.sort(numbers, Collections.reverseOrder());\n// Now: [8, 5, 2, 1]"
            },
            {
              "type": "THEORY",
              "title": "Other Useful Collections Methods",
              "content": "REVERSE:\nCollections.reverse(list);  // Reverse the order\n\nSHUFFLE:\nCollections.shuffle(list);  // Randomize order\n\nMAX AND MIN:\nArrayList<Integer> nums = new ArrayList<>();\nnums.add(5);\nnums.add(2);\nnums.add(9);\nint max = Collections.max(nums);  // 9\nint min = Collections.min(nums);  // 2\n\nFREQUENCY:\nArrayList<String> items = new ArrayList<>();\nitems.add(\"apple\");\nitems.add(\"banana\");\nitems.add(\"apple\");\nint count = Collections.frequency(items, \"apple\");  // 2\n\nFILL:\nCollections.fill(list, \"X\");  // Replace all with \"X\""
            },
            {
              "type": "THEORY",
              "title": "Enhanced For Loop (for-each)",
              "content": "The EASIEST way to iterate through collections:\n\nArrayList<String> fruits = new ArrayList<>();\nfruits.add(\"Apple\");\nfruits.add(\"Banana\");\nfruits.add(\"Cherry\");\n\n// Traditional for loop\nfor (int i = 0; i < fruits.size(); i++) {\n    System.out.println(fruits.get(i));\n}\n\n// Enhanced for loop (for-each)\nfor (String fruit : fruits) {  // Read as: \"for each fruit in fruits\"\n    System.out.println(fruit);\n}\n\nBenefits:\n- Cleaner syntax\n- No index errors\n- Works with ANY collection\n\nWorks with HashMap too:\nHashMap<String, Integer> ages = new HashMap<>();\nfor (String key : ages.keySet()) {\n    System.out.println(key + \": \" + ages.get(key));\n}"
            },
            {
              "type": "KEY_POINT",
              "title": "The Collection Interface Hierarchy",
              "content": "All collections implement common interfaces:\n\nCollection (interface)\n  |\n  ├─ List (interface)\n  │   ├─ ArrayList (class)\n  │   └─ LinkedList (class)\n  │\n  ├─ Set (interface) - No duplicates\n  │   ├─ HashSet (class)\n  │   └─ TreeSet (class) - Sorted\n  │\n  └─ Queue (interface)\n      └─ LinkedList (class)\n\nMap (separate hierarchy)\n  ├─ HashMap (class)\n  ├─ LinkedHashMap (maintains order)\n  └─ TreeMap (sorted by key)\n\nCommon methods ALL collections share:\n- add(element)\n- remove(element)\n- size()\n- isEmpty()\n- clear()\n- contains(element)"
            },
            {
              "type": "THEORY",
              "title": "💻 Real-World Example: Leaderboard",
              "content": "```java\nBuilding a game leaderboard:\n\nimport java.util.*;\n\nclass Player {\n    String name;\n    int score;\n    \n    Player(String name, int score) {\n        this.name = name;\n        this.score = score;\n    }\n}\n\nArrayList<Player> players = new ArrayList<>();\nplayers.add(new Player(\"Alice\", 500));\nplayers.add(new Player(\"Bob\", 750));\nplayers.add(new Player(\"Carol\", 300));\n\n// Sort by score (highest first)\nCollections.sort(players, (p1, p2) -> p2.score - p1.score);\n\n// Display leaderboard\nfor (int i = 0; i < players.size(); i++) {\n    Player p = players.get(i);\n    System.out.println((i+1) + \". \" + p.name + \": \" + p.score);\n}\n\nOutput:\n1. Bob: 750\n2. Alice: 500\n3. Carol: 300\n```"
            }
          ],
          "challenges": [
            {
              "type": "FREE_CODING",
              "id": "epoch-3-lesson-5-sort",
              "title": "Sort Numbers",
              "description": "Create a class with method sortNumbers(ArrayList<Integer> nums) that:\n- Sorts the list in ascending order\n- Returns the sorted list\nUse Collections.sort()",
              "instructions": "Create a class with method sortNumbers(ArrayList<Integer> nums) that:\n- Sorts the list in ascending order\n- Returns the sorted list\nUse Collections.sort()",
              "starterCode": "import java.util.ArrayList;\nimport java.util.Collections;\n\npublic class Sorter {\n    public static ArrayList<Integer> sortNumbers(ArrayList<Integer> nums) {\n        // Your code here\n    }\n}",
              "solution": "// Solution: Sort Numbers\n// This demonstrates using Collections.sort()\n\nimport java.util.ArrayList;\nimport java.util.Collections;\n\npublic class Sorter {\n    public static ArrayList<Integer> sortNumbers(ArrayList<Integer> nums) {\n        // Collections.sort modifies the list in-place\n        Collections.sort(nums);\n        \n        // Return the sorted list\n        return nums;\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-3-lesson-5-sort-test-1",
                  "description": "ArrayList<Integer> nums = new ArrayList<>();\n",
                  "expectedOutput": "1",
                  "isVisible": true
                },
                {
                  "id": "epoch-3-lesson-5-sort-test-2",
                  "description": "ArrayList<Integer> nums = new ArrayList<>();\n",
                  "expectedOutput": "8",
                  "isVisible": true
                },
                {
                  "id": "epoch-3-lesson-5-sort-test-3",
                  "description": "ArrayList<Integer> nums = new ArrayList<>();\n",
                  "expectedOutput": "75",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 2,
                  "text": "Define a function using the java syntax. Don't forget the return statement if needed."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            },
            {
              "type": "FREE_CODING",
              "id": "epoch-3-lesson-5-maxmin",
              "title": "Find Max and Min",
              "description": "Create a class with method getRange(ArrayList<Integer> nums) that:\n- Returns the difference between max and min values\nUse Collections.max() and Collections.min()",
              "instructions": "Create a class with method getRange(ArrayList<Integer> nums) that:\n- Returns the difference between max and min values\nUse Collections.max() and Collections.min()",
              "starterCode": "import java.util.ArrayList;\nimport java.util.Collections;\n\npublic class RangeFinder {\n    public static int getRange(ArrayList<Integer> nums) {\n        // Your code here\n    }\n}",
              "solution": "// Solution: Find Max and Min\n// This demonstrates using Collections.max() and min()\n\nimport java.util.ArrayList;\nimport java.util.Collections;\n\npublic class RangeFinder {\n    public static int getRange(ArrayList<Integer> nums) {\n        // Get the maximum value\n        int max = Collections.max(nums);\n        \n        // Get the minimum value\n        int min = Collections.min(nums);\n        \n        // Return the difference (range)\n        return max - min;\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-3-lesson-5-maxmin-test-1",
                  "description": "ArrayList<Integer> nums = new ArrayList<>();\n",
                  "expectedOutput": "8",
                  "isVisible": true
                },
                {
                  "id": "epoch-3-lesson-5-maxmin-test-2",
                  "description": "ArrayList<Integer> nums = new ArrayList<>();\n",
                  "expectedOutput": "50",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 2,
                  "text": "Define a function using the java syntax. Don't forget the return statement if needed."
                },
                {
                  "level": 2,
                  "text": "Use an if statement to check the condition."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            },
            {
              "type": "FREE_CODING",
              "id": "epoch-3-lesson-5-top",
              "title": "Get Top Scores",
              "description": "Create a class with method getTopThree(ArrayList<Integer> scores) that:\n- Returns a new ArrayList with the top 3 highest scores in descending order\n- If less than 3 scores, return all of them sorted\nHint: Sort in reverse order and take first 3",
              "instructions": "Create a class with method getTopThree(ArrayList<Integer> scores) that:\n- Returns a new ArrayList with the top 3 highest scores in descending order\n- If less than 3 scores, return all of them sorted\nHint: Sort in reverse order and take first 3",
              "starterCode": "import java.util.ArrayList;\nimport java.util.Collections;\n\npublic class TopScores {\n    public static ArrayList<Integer> getTopThree(ArrayList<Integer> scores) {\n        // Your code here\n    }\n}",
              "solution": "// Solution: Get Top Scores\n// This demonstrates sorting in reverse order and sublist\n\nimport java.util.ArrayList;\nimport java.util.Collections;\n\npublic class TopScores {\n    public static ArrayList<Integer> getTopThree(ArrayList<Integer> scores) {\n        // Sort in descending order (highest first)\n        Collections.sort(scores, Collections.reverseOrder());\n        \n        // Create result list\n        ArrayList<Integer> result = new ArrayList<>();\n        \n        // Take up to 3 elements (or all if less than 3)\n        int count = Math.min(3, scores.size());\n        for (int i = 0; i < count; i++) {\n            result.add(scores.get(i));\n        }\n        \n        return result;\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-3-lesson-5-top-test-1",
                  "description": "ArrayList<Integer> scores = new ArrayList<>();\n",
                  "expectedOutput": "3",
                  "isVisible": true
                },
                {
                  "id": "epoch-3-lesson-5-top-test-2",
                  "description": "ArrayList<Integer> scores = new ArrayList<>();\n",
                  "expectedOutput": "95",
                  "isVisible": true
                },
                {
                  "id": "epoch-3-lesson-5-top-test-3",
                  "description": "ArrayList<Integer> scores = new ArrayList<>();\n",
                  "expectedOutput": "88",
                  "isVisible": false
                }
              ],
              "hints": [
                {
                  "level": 2,
                  "text": "Define a function using the java syntax. Don't forget the return statement if needed."
                },
                {
                  "level": 2,
                  "text": "Use an if statement to check the condition."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            }
          ]
        },
        {
          "id": "epoch-3-lesson-6",
          "title": "Lesson 3.6: Lambda Expressions - Functions as Data (Java 8+)",
          "moduleId": "module-04",
          "order": 6,
          "estimatedMinutes": 45,
          "difficulty": "intermediate",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: Passing Behavior Around",
              "content": "Imagine you want to sort a list of names by length instead of alphabetically:\n\n// Traditional way: Create a whole class just to pass behavior\nclass LengthComparator implements Comparator<String> {\n    public int compare(String a, String b) {\n        return a.length() - b.length();\n    }\n}\nCollections.sort(names, new LengthComparator());\n\n// Or use anonymous class (still verbose)\nCollections.sort(names, new Comparator<String>() {\n    public int compare(String a, String b) {\n        return a.length() - b.length();\n    }\n});\n\nThat's A LOT of code just to say: \"sort by length\"!\n\nJava 8 introduced LAMBDA EXPRESSIONS to pass behavior in a concise way:\n\nCollections.sort(names, (a, b) -> a.length() - b.length());\n\nOne line instead of 5+!"
            },
            {
              "type": "KEY_POINT",
              "title": "Lambda Syntax Explained",
              "content": "A lambda is an anonymous function you can pass around:\n\n(parameters) -> expression\n  or\n(parameters) -> { statements; }\n\nEXAMPLES:\n\n// No parameters\n() -> System.out.println(\"Hello\")\n\n// One parameter (parentheses optional)\nx -> x * 2\n(x) -> x * 2\n\n// Two parameters\n(a, b) -> a + b\n\n// With types (optional)\n(String s) -> s.length()\n(int a, int b) -> a + b\n\n// Multi-line with braces (must use return)\n(a, b) -> {\n    int sum = a + b;\n    return sum * 2;\n}\n\nKEY RULES:\n1. Types are usually inferred (don't need to specify)\n2. Single expression: no braces, implicit return\n3. Multiple statements: need braces and explicit return"
            },
            {
              "type": "THEORY",
              "title": "Functional Interfaces",
              "content": "Lambdas can only be used where a FUNCTIONAL INTERFACE is expected.\n\nA functional interface has exactly ONE abstract method:\n\n@FunctionalInterface\ninterface Calculator {\n    int calculate(int a, int b);  // ONE abstract method\n}\n\n// Use lambda to implement it\nCalculator add = (a, b) -> a + b;\nCalculator multiply = (a, b) -> a * b;\n\nSystem.out.println(add.calculate(5, 3));      // 8\nSystem.out.println(multiply.calculate(5, 3)); // 15\n\nCOMMON BUILT-IN FUNCTIONAL INTERFACES:\n\n1. Predicate<T> - takes T, returns boolean\n   Predicate<String> isEmpty = s -> s.isEmpty();\n\n2. Function<T, R> - takes T, returns R\n   Function<String, Integer> length = s -> s.length();\n\n3. Consumer<T> - takes T, returns nothing\n   Consumer<String> printer = s -> System.out.println(s);\n\n4. Supplier<T> - takes nothing, returns T\n   Supplier<Double> random = () -> Math.random();\n\n5. Comparator<T> - takes two T, returns int\n   Comparator<String> byLength = (a, b) -> a.length() - b.length();"
            },
            {
              "type": "KEY_POINT",
              "title": "Method References",
              "content": "When a lambda just calls an existing method, use a method reference:\n\n// Lambda that calls a method\nlist.forEach(s -> System.out.println(s));\n\n// Method reference (cleaner!)\nlist.forEach(System.out::println);\n\nFOUR TYPES OF METHOD REFERENCES:\n\n1. Static method: ClassName::staticMethod\n   Function<String, Integer> parse = Integer::parseInt;\n   // Same as: s -> Integer.parseInt(s)\n\n2. Instance method of a particular object: object::method\n   String prefix = \"Hello, \";\n   Function<String, String> greeter = prefix::concat;\n   // Same as: s -> prefix.concat(s)\n\n3. Instance method of an arbitrary object: ClassName::method\n   Function<String, String> upper = String::toUpperCase;\n   // Same as: s -> s.toUpperCase()\n\n4. Constructor reference: ClassName::new\n   Supplier<ArrayList<String>> listMaker = ArrayList::new;\n   // Same as: () -> new ArrayList<String>()\n\nMethod references are cleaner when the lambda just delegates to a method."
            },
            {
              "type": "EXAMPLE",
              "title": "Lambdas in Action",
              "content": "Lambdas work with functional interfaces like Comparator, Predicate, Function, and Consumer. Method references (::) provide cleaner syntax when a lambda just calls an existing method.",
              "code": "import java.util.*;\nimport java.util.function.*;\n\npublic class LambdaDemo {\n    public static void main(String[] args) {\n        // Lambda as Comparator\n        List<String> names = new ArrayList<>(List.of(\"Alice\", \"Bob\", \"Charlie\", \"Dan\"));\n        names.sort((a, b) -> a.length() - b.length());\n        System.out.println(names); // [Bob, Dan, Alice, Charlie]\n        \n        // Lambda with forEach\n        names.forEach(name -> System.out.println(\"Hello, \" + name));\n        \n        // Method reference\n        names.forEach(System.out::println);\n        \n        // Predicate - filter condition\n        Predicate<String> startsWithA = s -> s.startsWith(\"A\");\n        System.out.println(startsWithA.test(\"Alice\")); // true\n        System.out.println(startsWithA.test(\"Bob\"));   // false\n        \n        // Function - transform\n        Function<String, Integer> getLength = String::length;\n        System.out.println(getLength.apply(\"Hello\")); // 5\n        \n        // Consumer - action\n        Consumer<String> shout = s -> System.out.println(s.toUpperCase() + \"!\");\n        shout.accept(\"hello\"); // HELLO!\n        \n        // Custom functional interface\n        Calculator add = (a, b) -> a + b;\n        Calculator multiply = (a, b) -> a * b;\n        System.out.println(operate(10, 5, add));      // 15\n        System.out.println(operate(10, 5, multiply)); // 50\n    }\n    \n    @FunctionalInterface\n    interface Calculator {\n        int calculate(int a, int b);\n    }\n    \n    static int operate(int a, int b, Calculator calc) {\n        return calc.calculate(a, b);\n    }\n}",
              "language": "java"
            }
          ],
          "challenges": [
            {
              "type": "FREE_CODING",
              "id": "epoch-3-lesson-6-lambda-basic",
              "title": "Basic Lambda Expression",
              "description": "Create a list of names and sort it by length (shortest first) using a lambda.\n\nList: [\"Charlie\", \"Bob\", \"Alice\", \"Dan\"]\n\nPrint the first name after sorting.\n\nExpected output: Bob",
              "instructions": "Create a list of names and sort it by length (shortest first) using a lambda.\n\nList: [\"Charlie\", \"Bob\", \"Alice\", \"Dan\"]\n\nPrint the first name after sorting.",
              "starterCode": "import java.util.*;\n\npublic class Solution {\n    public static void main(String[] args) {\n        // Create and sort the list\n    }\n}",
              "solution": "import java.util.*;\n\npublic class Solution {\n    public static void main(String[] args) {\n        List<String> names = new ArrayList<>(List.of(\"Charlie\", \"Bob\", \"Alice\", \"Dan\"));\n        names.sort((a, b) -> a.length() - b.length());\n        System.out.println(names.get(0));\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-3-lesson-6-lambda-basic-test-1",
                  "description": "Should print 'Bob'",
                  "expectedOutput": "Bob",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 1,
                  "text": "Use list.sort((a, b) -> comparison) with a lambda"
                },
                {
                  "level": 2,
                  "text": "Compare lengths: a.length() - b.length() for ascending order"
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Using Arrays.asList() which returns fixed-size list",
                  "consequence": "UnsupportedOperationException when sorting",
                  "correction": "Wrap with new ArrayList<>() to make it mutable"
                }
              ],
              "difficulty": "beginner"
            },
            {
              "type": "FREE_CODING",
              "id": "epoch-3-lesson-6-method-ref",
              "title": "Method Reference",
              "description": "Create a list of names and use forEach with a method reference to print each name.\n\nList: [\"Alice\", \"Bob\"]\n\nExpected output:\nAlice\nBob",
              "instructions": "Create a list of names and use forEach with a method reference to print each name.\n\nList: [\"Alice\", \"Bob\"]",
              "starterCode": "import java.util.*;\n\npublic class Solution {\n    public static void main(String[] args) {\n        // Use forEach with method reference\n    }\n}",
              "solution": "import java.util.*;\n\npublic class Solution {\n    public static void main(String[] args) {\n        List<String> names = List.of(\"Alice\", \"Bob\");\n        names.forEach(System.out::println);\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-3-lesson-6-method-ref-test-1",
                  "description": "Should print names",
                  "expectedOutput": "Alice\nBob",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 1,
                  "text": "Method reference syntax: ClassName::methodName or object::methodName"
                },
                {
                  "level": 2,
                  "text": "System.out::println is a method reference to the println method"
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Using System.out.println() with parentheses in method reference",
                  "consequence": "Compilation error",
                  "correction": "Use System.out::println (double colon, no parentheses)"
                }
              ],
              "difficulty": "beginner"
            }
          ]
        },
        {
          "id": "epoch-3-lesson-7",
          "title": "Lesson 3.7: Streams - Functional Collection Processing (Java 8+)",
          "moduleId": "module-04",
          "order": 7,
          "estimatedMinutes": 50,
          "difficulty": "intermediate",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: Verbose Collection Processing",
              "content": "Traditional way to filter and transform a list:\n\n// Get names longer than 3 characters, convert to uppercase\nList<String> names = List.of(\"Alice\", \"Bob\", \"Charlie\", \"Dan\");\nList<String> result = new ArrayList<>();\n\nfor (String name : names) {\n    if (name.length() > 3) {           // Filter\n        result.add(name.toUpperCase());  // Transform\n    }\n}\n// result: [ALICE, CHARLIE]\n\nProblems:\n1. Very verbose (5+ lines for simple operation)\n2. Mixes what we want with how to do it\n3. Hard to parallelize\n4. Lots of mutable state\n\nWith STREAMS:\n\nList<String> result = names.stream()\n    .filter(name -> name.length() > 3)\n    .map(String::toUpperCase)\n    .collect(Collectors.toList());\n\nCleaner, more readable, and easily parallelizable!"
            },
            {
              "type": "KEY_POINT",
              "title": "Stream Pipeline Structure",
              "content": "A stream pipeline has three parts:\n\n1. SOURCE - Where data comes from\n   list.stream()           // From collection\n   Arrays.stream(array)    // From array\n   Stream.of(a, b, c)      // From values\n   Stream.iterate(0, n -> n + 1)  // Generated\n\n2. INTERMEDIATE OPERATIONS - Transform the stream (lazy!)\n   .filter(predicate)      // Keep matching elements\n   .map(function)          // Transform each element\n   .sorted()               // Sort elements\n   .distinct()             // Remove duplicates\n   .limit(n)               // Take first n\n   .skip(n)                // Skip first n\n\n3. TERMINAL OPERATION - Produce result (triggers processing)\n   .collect(Collectors.toList())  // To list\n   .forEach(consumer)      // Do something with each\n   .count()                // Count elements\n   .findFirst()            // Get first (Optional)\n   .reduce(identity, accumulator)  // Combine to one\n   .anyMatch(predicate)    // Any match?\n   .allMatch(predicate)    // All match?\n\nKEY: Streams are LAZY - nothing happens until terminal operation!"
            },
            {
              "type": "THEORY",
              "title": "Common Stream Operations",
              "content": "FILTER - Keep elements matching condition\nList<Integer> evens = numbers.stream()\n    .filter(n -> n % 2 == 0)\n    .collect(Collectors.toList());\n\nMAP - Transform each element\nList<Integer> lengths = names.stream()\n    .map(String::length)\n    .collect(Collectors.toList());\n\nSORTED - Sort elements\nList<String> sorted = names.stream()\n    .sorted()  // Natural order\n    .collect(Collectors.toList());\n\nList<String> byLength = names.stream()\n    .sorted(Comparator.comparing(String::length))\n    .collect(Collectors.toList());\n\nDISTINCT - Remove duplicates\nList<Integer> unique = numbers.stream()\n    .distinct()\n    .collect(Collectors.toList());\n\nLIMIT and SKIP - Pagination\nList<String> page = names.stream()\n    .skip(10)      // Skip first 10\n    .limit(5)      // Take next 5\n    .collect(Collectors.toList());\n\nFLATMAP - Flatten nested streams\nList<String> allWords = sentences.stream()\n    .flatMap(s -> Arrays.stream(s.split(\" \")))\n    .collect(Collectors.toList());"
            },
            {
              "type": "KEY_POINT",
              "title": "Collectors and Terminal Operations",
              "content": "COLLECTING TO DIFFERENT TYPES:\n\n// To List\nList<String> list = stream.collect(Collectors.toList());\n\n// To Set (removes duplicates)\nSet<String> set = stream.collect(Collectors.toSet());\n\n// To Map\nMap<String, Integer> map = names.stream()\n    .collect(Collectors.toMap(\n        name -> name,        // Key mapper\n        String::length       // Value mapper\n    ));\n\n// Joining strings\nString joined = names.stream()\n    .collect(Collectors.joining(\", \")); // \"Alice, Bob, Charlie\"\n\n// Grouping\nMap<Integer, List<String>> byLength = names.stream()\n    .collect(Collectors.groupingBy(String::length));\n\nOTHER TERMINAL OPERATIONS:\n\n// Count\nlong count = stream.count();\n\n// Sum, average, max, min (for numbers)\nint sum = numbers.stream().mapToInt(Integer::intValue).sum();\nOptionalDouble avg = numbers.stream().mapToInt(Integer::intValue).average();\n\n// Reduce to single value\nOptional<String> concat = names.stream()\n    .reduce((a, b) -> a + b);\n\n// Any/All/None match\nboolean anyLong = names.stream().anyMatch(s -> s.length() > 10);\nboolean allShort = names.stream().allMatch(s -> s.length() < 20);"
            },
            {
              "type": "EXAMPLE",
              "title": "Stream Pipeline Examples",
              "content": "Stream pipelines chain filter, map, and collect operations for declarative collection processing. Operations are lazy until a terminal operation like collect() triggers processing.",
              "code": "import java.util.*;\nimport java.util.stream.*;\n\npublic class StreamDemo {\n    public static void main(String[] args) {\n        List<String> names = List.of(\"Alice\", \"Bob\", \"Charlie\", \"Dan\", \"Eve\");\n        \n        // Filter and collect\n        List<String> longNames = names.stream()\n            .filter(n -> n.length() > 3)\n            .collect(Collectors.toList());\n        System.out.println(longNames); // [Alice, Charlie]\n        \n        // Map and collect\n        List<Integer> lengths = names.stream()\n            .map(String::length)\n            .collect(Collectors.toList());\n        System.out.println(lengths); // [5, 3, 7, 3, 3]\n        \n        // Filter, map, collect\n        List<String> upperLong = names.stream()\n            .filter(n -> n.length() > 3)\n            .map(String::toUpperCase)\n            .collect(Collectors.toList());\n        System.out.println(upperLong); // [ALICE, CHARLIE]\n        \n        // Find first matching\n        Optional<String> firstLong = names.stream()\n            .filter(n -> n.length() > 3)\n            .findFirst();\n        firstLong.ifPresent(System.out::println); // Alice\n        \n        // Count\n        long count = names.stream()\n            .filter(n -> n.length() == 3)\n            .count();\n        System.out.println(\"3-letter names: \" + count); // 3\n        \n        // Sum with mapToInt\n        List<Integer> numbers = List.of(1, 2, 3, 4, 5);\n        int sum = numbers.stream()\n            .mapToInt(Integer::intValue)\n            .sum();\n        System.out.println(\"Sum: \" + sum); // 15\n        \n        // Join strings\n        String joined = names.stream()\n            .collect(Collectors.joining(\", \"));\n        System.out.println(joined); // Alice, Bob, Charlie, Dan, Eve\n        \n        // Group by length\n        Map<Integer, List<String>> byLength = names.stream()\n            .collect(Collectors.groupingBy(String::length));\n        System.out.println(byLength); // {3=[Bob, Dan, Eve], 5=[Alice], 7=[Charlie]}\n    }\n}",
              "language": "java"
            },
            {
              "type": "THEORY",
              "title": "Best Practices for Streams",
              "content": "DO:\n- Use streams for transforming collections\n- Chain operations for readability\n- Use method references when possible\n- Use parallel streams for CPU-intensive operations on large data\n\nDON'T:\n- Use streams for simple loops (overkill)\n- Modify external state in stream operations\n- Reuse streams (they can only be consumed once)\n- Use parallel streams for I/O operations\n\nPARALLEL STREAMS:\nList<String> result = names.parallelStream()\n    .filter(n -> n.length() > 3)\n    .map(String::toUpperCase)\n    .collect(Collectors.toList());\n\nNote: Parallel streams split work across CPU cores.\nOnly use for CPU-bound operations on large datasets!\n\nWHEN TO USE STREAMS:\n- Filtering, mapping, reducing collections\n- When you want declarative, readable code\n- When operations can be parallelized\n\nWHEN NOT TO USE:\n- Simple iteration with side effects\n- When performance is critical and data is small\n- When you need to modify the original collection"
            }
          ],
          "challenges": [
            {
              "type": "FREE_CODING",
              "id": "epoch-3-lesson-7-stream-filter",
              "title": "Filter with Streams",
              "description": "Given a list of numbers [1, 2, 3, 4, 5, 6, 7, 8, 9, 10], use streams to:\n1. Filter only even numbers\n2. Collect to a list\n3. Print the first element\n\nExpected output: 2",
              "instructions": "Given a list of numbers [1, 2, 3, 4, 5, 6, 7, 8, 9, 10], use streams to:\n1. Filter only even numbers\n2. Collect to a list\n3. Print the first element",
              "starterCode": "import java.util.*;\nimport java.util.stream.*;\n\npublic class Solution {\n    public static void main(String[] args) {\n        List<Integer> numbers = List.of(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);\n        // Use stream to filter and collect\n    }\n}",
              "solution": "import java.util.*;\nimport java.util.stream.*;\n\npublic class Solution {\n    public static void main(String[] args) {\n        List<Integer> numbers = List.of(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);\n        List<Integer> evens = numbers.stream()\n            .filter(n -> n % 2 == 0)\n            .collect(Collectors.toList());\n        System.out.println(evens.get(0));\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-3-lesson-7-stream-filter-test-1",
                  "description": "Should print '2'",
                  "expectedOutput": "2",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 1,
                  "text": "Use .filter(n -> n % 2 == 0) to keep even numbers"
                },
                {
                  "level": 2,
                  "text": "End with .collect(Collectors.toList()) to get a List"
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting to import Collectors",
                  "consequence": "Cannot find symbol error",
                  "correction": "Add import java.util.stream.Collectors"
                }
              ],
              "difficulty": "beginner"
            },
            {
              "type": "FREE_CODING",
              "id": "epoch-3-lesson-7-stream-map",
              "title": "Map with Streams",
              "description": "Given a list of names [\"alice\", \"bob\", \"charlie\"], use streams to:\n1. Convert each name to uppercase\n2. Collect to a list\n3. Print the result\n\nExpected output: [ALICE, BOB, CHARLIE]",
              "instructions": "Given a list of names [\"alice\", \"bob\", \"charlie\"], use streams to:\n1. Convert each name to uppercase\n2. Collect to a list\n3. Print the result",
              "starterCode": "import java.util.*;\nimport java.util.stream.*;\n\npublic class Solution {\n    public static void main(String[] args) {\n        List<String> names = List.of(\"alice\", \"bob\", \"charlie\");\n        // Use stream to map and collect\n    }\n}",
              "solution": "import java.util.*;\nimport java.util.stream.*;\n\npublic class Solution {\n    public static void main(String[] args) {\n        List<String> names = List.of(\"alice\", \"bob\", \"charlie\");\n        List<String> upper = names.stream()\n            .map(String::toUpperCase)\n            .collect(Collectors.toList());\n        System.out.println(upper);\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-3-lesson-7-stream-map-test-1",
                  "description": "Should print '[ALICE, BOB, CHARLIE]'",
                  "expectedOutput": "[ALICE, BOB, CHARLIE]",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 1,
                  "text": "Use .map() to transform each element"
                },
                {
                  "level": 2,
                  "text": "String::toUpperCase is a method reference for s -> s.toUpperCase()"
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Using map(String.toUpperCase())",
                  "consequence": "Compilation error",
                  "correction": "Use method reference String::toUpperCase or lambda s -> s.toUpperCase()"
                }
              ],
              "difficulty": "beginner"
            },
            {
              "type": "FREE_CODING",
              "id": "epoch-3-lesson-7-stream-sum",
              "title": "Sum with Streams",
              "description": "Given a list of numbers [1, 2, 3, 4, 5], use streams to calculate and print the sum.\n\nExpected output: 15",
              "instructions": "Given a list of numbers [1, 2, 3, 4, 5], use streams to calculate and print the sum.",
              "starterCode": "import java.util.*;\nimport java.util.stream.*;\n\npublic class Solution {\n    public static void main(String[] args) {\n        List<Integer> numbers = List.of(1, 2, 3, 4, 5);\n        // Use stream to calculate sum\n    }\n}",
              "solution": "import java.util.*;\nimport java.util.stream.*;\n\npublic class Solution {\n    public static void main(String[] args) {\n        List<Integer> numbers = List.of(1, 2, 3, 4, 5);\n        int sum = numbers.stream()\n            .mapToInt(Integer::intValue)\n            .sum();\n        System.out.println(sum);\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-3-lesson-7-stream-sum-test-1",
                  "description": "Should print '15'",
                  "expectedOutput": "15",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 1,
                  "text": "Use .mapToInt() to convert to IntStream which has a .sum() method"
                },
                {
                  "level": 2,
                  "text": "Integer::intValue extracts the int value from Integer objects"
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Trying to call .sum() on a regular Stream",
                  "consequence": "Method not found error",
                  "correction": "Convert to IntStream first with mapToInt()"
                }
              ],
              "difficulty": "intermediate"
            },
            {
              "type": "FREE_CODING",
              "id": "epoch-3-lesson-7-stream-chain",
              "title": "Chaining Stream Operations",
              "description": "Given a list of numbers [1, 2, 3, 4, 5, 6, 7, 8, 9, 10], use streams to:\n1. Filter only numbers greater than 5\n2. Multiply each by 2\n3. Collect to a list\n4. Print the result\n\nExpected output: [12, 14, 16, 18, 20]",
              "instructions": "Given a list of numbers [1, 2, 3, 4, 5, 6, 7, 8, 9, 10], use streams to:\n1. Filter only numbers greater than 5\n2. Multiply each by 2\n3. Collect to a list\n4. Print the result",
              "starterCode": "import java.util.*;\nimport java.util.stream.*;\n\npublic class Solution {\n    public static void main(String[] args) {\n        List<Integer> numbers = List.of(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);\n        // Chain filter, map, and collect\n    }\n}",
              "solution": "import java.util.*;\nimport java.util.stream.*;\n\npublic class Solution {\n    public static void main(String[] args) {\n        List<Integer> numbers = List.of(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);\n        List<Integer> result = numbers.stream()\n            .filter(n -> n > 5)\n            .map(n -> n * 2)\n            .collect(Collectors.toList());\n        System.out.println(result);\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-3-lesson-7-stream-chain-test-1",
                  "description": "Should print '[12, 14, 16, 18, 20]'",
                  "expectedOutput": "[12, 14, 16, 18, 20]",
                  "isVisible": true
                }
              ],
              "hints": [
                {
                  "level": 1,
                  "text": "Chain operations: .filter().map().collect()"
                },
                {
                  "level": 2,
                  "text": "Filter comes before map to avoid transforming elements we don't need"
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Putting map before filter",
                  "consequence": "Works but less efficient",
                  "correction": "Filter first to reduce the number of elements to transform"
                }
              ],
              "difficulty": "intermediate"
            }
          ]
        }
      ]
    },
    {
      "id": "module-05",
      "title": "Testing and Build Tools",
      "description": "Write tests with JUnit, practice TDD, and manage projects with Maven and Gradle.",
      "difficulty": "beginner",
      "estimatedHours": 3,
      "lessons": [
        {
          "id": "epoch-4-lesson-1",
          "title": "Lesson 4.1: Why Test Your Code?",
          "moduleId": "module-05",
          "order": 1,
          "estimatedMinutes": 25,
          "difficulty": "intermediate",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: How Do You Know It Works?",
              "content": "You've written a method:\n\npublic static int add(int a, int b) {\n    return a + b;\n}\n\nHow do you KNOW it works correctly for all inputs?\n- What if a is negative?\n- What if both are zero?\n- What if they're very large numbers?\n\nManual testing (running main and checking output) is:\n❌ Tedious\n❌ Error-prone\n❌ Doesn't scale\n\nProfessional developers write AUTOMATED TESTS that run instantly and check everything."
            },
            {
              "type": "KEY_POINT",
              "title": "Tests are Like a Parachute",
              "content": "Would you jump out of a plane with a parachute you've never tested?\n\nSame with code:\n- Tests verify your code works\n- They catch bugs BEFORE users see them\n- They give you confidence to make changes\n\nA well-tested codebase is like a safety net."
            },
            {
              "type": "THEORY",
              "title": "JUnit - The Testing Framework",
              "content": "JUnit is Java's most popular testing framework.\n\nExample test:\n\n@Test\npublic void testAdd() {\n    int result = Calculator.add(2, 3);\n    assertEquals(5, result);\n}\n\nIf add(2,3) returns 5, test PASSES ✓\nIf it returns anything else, test FAILS ✗"
            }
          ],
          "challenges": []
        },
        {
          "id": "epoch-4-lesson-2",
          "title": "Lesson 4.2: Writing Your First JUnit Tests",
          "moduleId": "module-05",
          "order": 2,
          "estimatedMinutes": 40,
          "difficulty": "intermediate",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Anatomy of a JUnit Test",
              "content": "A JUnit test has three parts: ARRANGE, ACT, ASSERT\n\n@Test\npublic void testAdd() {\n    // ARRANGE: Set up test data\n    Calculator calc = new Calculator();\n    \n    // ACT: Call the method being tested\n    int result = calc.add(2, 3);\n    \n    // ASSERT: Verify the result\n    assertEquals(5, result);\n}\n\nKEY ANNOTATIONS:\n@Test - Marks a method as a test\n@BeforeEach - Runs before each test (setup)\n@AfterEach - Runs after each test (cleanup)\n@BeforeAll - Runs once before all tests\n@AfterAll - Runs once after all tests"
            },
            {
              "type": "THEORY",
              "title": "Common Assertion Methods",
              "content": "JUnit provides assertion methods to verify results:\n\nEQUALITY:\nassertEquals(expected, actual);\nassertEquals(5, calculator.add(2, 3));\n\nBOOLEAN:\nassertTrue(condition);\nassertTrue(list.isEmpty());\nassertFalse(condition);\nassertFalse(list.contains(\"X\"));\n\nNULL CHECKS:\nassertNull(object);\nassertNotNull(object);\n\nEXCEPTIONS:\nassertThrows(IllegalArgumentException.class, () -> {\n    calculator.divide(10, 0);\n});\n\nARRAYS:\nassertArrayEquals(expectedArray, actualArray);\n\nCUSTOM MESSAGE:\nassertEquals(5, result, \"Addition failed\");\n// If fails, shows: \"Addition failed\""
            },
            {
              "type": "KEY_POINT",
              "title": "Tests are Like Scientific Experiments",
              "content": "HYPOTHESIS (What you expect):\n\"When I add 2 + 3, I should get 5\"\n\nEXPERIMENT (The test):\n@Test\npublic void testAddition() {\n    int result = add(2, 3);\n    assertEquals(5, result);  // Verify hypothesis\n}\n\nRESULT:\n✓ Test passes → Hypothesis confirmed\n✗ Test fails → Something's wrong, investigate!\n\nJust like science: tests help you understand if your code \"theory\" is correct."
            },
            {
              "type": "KEY_POINT",
              "title": "Test Naming Conventions",
              "content": "GOOD TEST NAMES describe WHAT is being tested:\n\n❌ Bad names:\ntest1()\ntestStuff()\nmyTest()\n\n✓ Good names:\ntestAddPositiveNumbers()\ntestDivideByZeroThrowsException()\ntestEmptyListReturnsZero()\n\nPATTERN:\ntest[MethodName][Scenario][ExpectedResult]\n\nExamples:\ntestCalculateDiscountWithValidCouponReturnsReducedPrice()\ntestGetUserWithInvalidIdReturnsNull()\ntestSortEmptyArrayReturnsEmptyArray()\n\nGood names make it OBVIOUS what broke when a test fails!"
            },
            {
              "type": "THEORY",
              "title": "💻 Real Test Class Example",
              "content": "```java\nimport org.junit.jupiter.api.Test;\nimport static org.junit.jupiter.api.Assertions.*;\n\nclass StringUtilsTest {\n    \n    @Test\n    void testReverseWithNormalString() {\n        String result = StringUtils.reverse(\"hello\");\n        assertEquals(\"olleh\", result);\n    }\n    \n    @Test\n    void testReverseWithEmptyString() {\n        String result = StringUtils.reverse(\"\");\n        assertEquals(\"\", result);\n    }\n    \n    @Test\n    void testReverseWithNullThrowsException() {\n        assertThrows(IllegalArgumentException.class, () -> {\n            StringUtils.reverse(null);\n        });\n    }\n}\n\nNote: Test different scenarios (normal case, edge cases, error cases)\n```"
            },
            {
              "type": "THEORY",
              "title": "⚠️ Don't Test Everything - Test What Matters",
              "content": "❌ Don't test:\n- Getters/setters (trivial code)\n- External libraries (already tested)\n- UI code (use different techniques)\n\n✓ DO test:\n- Business logic\n- Complex calculations\n- Edge cases (empty lists, null values, boundaries)\n- Error handling\n\nAIM FOR: 70-80% code coverage\nNOT: 100% (diminishing returns, wastes time)"
            }
          ],
          "challenges": [
            {
              "type": "FREE_CODING",
              "id": "epoch-4-lesson-2-calculator",
              "title": "Test Calculator Methods",
              "description": "Given a Calculator class with these methods:\n- int add(int a, int b)\n- int subtract(int a, int b)\n- int multiply(int a, int b)\n\nWhich test scenarios should you write for the multiply method?\n(Select the MOST important scenarios)",
              "instructions": "Given a Calculator class with these methods:\n- int add(int a, int b)\n- int subtract(int a, int b)\n- int multiply(int a, int b)\n\nWhich test scenarios should you write for the multiply method?\n(Select the MOST important scenarios)",
              "starterCode": "// Test Calculator Methods\n// Write your code below\n\npublic class Solution {\n    public static void main(String[] args) {\n        \n    }\n}",
              "solution": "// Solution: Test Calculator Methods\n// This demonstrates thinking about test scenarios\n\n// Important test scenarios for multiply(int a, int b):\n// 1. Positive numbers: multiply(3, 4) should return 12\n// 2. Negative numbers: multiply(-2, 3) should return -6\n// 3. Two negatives: multiply(-2, -3) should return 6\n// 4. Zero: multiply(5, 0) should return 0\n// 5. One: multiply(7, 1) should return 7\n\n// Example test class structure:\n// import org.junit.jupiter.api.Test;\n// import static org.junit.jupiter.api.Assertions.*;\n//\n// class CalculatorTest {\n//     @Test\n//     void testMultiplyPositiveNumbers() {\n//         assertEquals(12, Calculator.multiply(3, 4));\n//     }\n//     \n//     @Test\n//     void testMultiplyWithZero() {\n//         assertEquals(0, Calculator.multiply(5, 0));\n//     }\n//     \n//     @Test\n//     void testMultiplyNegativeNumbers() {\n//         assertEquals(6, Calculator.multiply(-2, -3));\n//     }\n// }\n\npublic class Solution {\n    public static void main(String[] args) {\n        System.out.println(\"Test scenarios defined above\");\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-4-lesson-2-calculator-test-1",
                  "description": "Should print test scenarios message",
                  "expectedOutput": "Test scenarios defined above",
                  "isVisible": true
                },
                {
                  "id": "epoch-4-lesson-2-calculator-test-2",
                  "description": "Tests positive number multiplication: 3 * 4 = 12",
                  "expectedOutput": "Test scenarios defined above",
                  "isVisible": false
                },
                {
                  "id": "epoch-4-lesson-2-calculator-test-3",
                  "description": "Tests multiplication with zero: 5 * 0 = 0",
                  "expectedOutput": "Test scenarios defined above",
                  "isVisible": false
                }
              ],
              "hints": [
                {
                  "level": 2,
                  "text": "Define a function using the java syntax. Don't forget the return statement if needed."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            },
            {
              "type": "FREE_CODING",
              "id": "epoch-4-lesson-2-string",
              "title": "Writing Test Logic",
              "description": "You have a method: boolean isPalindrome(String word)\nIt should return true if the word reads the same forwards and backwards.\n\nWhich test case is MOST important to include?",
              "instructions": "You have a method: boolean isPalindrome(String word)\nIt should return true if the word reads the same forwards and backwards.\n\nWhich test case is MOST important to include?",
              "starterCode": "// Writing Test Logic\n// Write your code below\n\npublic class Solution {\n    public static void main(String[] args) {\n        \n    }\n}",
              "solution": "// Solution: Writing Test Logic for isPalindrome\n// This demonstrates identifying important test cases\n\n// Most important test cases for isPalindrome(String word):\n// 1. True palindrome: \"racecar\" -> true\n// 2. Non-palindrome: \"hello\" -> false\n// 3. Single character: \"a\" -> true (edge case)\n// 4. Empty string: \"\" -> true (edge case)\n// 5. Two characters palindrome: \"aa\" -> true\n// 6. Two characters non-palindrome: \"ab\" -> false\n// 7. Case sensitivity check: \"Racecar\" -> depends on implementation\n\n// Example test implementation:\n// import org.junit.jupiter.api.Test;\n// import static org.junit.jupiter.api.Assertions.*;\n//\n// class PalindromeTest {\n//     @Test\n//     void testPalindromeWithValidPalindrome() {\n//         assertTrue(StringUtils.isPalindrome(\"racecar\"));\n//     }\n//     \n//     @Test\n//     void testPalindromeWithNonPalindrome() {\n//         assertFalse(StringUtils.isPalindrome(\"hello\"));\n//     }\n//     \n//     @Test\n//     void testPalindromeWithEmptyString() {\n//         assertTrue(StringUtils.isPalindrome(\"\"));\n//     }\n// }\n\npublic class Solution {\n    public static void main(String[] args) {\n        System.out.println(\"Test cases defined above\");\n    }\n}",
              "language": "java",
              "testCases": [
                {
                  "id": "epoch-4-lesson-2-string-test-1",
                  "description": "Should print test cases message",
                  "expectedOutput": "Test cases defined above",
                  "isVisible": true
                },
                {
                  "id": "epoch-4-lesson-2-string-test-2",
                  "description": "Tests valid palindrome: 'racecar' -> true",
                  "expectedOutput": "Test cases defined above",
                  "isVisible": false
                },
                {
                  "id": "epoch-4-lesson-2-string-test-3",
                  "description": "Tests edge case: empty string '' -> true",
                  "expectedOutput": "Test cases defined above",
                  "isVisible": false
                }
              ],
              "hints": [
                {
                  "level": 2,
                  "text": "Define a function using the java syntax. Don't forget the return statement if needed."
                },
                {
                  "level": 2,
                  "text": "Use an if statement to check the condition."
                },
                {
                  "level": 3,
                  "text": "If stuck, try writing out the solution in plain English first, then convert to java code."
                }
              ],
              "commonMistakes": [
                {
                  "mistake": "Forgetting semicolons",
                  "consequence": "Compilation error",
                  "correction": "Add ; at end of statements"
                },
                {
                  "mistake": "Using = instead of == for comparison",
                  "consequence": "Assignment instead of comparison",
                  "correction": "Use == for primitives, .equals() for objects"
                },
                {
                  "mistake": "Incorrect capitalization (Java is case-sensitive)",
                  "consequence": "Cannot find symbol error",
                  "correction": "Match exact capitalization"
                }
              ],
              "difficulty": "beginner"
            }
          ]
        },
        {
          "id": "epoch-4-lesson-3",
          "title": "Lesson 4.3: Test-Driven Development - Write Tests First!",
          "moduleId": "module-05",
          "order": 3,
          "estimatedMinutes": 35,
          "difficulty": "intermediate",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Traditional Approach (and Its Problems)",
              "content": "TYPICAL development workflow:\n\n1. Write code\n2. Run it, see if it works\n3. Find bugs\n4. Fix bugs\n5. Maybe write tests later (if you have time)\n\nPROBLEMS:\n❌ Tests are an afterthought\n❌ You might forget edge cases\n❌ Code might be hard to test (not designed for it)\n❌ Tests often get skipped (\"no time\")\n\nWhat if there was a BETTER way?"
            },
            {
              "type": "THEORY",
              "title": "Test-Driven Development (TDD) - A Revolutionary Approach",
              "content": "TDD FLIPS the process:\n\n1. Write a FAILING test first (describes what you want)\n2. Write MINIMAL code to make test pass\n3. Refactor (improve code quality)\n4. Repeat\n\nThe cycle: RED → GREEN → REFACTOR\n\n🔴 RED: Write a failing test\n@Test\nvoid testCalculateDiscount() {\n    double result = PriceCalculator.calculateDiscount(100, 10);\n    assertEquals(90, result);\n}\n// Fails: PriceCalculator doesn't exist yet!\n\n🟢 GREEN: Write just enough code to pass\npublic class PriceCalculator {\n    public static double calculateDiscount(double price, double percent) {\n        return price - (price * percent / 100);\n    }\n}\n// Test passes!\n\n🔵 REFACTOR: Clean up code\n// Code is already clean, move to next test"
            },
            {
              "type": "KEY_POINT",
              "title": "TDD is Like Building with a Blueprint",
              "content": "BUILDING WITHOUT BLUEPRINT (traditional):\n- Start nailing boards together\n- Hope it looks like a house\n- Realize door is in wrong place\n- Tear down, rebuild\n\nBUILDING WITH BLUEPRINT (TDD):\n- Draw blueprint first (the test)\n- Blueprint shows exactly what you need\n- Build to match blueprint\n- Verify it matches blueprint\n\nTDD TESTS = Blueprints for your code\nThey specify EXACTLY what the code should do BEFORE you write it."
            },
            {
              "type": "KEY_POINT",
              "title": "Benefits of TDD",
              "content": "1. FEWER BUGS\n   - Tests written first catch issues immediately\n   - You think through edge cases upfront\n\n2. BETTER DESIGN\n   - Code is automatically testable\n   - Forces you to write modular, decoupled code\n\n3. LIVING DOCUMENTATION\n   - Tests show how to use your code\n   - Examples of every feature\n\n4. CONFIDENCE TO REFACTOR\n   - Change code freely\n   - Tests verify nothing broke\n\n5. LESS DEBUGGING\n   - Catch bugs in seconds, not hours\n   - Know exactly what's broken\n\nProfessional developers use TDD for critical code."
            },
            {
              "type": "THEORY",
              "title": "💻 TDD Example: Building a Password Validator",
              "content": "```java\nSTEP 1: Write first test (RED)\n@Test\nvoid testPasswordTooShort() {\n    assertFalse(PasswordValidator.isValid(\"abc\"));\n}\n// Fails: PasswordValidator doesn't exist\n\nSTEP 2: Write minimal code (GREEN)\npublic class PasswordValidator {\n    public static boolean isValid(String password) {\n        return password.length() >= 8;\n    }\n}\n// Test passes!\n\nSTEP 3: Add another test (RED)\n@Test\nvoid testPasswordMustHaveNumber() {\n    assertFalse(PasswordValidator.isValid(\"abcdefgh\"));\n}\n// Fails: password \"abcdefgh\" is considered valid\n\nSTEP 4: Update code (GREEN)\npublic static boolean isValid(String password) {\n    if (password.length() < 8) return false;\n    return password.matches(\".*\\\\d.*\");  // Must contain digit\n}\n// Both tests pass!\n\nSTEP 5: Continue with more tests\n@Test\nvoid testPasswordMustHaveUppercase() { ... }\n@Test\nvoid testValidPassword() { ... }\n\nBuild feature incrementally, one test at a time!\n```"
            },
            {
              "type": "THEORY",
              "title": "⚠️ Common TDD Mistakes",
              "content": "❌ Writing too much code at once\n   - Only write code to pass the CURRENT test\n\n❌ Skipping the refactor step\n   - Clean code is as important as working code\n\n❌ Testing implementation details\n   - Test BEHAVIOR, not internal structure\n\n❌ Not running tests frequently\n   - Run tests after every small change\n\n❌ Writing tests that depend on each other\n   - Each test should be independent\n\n✓ Good TDD: Small steps, frequent feedback"
            }
          ],
          "challenges": []
        },
        {
          "id": "epoch-4-lesson-4",
          "title": "Lesson 4.4: Maven - Managing Projects Like a Pro",
          "moduleId": "module-05",
          "order": 4,
          "estimatedMinutes": 35,
          "difficulty": "intermediate",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: Managing Dependencies Manually is a Nightmare",
              "content": "Imagine building a real project:\n\nYou need external libraries:\n- JUnit for testing\n- Gson for JSON parsing\n- Apache Commons for utilities\n\nManual approach:\n1. Download each JAR file from the internet\n2. Put them in your project folder\n3. Add to classpath manually\n4. What if library needs OTHER libraries?\n5. What if versions conflict?\n6. How do teammates get same libraries?\n\nThis is CHAOS! Welcome to dependency hell.\n\nSolution: BUILD TOOLS like Maven"
            },
            {
              "type": "THEORY",
              "title": "What is Maven?",
              "content": "MAVEN is a build automation tool that:\n\n✓ Manages dependencies (downloads libraries)\n✓ Compiles your code\n✓ Runs tests\n✓ Packages your app (creates JAR file)\n✓ Enforces standard project structure\n\nInstead of:\n- \"Download JUnit JAR\"\n- \"Add to classpath\"\n- \"Hope it works\"\n\nYou write in pom.xml:\n<dependency>\n    <groupId>junit</groupId>\n    <artifactId>junit</artifactId>\n    <version>5.9.3</version>\n</dependency>\n\nMaven downloads it automatically! ✨"
            },
            {
              "type": "KEY_POINT",
              "title": "Maven is Like a Restaurant Manager",
              "content": "WITHOUT MAVEN (You're a cook doing everything):\n- Buy ingredients yourself\n- Track which suppliers have what\n- Check if ingredients are compatible\n- Organize kitchen yourself\n- Cook AND manage\n\nWITH MAVEN (Restaurant manager):\n- You tell manager: \"I need tomatoes, version 2.0\"\n- Manager orders from suppliers\n- Manager organizes kitchen layout\n- Manager ensures everything's in the right place\n- You just focus on cooking (coding)\n\nMaven handles the boring project management stuff!"
            },
            {
              "type": "THEORY",
              "title": "Maven Project Structure",
              "content": "Maven enforces a STANDARD structure:\n\nmy-project/\n├── pom.xml                 (Project config file)\n├── src/\n│   ├── main/\n│   │   ├── java/          (Your application code)\n│   │   │   └── com/yourcompany/App.java\n│   │   └── resources/     (Config files, properties)\n│   └── test/\n│       ├── java/          (Your test code)\n│       │   └── com/yourcompany/AppTest.java\n│       └── resources/     (Test resources)\n└── target/                 (Compiled output - Maven creates this)\n\nBENEFITS:\n✓ Every Maven project looks the same\n✓ New developers know where everything is\n✓ Tools work automatically\n\nThis is \"Convention Over Configuration\""
            },
            {
              "type": "THEORY",
              "title": "The pom.xml File - Project Object Model",
              "content": "pom.xml is the heart of a Maven project:\n\n<project>\n    <groupId>com.yourcompany</groupId>\n    <artifactId>my-app</artifactId>\n    <version>1.0.0</version>\n    \n    <properties>\n        <maven.compiler.source>17</maven.compiler.source>\n        <maven.compiler.target>17</maven.compiler.target>\n    </properties>\n    \n    <dependencies>\n        <dependency>\n            <groupId>org.junit.jupiter</groupId>\n            <artifactId>junit-jupiter</artifactId>\n            <version>5.9.3</version>\n            <scope>test</scope>\n        </dependency>\n    </dependencies>\n</project>\n\nKEY SECTIONS:\n- groupId: Your organization (like package)\n- artifactId: Project name\n- version: Your project version\n- properties: Configuration (Java version, etc.)\n- dependencies: External libraries you need"
            },
            {
              "type": "THEORY",
              "title": "Common Maven Commands",
              "content": "Run these from command line in project folder:\n\nmvn clean\n  → Deletes target/ folder (compiled output)\n\nmvn compile\n  → Compiles your main source code\n\nmvn test\n  → Compiles and runs all tests\n\nmvn package\n  → Compiles, tests, and creates JAR file\n\nmvn install\n  → Package and install to local repository\n\nmvn clean test\n  → Clean then test (combines commands)\n\nMOST COMMON WORKFLOW:\n1. Write code\n2. mvn clean test (verify tests pass)\n3. mvn package (create JAR)\n4. Deploy JAR to production"
            },
            {
              "type": "KEY_POINT",
              "title": "Maven Dependency Scopes",
              "content": "SCOPE controls WHEN a dependency is available:\n\n<scope>compile</scope> (default)\n  - Available everywhere (main code, tests, runtime)\n  - Example: Gson JSON library\n\n<scope>test</scope>\n  - Only for tests, not in final JAR\n  - Example: JUnit\n\n<scope>provided</scope>\n  - Available at compile-time, but server provides it at runtime\n  - Example: Servlet API (server like Tomcat has it)\n\n<scope>runtime</scope>\n  - Not needed for compilation, only at runtime\n  - Example: JDBC database driver\n\nRULE: Use test scope for testing libraries (saves space in final JAR)"
            },
            {
              "type": "THEORY",
              "title": "💻 Real pom.xml Example",
              "content": "```java\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0\n         http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n    <modelVersion>4.0.0</modelVersion>\n\n    <groupId>com.example</groupId>\n    <artifactId>my-web-app</artifactId>\n    <version>1.0-SNAPSHOT</version>\n\n    <properties>\n        <maven.compiler.source>17</maven.compiler.source>\n        <maven.compiler.target>17</maven.compiler.target>\n    </properties>\n\n    <dependencies>\n        <!-- JSON parsing -->\n        <dependency>\n            <groupId>com.google.code.gson</groupId>\n            <artifactId>gson</artifactId>\n            <version>2.10.1</version>\n        </dependency>\n\n        <!-- Testing -->\n        <dependency>\n            <groupId>org.junit.jupiter</groupId>\n            <artifactId>junit-jupiter</artifactId>\n            <version>5.9.3</version>\n            <scope>test</scope>\n        </dependency>\n    </dependencies>\n</project>\n```"
            }
          ],
          "challenges": []
        },
        {
          "id": "epoch-4-lesson-5-gradle",
          "title": "Lesson 4.5: Build Automation with Gradle",
          "moduleId": "module-05",
          "order": 5,
          "estimatedMinutes": 35,
          "difficulty": "intermediate",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "Gradle vs Maven",
              "content": "WHY GRADLE EXISTS:\n\nMaven solved dependency management, but developers wanted:\n- FLEXIBILITY: Groovy/Kotlin scripts instead of rigid XML\n- SPEED: Incremental builds, build cache, parallel execution\n- MODERN DSL: Kotlin DSL with type safety and IDE support\n\nGRADLE ADVANTAGES:\n✓ Faster builds (caches everything)\n✓ Flexible scripting (Groovy or Kotlin)\n✓ Better IDE integration\n✓ Required for Android development\n\nWHEN TO USE WHICH:\n- Android development → GRADLE (required)\n- Legacy enterprise → MAVEN (existing projects)\n- New projects → Either (Gradle slightly preferred)\n- Simple libraries → MAVEN (simpler config)\n\nGradle is like Maven 2.0 - same concepts, better execution."
            },
            {
              "type": "EXAMPLE",
              "title": "build.gradle.kts Structure",
              "content": "```kotlin\nplugins {\n    kotlin(\"jvm\") version \"1.9.0\"\n    application\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation(\"com.google.guava:guava:32.1.2-jre\")\n    testImplementation(kotlin(\"test\"))\n}\n\napplication {\n    mainClass.set(\"MainKt\")\n}\n```\n\nBREAKDOWN:\n- plugins: What Gradle plugins to use (kotlin, application)\n- repositories: Where to download dependencies (Maven Central)\n- dependencies: Libraries your project needs\n- application: Configuration for running as app\n\nNOTICE: Much shorter than pom.xml!"
            },
            {
              "type": "KEY_POINT",
              "title": "Kotlin DSL vs Groovy",
              "content": "TWO WAYS TO WRITE GRADLE FILES:\n\nKOTLIN DSL (.gradle.kts):\nplugins {\n    kotlin(\"jvm\") version \"1.9.0\"\n}\ndependencies {\n    implementation(\"com.google.guava:guava:32.1.2-jre\")\n}\n\nGROOVY DSL (.gradle):\nplugins {\n    id 'org.jetbrains.kotlin.jvm' version '1.9.0'\n}\ndependencies {\n    implementation 'com.google.guava:guava:32.1.2-jre'\n}\n\nWHY KOTLIN DSL IS PREFERRED:\n✓ Type safety (IDE catches errors)\n✓ Better autocomplete in IntelliJ\n✓ Easier refactoring\n✓ More readable for Kotlin developers\n\nMost new projects use Kotlin DSL (.gradle.kts)"
            },
            {
              "type": "EXAMPLE",
              "title": "Common Gradle Tasks",
              "content": "RUN FROM COMMAND LINE:\n\n./gradlew build\n  → Compiles, tests, and packages your project\n\n./gradlew test\n  → Runs all tests\n\n./gradlew run\n  → Runs your application (needs application plugin)\n\n./gradlew dependencies\n  → Shows dependency tree (great for debugging)\n\n./gradlew clean\n  → Deletes build directory\n\n./gradlew tasks\n  → Lists all available tasks\n\nCREATING CUSTOM TASKS:\n```kotlin\ntasks.register(\"hello\") {\n    doLast {\n        println(\"Hello from Gradle!\")\n    }\n}\n```\n\nRun with: ./gradlew hello"
            },
            {
              "type": "EXAMPLE",
              "title": "Converting Maven to Gradle",
              "content": "AUTOMATIC CONVERSION:\n\n# In your Maven project directory:\ngradle init --type pom\n\nThis reads pom.xml and creates:\n- build.gradle.kts (or build.gradle)\n- settings.gradle.kts\n- gradlew (wrapper script)\n\nMANUAL MAPPING:\n\nMaven pom.xml → Gradle build.gradle.kts:\n\n<groupId> → group = \"com.example\"\n<artifactId> → (in settings.gradle.kts: rootProject.name)\n<version> → version = \"1.0.0\"\n<dependencies> → dependencies { }\n<build><plugins> → plugins { }\n\nDEPENDENCY SCOPES:\nMaven compile → Gradle implementation\nMaven test → Gradle testImplementation\nMaven provided → Gradle compileOnly\nMaven runtime → Gradle runtimeOnly"
            },
            {
              "type": "KEY_POINT",
              "title": "Gradle Wrapper",
              "content": "ALWAYS USE THE WRAPPER!\n\n✓ ./gradlew build (correct)\n✗ gradle build (wrong)\n\nWHY?\n- Wrapper ensures EVERYONE uses same Gradle version\n- No need to install Gradle separately\n- Works on any machine with Java\n\nFILES CREATED:\n- gradlew (Unix script)\n- gradlew.bat (Windows script)\n- gradle/wrapper/gradle-wrapper.jar\n- gradle/wrapper/gradle-wrapper.properties\n\nCOMMIT THESE TO GIT!\nTeammates don't need Gradle installed.\n\nUPDATING WRAPPER VERSION:\n./gradlew wrapper --gradle-version 8.5"
            }
          ],
          "challenges": [
            {
              "id": "gradle-project-setup",
              "title": "Create Gradle Project",
              "type": "coding",
              "difficulty": "beginner",
              "instructions": "Create a build.gradle.kts file that:\n1. Uses the Java plugin\n2. Sets Java version to 17\n3. Adds JUnit 5 as a test dependency\n4. Configures the test task to use JUnit Platform",
              "starterCode": "// build.gradle.kts\n// Add your configuration here\n",
              "solution": "plugins {\n    java\n}\n\ngroup = \"com.example\"\nversion = \"1.0.0\"\n\njava {\n    toolchain {\n        languageVersion.set(JavaLanguageVersion.of(17))\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation(\"org.junit.jupiter:junit-jupiter:5.10.0\")\n}\n\ntasks.test {\n    useJUnitPlatform()\n}",
              "hints": [
                "Use the 'java' plugin for Java projects",
                "JUnit 5 dependency is 'org.junit.jupiter:junit-jupiter'",
                "useJUnitPlatform() tells Gradle to use JUnit 5"
              ],
              "testCases": []
            },
            {
              "id": "gradle-custom-task",
              "title": "Add Custom Task",
              "type": "coding",
              "difficulty": "beginner",
              "instructions": "Add a custom Gradle task called 'projectInfo' that prints:\n1. Project name\n2. Project version\n3. Java version being used\n\nThe output should be formatted nicely.",
              "starterCode": "// Add to build.gradle.kts\n\ntasks.register(\"projectInfo\") {\n    // Your code here\n}",
              "solution": "tasks.register(\"projectInfo\") {\n    group = \"help\"\n    description = \"Displays project information\"\n    \n    doLast {\n        println(\"================================\")\n        println(\"Project Information\")\n        println(\"================================\")\n        println(\"Name: ${project.name}\")\n        println(\"Version: ${project.version}\")\n        println(\"Java Version: ${java.toolchain.languageVersion.get()}\")\n        println(\"================================\")\n    }\n}",
              "hints": [
                "Use doLast { } to define what the task does",
                "Access project properties with 'project.name', 'project.version'",
                "Use string templates with ${} for interpolation"
              ],
              "testCases": []
            }
          ]
        },
        {
          "id": "epoch-4-lesson-6",
          "title": "Lesson 4.6: Debugging, Logging, and Professional Habits",
          "moduleId": "module-05",
          "order": 6,
          "estimatedMinutes": 40,
          "difficulty": "intermediate",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: System.out.println() Everywhere",
              "content": "Beginner debugging:\n\npublic void processOrder(Order order) {\n    System.out.println(\"Got order: \" + order);  // Debug line\n    calculateTotal(order);\n    System.out.println(\"Total: \" + order.getTotal());  // Debug line\n    saveToDatabase(order);\n    System.out.println(\"Saved!\");  // Debug line\n}\n\nPROBLEMS:\n❌ Output mixed with actual program output\n❌ Can't turn debug messages off easily\n❌ No way to filter by severity (error vs info)\n❌ Forgot to remove debug prints before release\n❌ No timestamps or context\n\nProfessional solution: LOGGING FRAMEWORKS"
            },
            {
              "type": "THEORY",
              "title": "Logging with SLF4J and Logback",
              "content": "LOGGING = Structured way to record what's happening\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class OrderService {\n    private static final Logger logger = \n        LoggerFactory.getLogger(OrderService.class);\n    \n    public void processOrder(Order order) {\n        logger.info(\"Processing order: {}\", order.getId());\n        \n        try {\n            calculateTotal(order);\n            saveToDatabase(order);\n            logger.info(\"Order {} processed successfully\", order.getId());\n        } catch (Exception e) {\n            logger.error(\"Failed to process order {}\", order.getId(), e);\n        }\n    }\n}\n\nLOGGING LEVELS (in order):\nTRACE - Very detailed, rarely used\nDEBUG - Development information\nINFO - General information (\"Server started\")\nWARN - Something unexpected, but not critical\nERROR - Something failed\n\nProduction: Only show WARN and ERROR\nDevelopment: Show DEBUG and above"
            },
            {
              "type": "THEORY",
              "title": "Using a Debugger - The Professional's Tool",
              "content": "Instead of println, use your IDE's DEBUGGER:\n\nKEY FEATURES:\n\n1. BREAKPOINTS\n   - Click next to line number (red dot appears)\n   - Program PAUSES when it reaches that line\n   - Inspect ALL variables at that moment\n\n2. STEP THROUGH CODE\n   - Step Over: Execute current line, move to next\n   - Step Into: Go inside method call\n   - Step Out: Finish current method, return to caller\n\n3. WATCH VARIABLES\n   - See how variables change\n   - Evaluate expressions on-the-fly\n\n4. CALL STACK\n   - See path of method calls\n   - Navigate to any point\n\nDEBUGGING WORKFLOW:\n1. Set breakpoint where problem might be\n2. Run in debug mode\n3. When paused, inspect variables\n4. Step through code line by line\n5. Watch how values change\n6. Identify where logic goes wrong"
            },
            {
              "type": "KEY_POINT",
              "title": "Logging vs Debugging",
              "content": "LOGGING = Security cameras:\n- Always recording\n- Review footage after incident\n- See what happened over time\n- Good for: production issues, patterns\n\nExample:\n\"Why did the server crash at 3am?\"\n→ Check logs for ERROR messages at that time\n\nDEBUGGING = Live investigation:\n- Stop and examine everything NOW\n- Step-by-step analysis\n- Immediate feedback\n- Good for: development, understanding flow\n\nExample:\n\"Why is calculateTotal() returning wrong value?\"\n→ Set breakpoint, inspect variables, step through logic\n\nUSE BOTH!"
            },
            {
              "type": "THEORY",
              "title": "Writing Good Documentation",
              "content": "JAVADOC = Standard way to document Java code\n\n/**\n * Calculates the total price including tax.\n * \n * @param subtotal The price before tax\n * @param taxRate The tax rate as decimal (0.08 for 8%)\n * @return The total price including tax\n * @throws IllegalArgumentException if subtotal is negative\n */\npublic double calculateTotal(double subtotal, double taxRate) {\n    if (subtotal < 0) {\n        throw new IllegalArgumentException(\"Subtotal cannot be negative\");\n    }\n    return subtotal * (1 + taxRate);\n}\n\nJAVADOC TAGS:\n@param - Describes a parameter\n@return - Describes return value\n@throws - Describes exceptions thrown\n@see - Links to related code\n@since - When this was added\n@deprecated - Mark as obsolete\n\nWHEN TO WRITE DOCS:\n✓ Public methods/classes (API)\n✓ Complex algorithms\n✓ Non-obvious behavior\n✗ Self-explanatory code\n✗ Private helper methods (usually)"
            },
            {
              "type": "KEY_POINT",
              "title": "Professional Coding Habits",
              "content": "1. USE VERSION CONTROL (Git)\n   - Commit frequently\n   - Write meaningful commit messages\n   - \"Fixed bug\" ✗\n   - \"Fix NullPointerException in user login when email is empty\" ✓\n\n2. CODE REVIEWS\n   - Have others review your code\n   - Catches bugs, improves quality\n   - Learn from feedback\n\n3. CONSISTENT FORMATTING\n   - Use IDE auto-format (Ctrl+Alt+L in IntelliJ)\n   - Follow team style guide\n   - Consistent = readable\n\n4. MEANINGFUL NAMES\n   - int d; ✗\n   - int daysSinceCreation; ✓\n\n5. SMALL COMMITS\n   - One logical change per commit\n   - Easy to review and revert\n\n6. TEST BEFORE PUSHING\n   - Always run tests\n   - Don't break the build for teammates\n\n7. CONTINUOUS LEARNING\n   - Read others' code\n   - Stay updated on best practices\n   - Refactor as you learn"
            },
            {
              "type": "THEORY",
              "title": "💻 Real Logging Example",
              "content": "```java\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class UserService {\n    private static final Logger logger = \n        LoggerFactory.getLogger(UserService.class);\n\n    public User authenticateUser(String username, String password) {\n        logger.debug(\"Attempting authentication for user: {}\", username);\n        \n        User user = userRepository.findByUsername(username);\n        \n        if (user == null) {\n            logger.warn(\"Authentication failed: user not found - {}\", username);\n            return null;\n        }\n        \n        if (!passwordMatches(user, password)) {\n            logger.warn(\"Authentication failed: incorrect password for {}\", username);\n            return null;\n        }\n        \n        logger.info(\"User {} authenticated successfully\", username);\n        return user;\n    }\n}\n\nOUTPUT (with timestamps automatically added):\n2025-01-15 10:30:15 DEBUG UserService - Attempting authentication for user: alice\n2025-01-15 10:30:15 INFO UserService - User alice authenticated successfully\n```"
            }
          ],
          "challenges": []
        }
      ]
    },
    {
      "id": "module-06",
      "title": "Databases and SQL",
      "description": "Learn SQL fundamentals and connect Java applications to databases with JDBC.",
      "difficulty": "beginner",
      "estimatedHours": 3.4,
      "lessons": [
        {
          "id": "epoch-5-lesson-1",
          "title": "Lesson 5.1: Why Do We Need Databases?",
          "moduleId": "module-06",
          "order": 1,
          "estimatedMinutes": 30,
          "difficulty": "intermediate",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: Data Disappears",
              "content": "Your program can store data in variables and arrays:\n\nArrayList<Student> students = new ArrayList<>();\nstudents.add(new Student(\"Alice\", 20));\n\nBut when the program ends... POOF! All data is gone.\n\nNext time you run it, you start from scratch.\n\nReal applications need PERSISTENCE:\n- User accounts must survive restarts\n- Orders must be saved\n- Posts, messages, files must persist\n\nThis is why we need DATABASES."
            },
            {
              "type": "KEY_POINT",
              "title": "Databases are Like Libraries",
              "content": "Your program's memory (variables) = Your desk\n- Fast access\n- Limited space\n- Temporary (clear when you leave)\n\nA database = A library\n- Massive storage\n- Organized (card catalog)\n- Permanent (survives computer shutdowns)\n- Shared (multiple programs can access)\n\nYou work with data on your desk (RAM), but save important things to the library (database)."
            },
            {
              "type": "THEORY",
              "title": "SQL - The Database Language",
              "content": "SQL (Structured Query Language) is how you talk to databases.\n\nFour essential operations (CRUD):\n\nCREATE (Insert data):\nINSERT INTO students (name, age) VALUES ('Alice', 20);\n\nREAD (Query data):\nSELECT * FROM students WHERE age > 18;\n\nUPDATE (Modify data):\nUPDATE students SET age = 21 WHERE name = 'Alice';\n\nDELETE (Remove data):\nDELETE FROM students WHERE age < 18;"
            }
          ],
          "challenges": []
        },
        {
          "id": "epoch-5-lesson-2",
          "title": "Lesson 5.2: SQL Basics - Your First Database",
          "moduleId": "module-06",
          "order": 2,
          "estimatedMinutes": 40,
          "difficulty": "intermediate",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "Creating a Table - The Foundation",
              "content": "Before storing data, you need a TABLE (like a spreadsheet):\n\nCREATE TABLE students (\n    id INT PRIMARY KEY AUTO_INCREMENT,\n    name VARCHAR(100) NOT NULL,\n    age INT,\n    email VARCHAR(255) UNIQUE,\n    gpa DECIMAL(3, 2)\n);\n\nBREAKING IT DOWN:\n- id: Unique identifier for each student\n- PRIMARY KEY: This field uniquely identifies each row\n- AUTO_INCREMENT: Database automatically assigns 1, 2, 3...\n- VARCHAR(100): Text up to 100 characters\n- NOT NULL: This field is required (can't be empty)\n- UNIQUE: No two students can have the same email\n- DECIMAL(3, 2): Numbers like 3.75 (3 total digits, 2 after decimal)"
            },
            {
              "type": "THEORY",
              "title": "Common Data Types in SQL",
              "content": "TEXT TYPES:\n- CHAR(n): Fixed-length text (CHAR(5) for \"HELLO\")\n- VARCHAR(n): Variable-length text (VARCHAR(255) for emails)\n- TEXT: Very long text (articles, comments)\n\nNUMBER TYPES:\n- INT: Whole numbers (-2147483648 to 2147483647)\n- BIGINT: Bigger whole numbers\n- DECIMAL(p, s): Exact decimals (DECIMAL(10, 2) for money: 12345678.90)\n- FLOAT/DOUBLE: Approximate decimals (scientific calculations)\n\nDATE/TIME TYPES:\n- DATE: Just date (2025-01-15)\n- TIME: Just time (14:30:00)\n- DATETIME: Both (2025-01-15 14:30:00)\n- TIMESTAMP: Date + time with timezone\n\nBOOLEAN:\n- BOOLEAN: true/false (stored as 0 or 1)"
            },
            {
              "type": "THEORY",
              "title": "Inserting Data - Adding Rows",
              "content": "INSERT INTO table_name (columns) VALUES (values);\n\nSINGLE ROW:\nINSERT INTO students (name, age, email, gpa)\nVALUES ('Alice Johnson', 20, 'alice@example.com', 3.75);\n\nMULTIPLE ROWS:\nINSERT INTO students (name, age, email, gpa) VALUES\n    ('Bob Smith', 21, 'bob@example.com', 3.50),\n    ('Carol Davis', 19, 'carol@example.com', 3.90),\n    ('Dave Wilson', 22, 'dave@example.com', 3.25);\n\nAUTO_INCREMENT ID:\nNotice we didn't specify 'id' - database assigns it automatically!\n\nNULL VALUES:\nINSERT INTO students (name, age) VALUES ('Eve', 20);\n// email and gpa will be NULL"
            },
            {
              "type": "THEORY",
              "title": "Selecting Data - Querying Tables",
              "content": "SELECT columns FROM table WHERE conditions;\n\nGET EVERYTHING:\nSELECT * FROM students;\n// * means \"all columns\"\n\nSPECIFIC COLUMNS:\nSELECT name, gpa FROM students;\n\nWITH CONDITIONS:\nSELECT * FROM students WHERE age >= 21;\nSELECT * FROM students WHERE gpa > 3.5;\nSELECT name FROM students WHERE email LIKE '%gmail.com';\n\nCOMBINING CONDITIONS:\nSELECT * FROM students WHERE age > 20 AND gpa > 3.0;\nSELECT * FROM students WHERE age < 20 OR gpa > 3.8;"
            },
            {
              "type": "KEY_POINT",
              "title": "Tables are Like Spreadsheets",
              "content": "Excel spreadsheet:\n| ID | Name          | Age | Email              | GPA  |\n|----|---------------|-----|--------------------| -----|\n| 1  | Alice Johnson | 20  | alice@example.com  | 3.75 |\n| 2  | Bob Smith     | 21  | bob@example.com    | 3.50 |\n| 3  | Carol Davis   | 19  | carol@example.com  | 3.90 |\n\nDatabase table = Same thing!\n- Each ROW = One student\n- Each COLUMN = One property\n- Each CELL = One value\n\nSQL just lets you manipulate this \"spreadsheet\" with commands."
            },
            {
              "type": "KEY_POINT",
              "title": "Primary Keys - The Unique Identifier",
              "content": "Every table should have a PRIMARY KEY:\n\nWHY?\n- Uniquely identifies each row\n- Prevents duplicate entries\n- Allows referencing from other tables\n\nGOOD PRIMARY KEYS:\n✓ id INT AUTO_INCREMENT\n✓ email (if truly unique)\n✓ username (if truly unique)\n\nBAD PRIMARY KEYS:\n✗ name (not unique - many \"John Smith\"s)\n✗ age (definitely not unique)\n\nBEST PRACTICE:\nAlways use an auto-incrementing ID as primary key.\nSimple, guaranteed unique, fast."
            }
          ],
          "challenges": []
        },
        {
          "id": "epoch-5-lesson-3",
          "title": "Lesson 5.3: SQL Queries - Filtering, Sorting, and Aggregating",
          "moduleId": "module-06",
          "order": 3,
          "estimatedMinutes": 40,
          "difficulty": "intermediate",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "WHERE Clause - Filtering Rows",
              "content": "The WHERE clause filters which rows to return:\n\nCOMPARISON OPERATORS:\nSELECT * FROM students WHERE age = 21;      // Equal\nSELECT * FROM students WHERE age != 21;     // Not equal\nSELECT * FROM students WHERE age > 20;      // Greater than\nSELECT * FROM students WHERE age >= 20;     // Greater or equal\nSELECT * FROM students WHERE age BETWEEN 18 AND 22;\n\nPATTERN MATCHING:\nSELECT * FROM students WHERE name LIKE 'A%';      // Starts with A\nSELECT * FROM students WHERE email LIKE '%gmail.com';  // Ends with gmail.com\nSELECT * FROM students WHERE name LIKE '%son%';   // Contains 'son'\n\nNULL CHECKS:\nSELECT * FROM students WHERE email IS NULL;\nSELECT * FROM students WHERE email IS NOT NULL;\n\nIN OPERATOR:\nSELECT * FROM students WHERE age IN (18, 19, 20);\nSELECT * FROM students WHERE name IN ('Alice', 'Bob', 'Carol');"
            },
            {
              "type": "THEORY",
              "title": "ORDER BY - Sorting Results",
              "content": "ORDER BY sorts results:\n\nASCENDING (default):\nSELECT * FROM students ORDER BY age;\nSELECT * FROM students ORDER BY name ASC;\n\nDESCENDING:\nSELECT * FROM students ORDER BY gpa DESC;\n\nMULTIPLE COLUMNS:\nSELECT * FROM students ORDER BY age ASC, gpa DESC;\n// Sort by age first, then by GPA within same age\n\nLIMIT - Restricting Results:\nSELECT * FROM students ORDER BY gpa DESC LIMIT 5;\n// Top 5 students by GPA\n\nOFFSET:\nSELECT * FROM students LIMIT 10 OFFSET 20;\n// Skip first 20 results, then get 10\n// Useful for pagination!"
            },
            {
              "type": "THEORY",
              "title": "Aggregate Functions - Calculations",
              "content": "Calculate values across multiple rows:\n\nCOUNT - How many rows:\nSELECT COUNT(*) FROM students;\nSELECT COUNT(*) FROM students WHERE age > 20;\n\nSUM - Total of all values:\nSELECT SUM(age) FROM students;\n\nAVG - Average:\nSELECT AVG(gpa) FROM students;\n\nMIN and MAX:\nSELECT MIN(age) FROM students;\nSELECT MAX(gpa) FROM students;\n\nCOMBINING:\nSELECT \n    COUNT(*) as total_students,\n    AVG(gpa) as average_gpa,\n    MIN(age) as youngest,\n    MAX(age) as oldest\nFROM students;"
            },
            {
              "type": "THEORY",
              "title": "GROUP BY - Grouping Results",
              "content": "GROUP BY combines rows with same values:\n\nSELECT age, COUNT(*) as student_count\nFROM students\nGROUP BY age;\n\nResult:\n| age | student_count |\n|-----|---------------|\n| 18  | 5             |\n| 19  | 8             |\n| 20  | 12            |\n| 21  | 7             |\n\nWITH AGGREGATES:\nSELECT age, AVG(gpa) as avg_gpa\nFROM students\nGROUP BY age;\n\nHAVING - Filtering Groups:\nSELECT age, COUNT(*) as count\nFROM students\nGROUP BY age\nHAVING count > 5;\n// Only show age groups with more than 5 students\n\nNOTE: WHERE filters ROWS, HAVING filters GROUPS"
            },
            {
              "type": "KEY_POINT",
              "title": "Query Order Matters!",
              "content": "SQL queries are executed in this order:\n\n1. FROM - Which table(s)\n2. WHERE - Filter rows\n3. GROUP BY - Group rows\n4. HAVING - Filter groups\n5. SELECT - Choose columns\n6. ORDER BY - Sort results\n7. LIMIT - Restrict number\n\nExample query using all:\n\nSELECT age, COUNT(*) as count, AVG(gpa) as avg_gpa\nFROM students\nWHERE email IS NOT NULL\nGROUP BY age\nHAVING count > 3\nORDER BY avg_gpa DESC\nLIMIT 5;"
            }
          ],
          "challenges": []
        },
        {
          "id": "epoch-5-lesson-4",
          "title": "Lesson 5.4: JOINs - Connecting Tables",
          "moduleId": "module-06",
          "order": 4,
          "estimatedMinutes": 45,
          "difficulty": "intermediate",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: Data Spread Across Tables",
              "content": "Imagine a school database:\n\nstudents table:\n| id | name  | age |\n|----|-------|-----|\n| 1  | Alice | 20  |\n| 2  | Bob   | 21  |\n\nenrollments table:\n| id | student_id | course_name     |\n|----|------------|----------------|\n| 1  | 1          | Math 101        |\n| 2  | 1          | Physics 201     |\n| 3  | 2          | Math 101        |\n\nHow do you find all courses Alice is enrolled in?\nYou need to CONNECT (JOIN) these tables!"
            },
            {
              "type": "THEORY",
              "title": "Foreign Keys - Linking Tables",
              "content": "A FOREIGN KEY references another table's PRIMARY KEY:\n\nCREATE TABLE enrollments (\n    id INT PRIMARY KEY AUTO_INCREMENT,\n    student_id INT,\n    course_name VARCHAR(100),\n    FOREIGN KEY (student_id) REFERENCES students(id)\n);\n\nstudent_id is a FOREIGN KEY:\n- Points to id in students table\n- Creates a relationship between tables\n- Enforces referential integrity\n\nYou can't:\n- Add enrollment with student_id = 999 (student doesn't exist)\n- Delete a student who has enrollments (without CASCADE)"
            },
            {
              "type": "THEORY",
              "title": "INNER JOIN - Matching Rows Only",
              "content": "INNER JOIN returns rows that exist in BOTH tables:\n\nSELECT students.name, enrollments.course_name\nFROM students\nINNER JOIN enrollments ON students.id = enrollments.student_id;\n\nResult:\n| name  | course_name |\n|-------|-------------|\n| Alice | Math 101    |\n| Alice | Physics 201 |\n| Bob   | Math 101    |\n\nBREAKDOWN:\n- FROM students: Start with students table\n- INNER JOIN enrollments: Connect to enrollments\n- ON students.id = enrollments.student_id: How they connect\n\nOnly includes students WHO HAVE enrollments."
            },
            {
              "type": "THEORY",
              "title": "LEFT JOIN - Keep All Left Side Rows",
              "content": "LEFT JOIN returns ALL rows from left table, even if no match:\n\nSELECT students.name, enrollments.course_name\nFROM students\nLEFT JOIN enrollments ON students.id = enrollments.student_id;\n\nIf student 'Carol' (id=3) has no enrollments:\n| name  | course_name |\n|-------|-------------|\n| Alice | Math 101    |\n| Alice | Physics 201 |\n| Bob   | Math 101    |\n| Carol | NULL        |  ← Carol included even with no enrollments\n\nUSE CASE:\nFind students who haven't enrolled in anything:\nSELECT students.name\nFROM students\nLEFT JOIN enrollments ON students.id = enrollments.student_id\nWHERE enrollments.id IS NULL;"
            },
            {
              "type": "KEY_POINT",
              "title": "JOINs are Like Matching Puzzle Pieces",
              "content": "INNER JOIN = Only matched pieces:\nStudent ⟷ Enrollment\n  🧩─🧩  (connected)\n  🧩─🧩  (connected)\n  🧩 (no match, excluded)\n\nLEFT JOIN = Keep all left pieces:\nStudent → Enrollment\n  🧩─🧩  (connected)\n  🧩─🧩  (connected)\n  🧩─❓  (student kept, enrollment NULL)\n\nThink of LEFT table as the \"main\" one you want to keep."
            },
            {
              "type": "THEORY",
              "title": "Many-to-Many Relationships",
              "content": "SCENARIO: Students can take many courses, courses have many students\n\nBAD DESIGN: Store courses in student table\nstudents:\n| id | name  | courses_taken          |\n|----|-------|------------------------|\n| 1  | Alice | Math 101, Physics 201  |  ← Hard to query!\n\nGOOD DESIGN: Junction table (join table)\n\nstudents:\n| id | name  |\n\ncourses:\n| id | course_name |\n\nenrollments (junction table):\n| student_id | course_id |\n|------------|----------|\n| 1          | 101      |\n| 1          | 201      |\n| 2          | 101      |\n\nTHREE-WAY JOIN:\nSELECT students.name, courses.course_name\nFROM students\nINNER JOIN enrollments ON students.id = enrollments.student_id\nINNER JOIN courses ON enrollments.course_id = courses.id;"
            }
          ],
          "challenges": []
        },
        {
          "id": "epoch-5-lesson-5",
          "title": "Lesson 5.5: JDBC - Databases + Java",
          "moduleId": "module-06",
          "order": 5,
          "estimatedMinutes": 45,
          "difficulty": "intermediate",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: Java Needs to Talk to Databases",
              "content": "So far:\n- You know Java (objects, methods, classes)\n- You know SQL (SELECT, INSERT, JOIN)\n\nBut they're separate!\n\nHow do you run SQL from Java code?\nHow do you get query results into Java objects?\n\nSolution: JDBC (Java Database Connectivity)\n- Standard Java API for database access\n- Works with MySQL, PostgreSQL, Oracle, etc.\n- Lets you execute SQL from Java code"
            },
            {
              "type": "THEORY",
              "title": "JDBC Connection Steps",
              "content": "1. LOAD DRIVER (usually automatic now)\n2. ESTABLISH CONNECTION\n3. CREATE STATEMENT\n4. EXECUTE QUERY\n5. PROCESS RESULTS\n6. CLOSE RESOURCES\n\nCode example:\n\nimport java.sql.*;\n\npublic class DatabaseExample {\n    public static void main(String[] args) {\n        String url = \"jdbc:mysql://localhost:3306/school\";\n        String user = \"root\";\n        String password = \"password\";\n        \n        try (Connection conn = DriverManager.getConnection(url, user, password)) {\n            // Connection established!\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\ntry-with-resources automatically closes connection!"
            },
            {
              "type": "THEORY",
              "title": "Executing Queries - SELECT",
              "content": "Use Statement or PreparedStatement:\n\nString sql = \"SELECT * FROM students WHERE age > 20\";\n\ntry (Connection conn = DriverManager.getConnection(url, user, password);\n     Statement stmt = conn.createStatement();\n     ResultSet rs = stmt.executeQuery(sql)) {\n    \n    while (rs.next()) {  // Loop through results\n        int id = rs.getInt(\"id\");\n        String name = rs.getString(\"name\");\n        int age = rs.getInt(\"age\");\n        \n        System.out.println(id + \": \" + name + \", \" + age);\n    }\n}\n\nKEY POINTS:\n- ResultSet = cursor over query results\n- rs.next() = move to next row (returns false when done)\n- rs.getInt(\"column_name\") = get value by column name\n- rs.getString(1) = get by position (1-indexed)"
            },
            {
              "type": "THEORY",
              "title": "Executing Updates - INSERT, UPDATE, DELETE",
              "content": "Use executeUpdate() instead of executeQuery():\n\nINSERT:\nString sql = \"INSERT INTO students (name, age) VALUES ('Alice', 20)\";\ntry (Connection conn = DriverManager.getConnection(url, user, password);\n     Statement stmt = conn.createStatement()) {\n    \n    int rowsAffected = stmt.executeUpdate(sql);\n    System.out.println(\"Inserted \" + rowsAffected + \" row(s)\");\n}\n\nUPDATE:\nString sql = \"UPDATE students SET age = 21 WHERE name = 'Alice'\";\nint rowsAffected = stmt.executeUpdate(sql);\n\nDELETE:\nString sql = \"DELETE FROM students WHERE age < 18\";\nint rowsAffected = stmt.executeUpdate(sql);"
            },
            {
              "type": "THEORY",
              "title": "⚠️ SQL Injection - A Critical Security Risk!",
              "content": "NEVER concatenate user input directly into SQL:\n\n❌ DANGEROUS CODE:\nString userInput = \"Alice'; DROP TABLE students; --\";\nString sql = \"SELECT * FROM students WHERE name = '\" + userInput + \"'\";\n// Results in: SELECT * FROM students WHERE name = 'Alice'; DROP TABLE students; --'\n// YOUR TABLE JUST GOT DELETED!\n\n✓ SAFE CODE (PreparedStatement):\nString sql = \"SELECT * FROM students WHERE name = ?\";\ntry (PreparedStatement pstmt = conn.prepareStatement(sql)) {\n    pstmt.setString(1, userInput);  // Safe: input is escaped\n    ResultSet rs = pstmt.executeQuery();\n}\n\nALWAYS USE PREPAREDSTATEMENT WITH USER INPUT!"
            },
            {
              "type": "THEORY",
              "title": "PreparedStatement - The Right Way",
              "content": "PreparedStatement benefits:\n✓ Prevents SQL injection\n✓ Better performance (compiled once, reused)\n✓ Handles special characters automatically\n\nString sql = \"INSERT INTO students (name, age, email) VALUES (?, ?, ?)\";\n\ntry (PreparedStatement pstmt = conn.prepareStatement(sql)) {\n    // Set parameters (1-indexed)\n    pstmt.setString(1, \"Alice Johnson\");\n    pstmt.setInt(2, 20);\n    pstmt.setString(3, \"alice@example.com\");\n    \n    int rowsInserted = pstmt.executeUpdate();\n    System.out.println(\"Inserted: \" + rowsInserted);\n}\n\nBATCH INSERT (multiple rows):\npstmt.setString(1, \"Alice\");\npstmt.setInt(2, 20);\npstmt.addBatch();\n\npstmt.setString(1, \"Bob\");\npstmt.setInt(2, 21);\npstmt.addBatch();\n\nint[] results = pstmt.executeBatch();  // Execute all at once"
            },
            {
              "type": "KEY_POINT",
              "title": "JDBC Best Practices",
              "content": "1. ALWAYS USE TRY-WITH-RESOURCES\n   - Auto-closes connections, statements, resultsets\n   - Prevents resource leaks\n\n2. USE PREPAREDSTATEMENT, NOT STATEMENT\n   - Security (prevents SQL injection)\n   - Performance (pre-compiled)\n\n3. DON'T CONCATENATE SQL WITH USER INPUT\n   - Use ? placeholders\n   - Set parameters with setString(), setInt(), etc.\n\n4. USE CONNECTION POOLING IN PRODUCTION\n   - Libraries: HikariCP, Apache DBCP\n   - Reuse connections (expensive to create)\n\n5. HANDLE EXCEPTIONS PROPERLY\n   - Log errors\n   - Don't expose SQL details to users\n\n6. CLOSE RESOURCES IN FINALLY OR USE TRY-WITH-RESOURCES\n   - Connection leaks kill performance"
            }
          ],
          "challenges": []
        }
      ]
    },
    {
      "id": "module-07",
      "title": "Web Fundamentals and APIs",
      "description": "Understand HTTP, REST APIs, and consuming web services with HttpClient.",
      "difficulty": "beginner",
      "estimatedHours": 1.9,
      "lessons": [
        {
          "id": "epoch-6-lesson-1",
          "title": "Lesson 6.1: How Does the Web Actually Work?",
          "moduleId": "module-07",
          "order": 1,
          "estimatedMinutes": 30,
          "difficulty": "intermediate",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: Programs That Talk Over the Internet",
              "content": "So far, your programs run on ONE computer.\n\nBut modern apps need to:\n- Let users access from anywhere (phone, laptop, tablet)\n- Share data between users\n- Update in real-time\n\nExample: Instagram\n- You post a photo from your phone\n- Your friend sees it on their laptop\n- How did the photo get there?\n\nThis requires CLIENT-SERVER architecture."
            },
            {
              "type": "KEY_POINT",
              "title": "The Web is Like a Restaurant",
              "content": "YOU (Client):\n- Sit at a table\n- Look at menu\n- Order food: \"I'll have the pasta\"\n\nKITCHEN (Server):\n- Receives your order\n- Prepares the food\n- Sends it back to you\n\nWAITER (HTTP Protocol):\n- Carries messages between you and kitchen\n- Speaks a specific language (HTTP)\n\nIn web terms:\n- Your browser = Client (customer)\n- Java server = Server (kitchen)\n- HTTP = Protocol (waiter's language)"
            },
            {
              "type": "THEORY",
              "title": "HTTP Requests and Responses",
              "content": "When you visit a website:\n\n1. CLIENT SENDS REQUEST:\nGET /api/users/123 HTTP/1.1\nHost: example.com\n\nThis means: \"Give me information about user 123\"\n\n2. SERVER PROCESSES REQUEST:\n- Looks up user 123 in database\n- Prepares the data\n\n3. SERVER SENDS RESPONSE:\nHTTP/1.1 200 OK\nContent-Type: application/json\n{\"name\": \"Alice\", \"age\": 20}\n\nCommon HTTP methods:\n- GET: Retrieve data (\"show me\")\n- POST: Create data (\"save this\")\n- PUT: Update data (\"change this\")\n- DELETE: Remove data (\"delete this\")"
            }
          ],
          "challenges": []
        },
        {
          "id": "epoch-6-lesson-2",
          "title": "Lesson 6.2: REST APIs - The Standard for Web Services",
          "moduleId": "module-07",
          "order": 2,
          "estimatedMinutes": 40,
          "difficulty": "intermediate",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "What is a REST API?",
              "content": "REST = Representational State Transfer\n\nA REST API is a set of rules for building web services:\n\nKEY PRINCIPLES:\n1. Resources identified by URLs\n2. HTTP methods define actions\n3. Stateless (each request independent)\n4. JSON for data exchange\n\nEXAMPLE API:\nGET    /api/users        → Get all users\nGET    /api/users/123    → Get user with ID 123\nPOST   /api/users        → Create new user\nPUT    /api/users/123    → Update user 123\nDELETE /api/users/123    → Delete user 123"
            },
            {
              "type": "THEORY",
              "title": "HTTP Methods - The Verbs",
              "content": "GET - Retrieve data (read-only, safe):\nGET /api/products\nResponse: [{ \"id\": 1, \"name\": \"Laptop\", \"price\": 999 }]\n\nPOST - Create new resource:\nPOST /api/products\nBody: { \"name\": \"Mouse\", \"price\": 25 }\nResponse: { \"id\": 2, \"name\": \"Mouse\", \"price\": 25 }\n\nPUT - Update entire resource:\nPUT /api/products/2\nBody: { \"name\": \"Wireless Mouse\", \"price\": 30 }\n\nPATCH - Update partial resource:\nPATCH /api/products/2\nBody: { \"price\": 28 }\n\nDELETE - Remove resource:\nDELETE /api/products/2\n\nIDEMPOTENT:\nGET, PUT, DELETE are idempotent (same result if called multiple times)\nPOST is NOT idempotent (creates new resource each time)"
            },
            {
              "type": "THEORY",
              "title": "JSON - JavaScript Object Notation",
              "content": "JSON is the standard data format for REST APIs:\n\nSIMPLE OBJECT:\n{\n    \"id\": 1,\n    \"name\": \"Alice\",\n    \"age\": 20,\n    \"active\": true\n}\n\nARRAY:\n[\"apple\", \"banana\", \"cherry\"]\n\nNESTED OBJECTS:\n{\n    \"user\": {\n        \"id\": 1,\n        \"name\": \"Alice\"\n    },\n    \"orders\": [\n        { \"id\": 101, \"total\": 50.00 },\n        { \"id\": 102, \"total\": 75.50 }\n    ]\n}\n\nDATA TYPES:\n- String: \"hello\" (double quotes only)\n- Number: 42, 3.14\n- Boolean: true, false\n- Null: null\n- Object: { }\n- Array: [ ]"
            },
            {
              "type": "THEORY",
              "title": "HTTP Status Codes - Response Indicators",
              "content": "2xx SUCCESS:\n200 OK - Request succeeded\n201 Created - Resource created (POST)\n204 No Content - Success but no body (DELETE)\n\n3xx REDIRECTION:\n301 Moved Permanently\n304 Not Modified (cached)\n\n4xx CLIENT ERRORS:\n400 Bad Request - Invalid data\n401 Unauthorized - Need authentication\n403 Forbidden - Authenticated but not allowed\n404 Not Found - Resource doesn't exist\n409 Conflict - Resource state conflict\n\n5xx SERVER ERRORS:\n500 Internal Server Error - Server crashed\n502 Bad Gateway - Upstream server failed\n503 Service Unavailable - Server overloaded\n\nEXAMPLE:\nGET /api/users/999\n→ 404 Not Found (user doesn't exist)\n\nPOST /api/users (with invalid data)\n→ 400 Bad Request"
            },
            {
              "type": "KEY_POINT",
              "title": "REST API is Like a Restaurant Menu",
              "content": "MENU (API Documentation):\nGET /api/dishes → View all dishes\nPOST /api/orders → Place an order\nGET /api/orders/123 → Check order status\n\nYOU (Client):\n\"I'll have the pasta\" (POST /api/orders { \"dish\": \"pasta\" })\n\nWAITER (HTTP):\nTakes your order to kitchen\n\nKITCHEN (Server):\nProcesses order, returns response\n\nRESULT:\n201 Created: { \"order_id\": 123, \"dish\": \"pasta\", \"status\": \"preparing\" }"
            },
            {
              "type": "KEY_POINT",
              "title": "REST API Best Practices",
              "content": "1. USE NOUNS, NOT VERBS IN URLS:\n   ✓ GET /api/users\n   ✗ GET /api/getUsers\n\n2. USE PLURAL NOUNS:\n   ✓ /api/users/123\n   ✗ /api/user/123\n\n3. USE HTTP METHODS FOR ACTIONS:\n   Don't: POST /api/users/delete/123\n   Do: DELETE /api/users/123\n\n4. VERSION YOUR API:\n   /api/v1/users\n   /api/v2/users\n\n5. RETURN APPROPRIATE STATUS CODES:\n   Success → 200\n   Created → 201\n   Not Found → 404\n\n6. USE QUERY PARAMETERS FOR FILTERING:\n   /api/users?age=20&active=true"
            }
          ],
          "challenges": []
        },
        {
          "id": "epoch-6-lesson-3",
          "title": "Lesson 6.3: HttpClient - Calling APIs from Java",
          "moduleId": "module-07",
          "order": 3,
          "estimatedMinutes": 40,
          "difficulty": "intermediate",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: Java Needs to Call External APIs",
              "content": "Modern applications don't exist in isolation:\n\n- Weather app → calls weather API\n- E-commerce → calls payment API\n- Social media → calls authentication API\n\nYour Java code needs to make HTTP requests to external services.\n\nJava 11+ provides: HttpClient (modern, built-in)\nBefore Java 11: HttpURLConnection (old, clunky)\nPopular library: Apache HttpClient\n\nWe'll use Java's modern HttpClient!"
            },
            {
              "type": "THEORY",
              "title": "Making a GET Request",
              "content": "import java.net.URI;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\n\npublic class APIExample {\n    public static void main(String[] args) throws Exception {\n        // 1. Create HttpClient\n        HttpClient client = HttpClient.newHttpClient();\n        \n        // 2. Build request\n        HttpRequest request = HttpRequest.newBuilder()\n            .uri(URI.create(\"https://api.example.com/users/123\"))\n            .GET()\n            .build();\n        \n        // 3. Send request and get response\n        HttpResponse<String> response = client.send(\n            request,\n            HttpResponse.BodyHandlers.ofString()\n        );\n        \n        // 4. Process response\n        System.out.println(\"Status: \" + response.statusCode());\n        System.out.println(\"Body: \" + response.body());\n    }\n}"
            },
            {
              "type": "THEORY",
              "title": "POST Request with JSON Body",
              "content": "import com.google.gson.Gson;\n\n// Create data object\nclass User {\n    String name;\n    int age;\n    \n    User(String name, int age) {\n        this.name = name;\n        this.age = age;\n    }\n}\n\n// Convert to JSON\nGson gson = new Gson();\nUser newUser = new User(\"Alice\", 20);\nString json = gson.toJson(newUser);  // {\"name\":\"Alice\",\"age\":20}\n\n// Build POST request\nHttpRequest request = HttpRequest.newBuilder()\n    .uri(URI.create(\"https://api.example.com/users\"))\n    .header(\"Content-Type\", \"application/json\")\n    .POST(HttpRequest.BodyPublishers.ofString(json))\n    .build();\n\n// Send request\nHttpResponse<String> response = client.send(\n    request,\n    HttpResponse.BodyHandlers.ofString()\n);\n\n// Parse response\nif (response.statusCode() == 201) {\n    User created = gson.fromJson(response.body(), User.class);\n    System.out.println(\"Created user: \" + created.name);\n}"
            },
            {
              "type": "THEORY",
              "title": "Handling HTTP Headers",
              "content": "COMMON HEADERS:\n\nContent-Type: What format is the body?\n- application/json (JSON data)\n- application/x-www-form-urlencoded (form data)\n- text/html (HTML)\n\nAuthorization: Authentication token\n- Bearer <token>\n- Basic <base64-credentials>\n\nAccept: What format do you want back?\n- application/json\n\nSETTING HEADERS:\nHttpRequest request = HttpRequest.newBuilder()\n    .uri(URI.create(url))\n    .header(\"Content-Type\", \"application/json\")\n    .header(\"Authorization\", \"Bearer abc123xyz\")\n    .header(\"Accept\", \"application/json\")\n    .GET()\n    .build();\n\nREADING RESPONSE HEADERS:\nString contentType = response.headers()\n    .firstValue(\"content-type\")\n    .orElse(\"unknown\");"
            },
            {
              "type": "KEY_POINT",
              "title": "Error Handling for HTTP Requests",
              "content": "ALWAYS handle errors:\n\ntry {\n    HttpResponse<String> response = client.send(request, ...);\n    \n    // Check status code\n    if (response.statusCode() == 200) {\n        // Success!\n        String body = response.body();\n    } else if (response.statusCode() == 404) {\n        System.err.println(\"Resource not found\");\n    } else if (response.statusCode() >= 500) {\n        System.err.println(\"Server error: \" + response.statusCode());\n    } else {\n        System.err.println(\"Error: \" + response.statusCode());\n    }\n    \n} catch (IOException e) {\n    // Network error (can't reach server)\n    System.err.println(\"Network error: \" + e.getMessage());\n} catch (InterruptedException e) {\n    // Request was interrupted\n    System.err.println(\"Request interrupted\");\n}\n\nCOMMON ERRORS:\n- IOException: Network issues, timeout\n- 4xx codes: Client problems (bad request, not found)\n- 5xx codes: Server problems (crash, overload)"
            }
          ],
          "challenges": []
        }
      ]
    },
    {
      "id": "module-08",
      "title": "Spring Boot",
      "description": "Build modern web applications with Spring Boot, REST controllers, JPA, and security.",
      "difficulty": "beginner",
      "estimatedHours": 5.1,
      "lessons": [
        {
          "id": "epoch-7-lesson-1",
          "title": "Lesson 7.1: Why Spring Boot?",
          "moduleId": "module-08",
          "order": 1,
          "estimatedMinutes": 35,
          "difficulty": "intermediate",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: Building Web Apps is Complex",
              "content": "To build a web API manually, you need to:\n- Set up a web server\n- Configure routing (which URL goes where)\n- Handle HTTP requests and responses\n- Connect to a database\n- Manage security\n- Handle errors\n\nThis is HUNDREDS of lines of configuration code before you even start building features!\n\nSpring Boot solves this: \"Convention over Configuration\"\n- Auto-configures everything\n- Provides sensible defaults\n- You focus on business logic, not plumbing"
            },
            {
              "type": "KEY_POINT",
              "title": "Spring Boot is Like IKEA Furniture",
              "content": "Building a web app from scratch:\n= Chopping down trees and making furniture from raw wood\n- Extremely difficult\n- Takes forever\n- Easy to mess up\n\nUsing Spring Boot:\n= IKEA pre-packaged furniture\n- All pieces provided\n- Clear instructions\n- Just assemble (write your business logic)\n\nSpring Boot gives you the framework, you add your app's unique features."
            },
            {
              "type": "THEORY",
              "title": "Your First Spring Boot Endpoint",
              "content": "A REST API endpoint in Spring Boot:\n\n@RestController\npublic class HelloController {\n    \n    @GetMapping(\"/hello\")\n    public String sayHello() {\n        return \"Hello, World!\";\n    }\n}\n\nThat's it! Spring Boot handles:\n- Starting a web server\n- Routing GET /hello to this method\n- Converting return value to HTTP response\n\nVisit http://localhost:8080/hello → See \"Hello, World!\""
            },
            {
              "type": "KEY_POINT",
              "title": "Key Spring Boot Concepts",
              "content": "@RestController - Marks a class as a web API controller\n@GetMapping - Maps HTTP GET requests to a method\n@PostMapping - Maps HTTP POST requests\n@RequestBody - Reads JSON from request\n@PathVariable - Extracts values from URL\n\nSpring Boot's magic: Annotations do the work!"
            }
          ],
          "challenges": []
        },
        {
          "id": "epoch-7-lesson-2",
          "title": "Lesson 7.2: REST Controllers - Building Your API",
          "moduleId": "module-08",
          "order": 2,
          "estimatedMinutes": 45,
          "difficulty": "intermediate",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "Creating a Complete REST API",
              "content": "Let's build a User API with full CRUD operations:\n\n@RestController\n@RequestMapping(\"/api/users\")\npublic class UserController {\n    \n    private List<User> users = new ArrayList<>();\n    \n    // GET all users\n    @GetMapping\n    public List<User> getAllUsers() {\n        return users;\n    }\n    \n    // GET single user by ID\n    @GetMapping(\"/{id}\")\n    public User getUserById(@PathVariable Long id) {\n        return users.stream()\n            .filter(u -> u.getId().equals(id))\n            .findFirst()\n            .orElse(null);\n    }\n    \n    // POST create new user\n    @PostMapping\n    public User createUser(@RequestBody User user) {\n        users.add(user);\n        return user;\n    }\n    \n    // PUT update user\n    @PutMapping(\"/{id}\")\n    public User updateUser(@PathVariable Long id, @RequestBody User updated) {\n        // Find and update user\n        return updated;\n    }\n    \n    // DELETE user\n    @DeleteMapping(\"/{id}\")\n    public void deleteUser(@PathVariable Long id) {\n        users.removeIf(u -> u.getId().equals(id));\n    }\n}"
            },
            {
              "type": "THEORY",
              "title": "Key Annotations Explained",
              "content": "@RestController:\n- Combines @Controller + @ResponseBody\n- Returns data (JSON) instead of views (HTML)\n- Every method returns data, not page names\n\n@RequestMapping(\"/api/users\"):\n- Base URL for all methods in this controller\n- Methods add to this path\n\n@GetMapping, @PostMapping, etc.:\n- Shorthand for @RequestMapping(method = GET/POST)\n- Maps HTTP method to Java method\n\n@PathVariable:\n- Extracts value from URL path\n- /api/users/{id} → @PathVariable Long id\n- /api/users/123 → id = 123\n\n@RequestBody:\n- Reads JSON from request body\n- Automatically converts JSON to Java object\n- POST/PUT requests with data\n\n@RequestParam:\n- Extracts query parameters\n- /api/users?age=20 → @RequestParam int age"
            },
            {
              "type": "THEORY",
              "title": "ResponseEntity - Better Control",
              "content": "Return ResponseEntity for more control over HTTP response:\n\n@GetMapping(\"/{id}\")\npublic ResponseEntity<User> getUserById(@PathVariable Long id) {\n    User user = findUserById(id);\n    \n    if (user == null) {\n        return ResponseEntity.notFound().build();  // 404\n    }\n    \n    return ResponseEntity.ok(user);  // 200 with body\n}\n\n@PostMapping\npublic ResponseEntity<User> createUser(@RequestBody User user) {\n    User saved = userService.save(user);\n    return ResponseEntity\n        .status(HttpStatus.CREATED)  // 201\n        .body(saved);\n}\n\nBENEFITS:\n- Set custom status codes\n- Add headers\n- Full control over response"
            },
            {
              "type": "THEORY",
              "title": "Exception Handling",
              "content": "Handle errors gracefully:\n\n@RestControllerAdvice\npublic class GlobalExceptionHandler {\n    \n    @ExceptionHandler(UserNotFoundException.class)\n    public ResponseEntity<ErrorResponse> handleUserNotFound(UserNotFoundException ex) {\n        ErrorResponse error = new ErrorResponse(\n            \"User not found\",\n            ex.getMessage()\n        );\n        return ResponseEntity.status(HttpStatus.NOT_FOUND).body(error);\n    }\n    \n    @ExceptionHandler(IllegalArgumentException.class)\n    public ResponseEntity<ErrorResponse> handleBadRequest(IllegalArgumentException ex) {\n        ErrorResponse error = new ErrorResponse(\n            \"Invalid request\",\n            ex.getMessage()\n        );\n        return ResponseEntity.badRequest().body(error);\n    }\n}\n\nWhen controller throws UserNotFoundException:\n→ Handler catches it\n→ Returns 404 with error message"
            },
            {
              "type": "KEY_POINT",
              "title": "Validation with Spring Boot",
              "content": "Use Bean Validation annotations:\n\npublic class User {\n    @NotNull(message = \"ID is required\")\n    private Long id;\n    \n    @NotBlank(message = \"Name cannot be empty\")\n    @Size(min = 2, max = 100, message = \"Name must be 2-100 characters\")\n    private String name;\n    \n    @Min(value = 18, message = \"Must be at least 18\")\n    private int age;\n    \n    @Email(message = \"Invalid email format\")\n    private String email;\n}\n\nIn controller:\n@PostMapping\npublic ResponseEntity<User> createUser(@Valid @RequestBody User user) {\n    // If validation fails, Spring returns 400 automatically\n    return ResponseEntity.ok(userService.save(user));\n}\n\n@Valid triggers validation!\nInvalid request → 400 Bad Request with error details"
            }
          ],
          "challenges": []
        },
        {
          "id": "epoch-7-lesson-3",
          "title": "Lesson 7.3: Spring Data JPA - No More SQL!",
          "moduleId": "module-08",
          "order": 3,
          "estimatedMinutes": 45,
          "difficulty": "intermediate",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: Writing SQL is Repetitive",
              "content": "Every entity needs similar code:\n\nfindAll(), findById(), save(), deleteById()...\n\nWriting JDBC code:\n- PreparedStatement for every query\n- ResultSet parsing\n- Connection management\n- Hundreds of lines of boilerplate!\n\nSpring Data JPA eliminates this:\n- Auto-generates common queries\n- Maps Java objects to database tables\n- Handles connections automatically\n- You write interfaces, Spring implements them!"
            },
            {
              "type": "THEORY",
              "title": "Creating an Entity",
              "content": "@Entity tells JPA this maps to a database table:\n\n@Entity\n@Table(name = \"users\")  // Optional: custom table name\npublic class User {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    \n    @Column(name = \"full_name\", nullable = false, length = 100)\n    private String name;\n    \n    @Column(nullable = false)\n    private int age;\n    \n    @Column(unique = true)\n    private String email;\n    \n    // Getters and setters\n}\n\n@Entity - Marks as database entity\n@Id - Primary key\n@GeneratedValue - Auto-increment\n@Column - Column properties"
            },
            {
              "type": "THEORY",
              "title": "Creating a Repository",
              "content": "Extend JpaRepository - Spring does the rest:\n\npublic interface UserRepository extends JpaRepository<User, Long> {\n    // That's it! Spring generates implementation\n}\n\nFREE METHODS (no code needed):\n- findAll() → SELECT * FROM users\n- findById(id) → SELECT * FROM users WHERE id = ?\n- save(user) → INSERT or UPDATE\n- deleteById(id) → DELETE FROM users WHERE id = ?\n- count() → SELECT COUNT(*) FROM users\n- existsById(id) → Check if exists\n\nUsage in service:\n\n@Service\npublic class UserService {\n    @Autowired\n    private UserRepository userRepository;\n    \n    public List<User> getAllUsers() {\n        return userRepository.findAll();\n    }\n    \n    public User saveUser(User user) {\n        return userRepository.save(user);\n    }\n}"
            },
            {
              "type": "THEORY",
              "title": "Custom Query Methods",
              "content": "Spring Data JPA generates queries from method names!\n\npublic interface UserRepository extends JpaRepository<User, Long> {\n    \n    // Find by name\n    List<User> findByName(String name);\n    // SELECT * FROM users WHERE name = ?\n    \n    // Find by age greater than\n    List<User> findByAgeGreaterThan(int age);\n    // SELECT * FROM users WHERE age > ?\n    \n    // Find by email containing\n    List<User> findByEmailContaining(String keyword);\n    // SELECT * FROM users WHERE email LIKE %?%\n    \n    // Find by name and age\n    List<User> findByNameAndAge(String name, int age);\n    // SELECT * FROM users WHERE name = ? AND age = ?\n    \n    // Check if exists\n    boolean existsByEmail(String email);\n    \n    // Count by age\n    long countByAge(int age);\n}\n\nMETHOD NAME KEYWORDS:\n- findBy, getBy, queryBy\n- And, Or\n- GreaterThan, LessThan, Between\n- Like, Containing, StartingWith, EndingWith\n- OrderBy...Asc, OrderBy...Desc"
            },
            {
              "type": "THEORY",
              "title": "Custom JPQL Queries",
              "content": "For complex queries, write JPQL (like SQL but for Java objects):\n\npublic interface UserRepository extends JpaRepository<User, Long> {\n    \n    @Query(\"SELECT u FROM User u WHERE u.age > :minAge AND u.age < :maxAge\")\n    List<User> findUsersByAgeRange(@Param(\"minAge\") int min, @Param(\"maxAge\") int max);\n    \n    @Query(\"SELECT u FROM User u WHERE u.name LIKE %:keyword%\")\n    List<User> searchByName(@Param(\"keyword\") String keyword);\n    \n    @Query(value = \"SELECT * FROM users WHERE age > ?1\", nativeQuery = true)\n    List<User> findUsingNativeSQL(int age);\n}\n\n@Query - Custom JPQL query\n@Param - Named parameter\nnativeQuery = true - Use actual SQL instead of JPQL"
            },
            {
              "type": "KEY_POINT",
              "title": "Service Layer Pattern",
              "content": "BEST PRACTICE: Controller → Service → Repository\n\n@RestController\npublic class UserController {\n    @Autowired\n    private UserService userService;  // Not Repository!\n    \n    @GetMapping(\"/api/users\")\n    public List<User> getAll() {\n        return userService.getAllUsers();\n    }\n}\n\n@Service\npublic class UserService {\n    @Autowired\n    private UserRepository userRepository;\n    \n    public List<User> getAllUsers() {\n        return userRepository.findAll();\n    }\n    \n    public User createUser(User user) {\n        // Business logic here\n        validateUser(user);\n        return userRepository.save(user);\n    }\n}\n\nWHY?\n- Separation of concerns\n- Business logic in service, not controller\n- Easier to test\n- Reusable services"
            }
          ],
          "challenges": []
        },
        {
          "id": "epoch-7-lesson-4",
          "title": "Lesson 7.4: Dependency Injection - The Heart of Spring",
          "moduleId": "module-08",
          "order": 4,
          "estimatedMinutes": 40,
          "difficulty": "intermediate",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: Classes That Create Their Own Dependencies",
              "content": "Without dependency injection:\n\npublic class UserController {\n    private UserService userService = new UserService();  // BAD!\n    \n    public User getUser(Long id) {\n        return userService.findById(id);\n    }\n}\n\nPROBLEMS:\n❌ Tight Coupling - UserController is glued to UserService\n❌ Hard to Test - Can't replace UserService with a mock\n❌ Inflexible - Can't swap implementations\n❌ Manual Lifecycle - You manage object creation\n\nWhat if UserService needs a database connection?\nNow UserController must manage that too!\n\nSolution: DEPENDENCY INJECTION (DI)"
            },
            {
              "type": "KEY_POINT",
              "title": "Dependency Injection is Like a Restaurant Kitchen",
              "content": "WITHOUT DI (You Make Everything):\n- Build your own stove\n- Raise your own chickens\n- Grow your own vegetables\n- Make your own plates\n- THEN cook dinner\n\nThis is like 'new UserService()' - you manage everything!\n\nWITH DI (Restaurant Provides Everything):\n- Professional stove (already installed)\n- Fresh ingredients (delivered daily)\n- Clean dishes (washed and ready)\n- Trained staff\n\nYou just: COOK THE MEAL\n\nSpring Container = Kitchen Manager:\n1. Knows about all beans (objects it manages)\n2. Creates them when needed\n3. Injects them where required\n4. Manages lifecycle (startup, shutdown)"
            },
            {
              "type": "THEORY",
              "title": "Spring Boot 3 Best Practice: Constructor Injection",
              "content": "Mark classes as Spring beans:\n\n@Service\npublic class UserService {\n    private final UserRepository userRepository;\n    \n    // Constructor injection (BEST PRACTICE)\n    public UserService(UserRepository userRepository) {\n        this.userRepository = userRepository;\n    }\n    \n    public User findById(Long id) {\n        return userRepository.findById(id).orElse(null);\n    }\n}\n\nThen inject into controllers:\n\n@RestController\n@RequestMapping(\"/api/users\")\npublic class UserController {\n    private final UserService userService;\n    \n    // Spring automatically injects UserService\n    // No @Autowired needed for single constructor!\n    public UserController(UserService userService) {\n        this.userService = userService;\n    }\n    \n    @GetMapping(\"/{id}\")\n    public User getUser(@PathVariable Long id) {\n        return userService.findById(id);\n    }\n}\n\nThe full stack:\nController → Service → Repository → Database\nSpring wires this chain automatically!"
            },
            {
              "type": "THEORY",
              "title": "Spring Stereotype Annotations",
              "content": "These tell Spring to manage a class as a bean:\n\n@Component - Generic bean (utility classes)\n@Service - Business logic layer\n@Repository - Data access layer\n@Controller - Web MVC controller (returns HTML)\n@RestController - REST API controller (returns JSON)\n\nExample:\n\n@Service\npublic class EmailService {\n    // Spring manages this\n}\n\n@Repository\npublic interface UserRepository extends JpaRepository<User, Long> {\n    // Spring implements this\n}\n\nAll of these are variations of @Component!"
            },
            {
              "type": "THEORY",
              "title": "Why Constructor Injection with 'final'?",
              "content": "@Service\npublic class OrderService {\n    private final UserService userService;      // final = immutable\n    private final PaymentService paymentService;\n    \n    public OrderService(UserService userService, \n                       PaymentService paymentService) {\n        this.userService = userService;\n        this.paymentService = paymentService;\n    }\n}\n\nBENEFITS OF 'final':\n✓ Guarantees field is set exactly once\n✓ Thread-safe\n✓ Makes dependencies explicit\n✓ Prevents accidental reassignment\n\nWhen Spring starts:\n1. Scans for @Component, @Service, etc.\n2. Creates instances\n3. Calls constructors with required dependencies\n4. Stores beans in Application Context"
            },
            {
              "type": "THEORY",
              "title": "⚠️ Avoid Field Injection (Old Way)",
              "content": "❌ OLD STYLE - Not recommended in Spring Boot 3:\n\n@Service\npublic class OldStyleService {\n    @Autowired\n    private UserRepository userRepository;  // Field injection\n}\n\nWHY AVOID?\n- Cannot make field 'final'\n- Harder to test (requires reflection)\n- Dependencies not explicit\n- Nullable references possible\n\n✓ MODERN STYLE - Use constructor injection:\n\n@Service\npublic class ModernService {\n    private final UserRepository userRepository;\n    \n    public ModernService(UserRepository userRepository) {\n        this.userRepository = userRepository;\n    }\n}"
            },
            {
              "type": "KEY_POINT",
              "title": "When @Autowired IS Still Needed",
              "content": "Only when you have MULTIPLE constructors:\n\n@Service\npublic class FlexibleService {\n    private final UserService userService;\n    private final Optional<CacheService> cacheService;\n    \n    // Tell Spring to use THIS constructor\n    @Autowired\n    public FlexibleService(UserService userService,\n                          @Autowired(required = false) CacheService cache) {\n        this.userService = userService;\n        this.cacheService = Optional.ofNullable(cache);\n    }\n    \n    // Alternative constructor for testing\n    public FlexibleService(UserService userService) {\n        this(userService, null);\n    }\n}\n\nBEAN SCOPES:\nBy default, beans are Singleton (one instance):\n\n@Service  // Singleton by default\npublic class UserService { }\n\nOther scopes:\n@Service\n@Scope(\"prototype\")  // New instance every time\npublic class PrototypeService { }\n\nMost of the time, Singleton is what you want!"
            },
            {
              "type": "THEORY",
              "title": "💻 Complete Multi-Layer Service",
              "content": "```java\nRepository:\n\n@Repository\npublic interface BookRepository extends JpaRepository<Book, Long> {\n    // Spring auto-implements CRUD methods\n}\n\nService:\n\n@Service\npublic class BookService {\n    private final BookRepository bookRepository;\n    \n    public BookService(BookRepository bookRepository) {\n        this.bookRepository = bookRepository;\n    }\n    \n    public List<Book> getAllBooks() {\n        return bookRepository.findAll();\n    }\n    \n    public Book saveBook(Book book) {\n        return bookRepository.save(book);\n    }\n}\n\nController:\n\n@RestController\n@RequestMapping(\"/api/books\")\npublic class BookController {\n    private final BookService bookService;\n    \n    public BookController(BookService bookService) {\n        this.bookService = bookService;\n    }\n    \n    @GetMapping\n    public List<Book> getAll() {\n        return bookService.getAllBooks();\n    }\n    \n    @PostMapping\n    public Book create(@RequestBody Book book) {\n        return bookService.saveBook(book);\n    }\n}\n\nThe Dependency Chain:\nBookController → BookService → BookRepository → Database\n\nSpring automatically wires everything!\n```"
            }
          ],
          "challenges": []
        },
        {
          "id": "epoch-7-lesson-5",
          "title": "Lesson 7.5: Configuration - Making Your App Flexible",
          "moduleId": "module-08",
          "order": 5,
          "estimatedMinutes": 45,
          "difficulty": "intermediate",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: Hardcoded Values Everywhere",
              "content": "Bad code with hardcoded values:\n\n@Service\npublic class EmailService {\n    private String smtpHost = \"smtp.gmail.com\";     // Hardcoded!\n    private int smtpPort = 587;                      // Hardcoded!\n    private String apiKey = \"abc123xyz\";            // Hardcoded!\n    \n    public void sendEmail(String to, String message) {\n        // Use hardcoded values...\n    }\n}\n\nPROBLEMS:\n❌ Different values for dev/test/production\n❌ Must recompile to change values\n❌ Secrets exposed in code (security risk!)\n❌ Can't configure without modifying source\n\nReal apps need:\n- Dev: localhost:3306 for database\n- Test: test-server:3306\n- Production: prod-server.com:3306\n\nSolution: EXTERNAL CONFIGURATION"
            },
            {
              "type": "KEY_POINT",
              "title": "Configuration is Like a TV Remote Settings Menu",
              "content": "HARDCODED (No Remote):\n- Brightness welded to 100%\n- Volume stuck at 50\n- Want to change? Open TV, solder new circuits!\n\nThis is like hardcoding values in Java code.\n\nCONFIGURABLE (Settings Menu):\n- Brightness: adjustable 0-100%\n- Volume: adjustable 0-100\n- Language: English, Spanish, French...\n- Change anytime WITHOUT opening the TV!\n\nThis is Spring Boot configuration:\n- Values in application.properties or application.yml\n- Change without recompiling code\n- Different settings for different environments"
            },
            {
              "type": "THEORY",
              "title": "application.properties - The Configuration File",
              "content": "Spring Boot reads configuration from application.properties:\n\nLocation: src/main/resources/application.properties"
            },
            {
              "type": "THEORY",
              "title": "Database configuration",
              "content": "spring.datasource.url=jdbc:mysql://localhost:3306/mydb\nspring.datasource.username=root\nspring.datasource.password=secret"
            },
            {
              "type": "THEORY",
              "title": "Server configuration",
              "content": "server.port=8080"
            },
            {
              "type": "THEORY",
              "title": "Custom application properties",
              "content": "app.name=My Awesome App\napp.version=1.0.0\napp.email.host=smtp.gmail.com\napp.email.port=587\n\nSpring automatically applies these settings!\n\nCOMMON PROPERTIES:\n- server.port: Change default port (8080)\n- spring.datasource.*: Database connection\n- spring.jpa.hibernate.ddl-auto: create, update, validate\n- logging.level.*: Control log levels"
            },
            {
              "type": "THEORY",
              "title": "application.yml - The Modern Alternative",
              "content": "YAML format is more readable for complex configs:\n\nLocation: src/main/resources/application.yml\n\nspring:\n  datasource:\n    url: jdbc:mysql://localhost:3306/mydb\n    username: root\n    password: secret\n  jpa:\n    hibernate:\n      ddl-auto: update\n    show-sql: true\n\nserver:\n  port: 8080\n\napp:\n  name: My Awesome App\n  version: 1.0.0\n  email:\n    host: smtp.gmail.com\n    port: 587\n    username: user@example.com\n\nYAML BENEFITS:\n✓ Hierarchical structure (easier to read)\n✓ No repetition of prefixes\n✓ Supports lists and complex objects\n✓ Preferred for modern Spring Boot apps\n\nYou can use EITHER .properties OR .yml (not both!)"
            },
            {
              "type": "THEORY",
              "title": "@Value - Simple Property Injection",
              "content": "@Value injects single values from configuration:\n\napplication.yml:\napp:\n  name: My App\n  max-users: 100\n\nJava code:\n\n@Service\npublic class AppService {\n    \n    @Value(\"${app.name}\")\n    private String appName;\n    \n    @Value(\"${app.max-users}\")\n    private int maxUsers;\n    \n    @Value(\"${app.feature.enabled:false}\")  // Default value\n    private boolean featureEnabled;\n    \n    public void printConfig() {\n        System.out.println(\"App: \" + appName);\n        System.out.println(\"Max users: \" + maxUsers);\n    }\n}\n\nSYNTAX:\n@Value(\"${property.name}\") - Read from config\n@Value(\"${property.name:default}\") - With default value\n\nUSE @Value FOR:\n✓ Simple, individual properties\n✓ One or two values\n\nDON'T USE @Value FOR:\n✗ Complex, grouped configurations\n✗ Many related properties"
            },
            {
              "type": "THEORY",
              "title": "@ConfigurationProperties - Modern Best Practice (Spring Boot 3)",
              "content": "For complex configs, use @ConfigurationProperties with Records:\n\napplication.yml:\napp:\n  email:\n    host: smtp.gmail.com\n    port: 587\n    username: user@example.com\n    password: secret123\n  features:\n    signup-enabled: true\n    max-upload-size: 10485760\n\nJava Record (Java 17+):\n\n@ConfigurationProperties(prefix = \"app.email\")\npublic record EmailProperties(\n    String host,\n    int port,\n    String username,\n    String password\n) { }\n\nEnable in main class:\n\n@SpringBootApplication\n@ConfigurationPropertiesScan  // Scan for @ConfigurationProperties\npublic class MyApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(MyApplication.class, args);\n    }\n}\n\nUse in services:\n\n@Service\npublic class EmailService {\n    private final EmailProperties emailProps;\n    \n    public EmailService(EmailProperties emailProps) {\n        this.emailProps = emailProps;\n    }\n    \n    public void sendEmail(String to, String message) {\n        String host = emailProps.host();  // smtp.gmail.com\n        int port = emailProps.port();      // 587\n        // Send email...\n    }\n}"
            },
            {
              "type": "KEY_POINT",
              "title": "Why @ConfigurationProperties is Better Than @Value",
              "content": "@VALUE (Old Way):\n@Service\npublic class EmailService {\n    @Value(\"${app.email.host}\")\n    private String host;\n    \n    @Value(\"${app.email.port}\")\n    private int port;\n    \n    @Value(\"${app.email.username}\")\n    private String username;\n    \n    @Value(\"${app.email.password}\")\n    private String password;\n    \n    // 4 separate annotations, scattered!\n}\n\n@CONFIGURATIONPROPERTIES (Modern Way):\n@ConfigurationProperties(prefix = \"app.email\")\npublic record EmailProperties(\n    String host,\n    int port,\n    String username,\n    String password\n) { }\n\nBENEFITS:\n✓ TYPE-SAFE: Compile-time checking\n✓ GROUPED: All related properties together\n✓ IMMUTABLE: Records are immutable by default\n✓ VALIDATION: Can use @Validated annotations\n✓ AUTOCOMPLETE: IDE helps with property names\n✓ REUSABLE: Inject same config into multiple services"
            },
            {
              "type": "THEORY",
              "title": "Validation with @ConfigurationProperties",
              "content": "Add validation to configuration:\n\nimport jakarta.validation.constraints.*;\n\n@ConfigurationProperties(prefix = \"app.email\")\n@Validated  // Enable validation\npublic record EmailProperties(\n    @NotBlank(message = \"Email host is required\")\n    String host,\n    \n    @Min(value = 1, message = \"Port must be positive\")\n    @Max(value = 65535, message = \"Port must be valid\")\n    int port,\n    \n    @Email(message = \"Invalid email format\")\n    String username,\n    \n    @Size(min = 8, message = \"Password must be at least 8 characters\")\n    String password\n) { }\n\nIf configuration is invalid, Spring Boot FAILS TO START:\n- Shows clear error message\n- Prevents running with bad config\n- Catches errors early!"
            },
            {
              "type": "THEORY",
              "title": "Environment-Specific Configuration",
              "content": "Different configs for dev, test, production:\n\nFILE STRUCTURE:\nsrc/main/resources/\n  ├── application.yml              (default)\n  ├── application-dev.yml          (development)\n  ├── application-test.yml         (testing)\n  └── application-prod.yml         (production)\n\napplication.yml (default):\nspring:\n  profiles:\n    active: dev  # Default profile\n\napplication-dev.yml:\nspring:\n  datasource:\n    url: jdbc:mysql://localhost:3306/dev_db\nserver:\n  port: 8080\n\napplication-prod.yml:\nspring:\n  datasource:\n    url: jdbc:mysql://prod-server:3306/prod_db\nserver:\n  port: 80\n\nACTIVATE PROFILE:\n1. In application.yml: spring.profiles.active=prod\n2. Command line: java -jar app.jar --spring.profiles.active=prod\n3. Environment variable: SPRING_PROFILES_ACTIVE=prod\n\nSpring merges default + active profile configs!"
            },
            {
              "type": "THEORY",
              "title": "⚠️ Never Commit Secrets to Git!",
              "content": "❌ BAD - Secrets in application.yml:\napp:\n  database:\n    password: mySecretPassword123  # DON'T DO THIS!\n  api:\n    key: sk_live_abc123xyz  # SECURITY RISK!\n\n✓ GOOD - Use environment variables:\n\napplication.yml:\napp:\n  database:\n    password: ${DB_PASSWORD}  # Read from environment\n  api:\n    key: ${API_KEY}\n\nSet environment variables:\nexport DB_PASSWORD=mySecretPassword123\nexport API_KEY=sk_live_abc123xyz\n\nOR use application-local.yml (gitignored):\n\n.gitignore:\napplication-local.yml\n\nBEST PRACTICES:\n✓ Use environment variables for secrets\n✓ Use .env files (not committed to git)\n✓ Use secret management (AWS Secrets Manager, HashiCorp Vault)\n✓ Never commit passwords, API keys, tokens"
            },
            {
              "type": "THEORY",
              "title": "💻 Complete Configuration Example",
              "content": "```java\napplication.yml:\n\nspring:\n  application:\n    name: book-store-api\n  datasource:\n    url: jdbc:mysql://localhost:3306/bookstore\n    username: ${DB_USER:root}\n    password: ${DB_PASSWORD:password}\n  jpa:\n    hibernate:\n      ddl-auto: update\n    show-sql: true\n\nserver:\n  port: 8080\n\napp:\n  features:\n    signup-enabled: true\n    max-users: 1000\n  email:\n    host: smtp.gmail.com\n    port: 587\n    username: ${EMAIL_USER}\n    password: ${EMAIL_PASSWORD}\n\nConfiguration classes:\n\n@ConfigurationProperties(prefix = \"app.features\")\npublic record FeaturesConfig(\n    boolean signupEnabled,\n    int maxUsers\n) { }\n\n@ConfigurationProperties(prefix = \"app.email\")\n@Validated\npublic record EmailConfig(\n    @NotBlank String host,\n    @Min(1) @Max(65535) int port,\n    @NotBlank String username,\n    @NotBlank String password\n) { }\n\nMain application:\n\n@SpringBootApplication\n@ConfigurationPropertiesScan\npublic class BookStoreApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(BookStoreApplication.class, args);\n    }\n}\n\nUsing in service:\n\n@Service\npublic class UserService {\n    private final FeaturesConfig features;\n    \n    public UserService(FeaturesConfig features) {\n        this.features = features;\n    }\n    \n    public boolean canSignup() {\n        return features.signupEnabled();\n    }\n}\n```"
            },
            {
              "type": "KEY_POINT",
              "title": "⚠️ ddl-auto: update is NOT for Production! Use Flyway or Liquibase",
              "content": "ddl-auto OPTIONS:\n- create: DROP and recreate on startup (DESTROYS DATA!)\n- create-drop: Create on start, drop on shutdown\n- update: Update schema without deleting data\n- validate: Only check if schema matches entities\n- none: Do nothing\n\n❌ PROBLEMS WITH 'update':\n- Cannot remove columns (only adds)\n- Cannot rename columns\n- No rollback capability\n- No version history\n- Different results on different environments\n- Can cause data inconsistencies over time\n\n✓ PRODUCTION SOLUTION: Database Migration Tools\n\n1. FLYWAY (Recommended for simplicity):\n\nDependency:\n<dependency>\n    <groupId>org.flywaydb</groupId>\n    <artifactId>flyway-core</artifactId>\n</dependency>\n\nMigration file: src/main/resources/db/migration/V1__Create_users_table.sql\n\nCREATE TABLE users (\n    id BIGINT AUTO_INCREMENT PRIMARY KEY,\n    name VARCHAR(100) NOT NULL,\n    email VARCHAR(255) UNIQUE NOT NULL\n);\n\nMigration file: V2__Add_age_column.sql\n\nALTER TABLE users ADD COLUMN age INT;\n\n2. LIQUIBASE (More flexible, XML/YAML/JSON):\n\nDependency:\n<dependency>\n    <groupId>org.liquibase</groupId>\n    <artifactId>liquibase-core</artifactId>\n</dependency>\n\nBENEFITS OF MIGRATION TOOLS:\n✓ Version-controlled schema changes\n✓ Rollback support\n✓ Team collaboration (everyone runs same migrations)\n✓ Production-safe deployments\n✓ Audit trail of all changes\n\nPRODUCTION CONFIG:\nspring.jpa.hibernate.ddl-auto=validate  # Only validate, don't modify!\nspring.flyway.enabled=true  # Let Flyway handle schema changes"
            }
          ],
          "challenges": []
        },
        {
          "id": "epoch-7-lesson-6",
          "title": "Lesson 7.6: Exception Handling - Failing Gracefully",
          "moduleId": "module-08",
          "order": 6,
          "estimatedMinutes": 45,
          "difficulty": "intermediate",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: Ugly Error Messages",
              "content": "Without proper exception handling:\n\n@GetMapping(\"/users/{id}\")\npublic User getUser(@PathVariable Long id) {\n    User user = userRepository.findById(id).orElse(null);\n    return user;  // What if user is null?\n}\n\nWhen user doesn't exist:\n{\n  \"timestamp\": \"2025-01-15T10:30:00\",\n  \"status\": 500,\n  \"error\": \"Internal Server Error\",\n  \"trace\": \"java.lang.NullPointerException\\n\\tat...\"\n}\n\nPROBLEMS:\n❌ Exposes stack traces (security risk!)\n❌ Wrong status code (500 instead of 404)\n❌ Unhelpful message for clients\n❌ No consistent error format\n\nProfessional APIs need:\n✓ Clear, consistent error messages\n✓ Correct HTTP status codes\n✓ No sensitive data exposed\n✓ Structured JSON responses"
            },
            {
              "type": "KEY_POINT",
              "title": "Exception Handling is Like a Customer Service Desk",
              "content": "BAD CUSTOMER SERVICE (No Exception Handling):\nCustomer: \"I can't find product #999\"\nSystem: *CRASHES* *SHOWS INTERNAL ERROR LOGS*\nCustomer sees: Stack traces, database errors, system paths\n\nGOOD CUSTOMER SERVICE (Proper Exception Handling):\nCustomer: \"I can't find product #999\"\nService: \"Product #999 not found. Please check the ID or browse our catalog.\"\n- Clear message\n- Helpful guidance\n- No internal system details exposed\n\n@RestControllerAdvice = Customer Service Manager:\n- Intercepts all errors\n- Translates technical problems into user-friendly messages\n- Returns appropriate responses\n- Logs details for developers"
            },
            {
              "type": "THEORY",
              "title": "Custom Exceptions - Creating Meaningful Errors",
              "content": "Create custom exceptions for business logic:\n\npublic class ResourceNotFoundException extends RuntimeException {\n    public ResourceNotFoundException(String message) {\n        super(message);\n    }\n}\n\npublic class InvalidRequestException extends RuntimeException {\n    public InvalidRequestException(String message) {\n        super(message);\n    }\n}\n\nUse in controller:\n\n@GetMapping(\"/users/{id}\")\npublic User getUser(@PathVariable Long id) {\n    return userRepository.findById(id)\n        .orElseThrow(() -> new ResourceNotFoundException(\n            \"User not found with id: \" + id\n        ));\n}\n\nNow when user doesn't exist, throw ResourceNotFoundException\ninstead of returning null!"
            },
            {
              "type": "THEORY",
              "title": "@RestControllerAdvice - Global Exception Handler",
              "content": "Centralize ALL exception handling in one place:\n\n@RestControllerAdvice\npublic class GlobalExceptionHandler {\n    \n    // Handle ResourceNotFoundException\n    @ExceptionHandler(ResourceNotFoundException.class)\n    public ResponseEntity<ErrorResponse> handleNotFound(ResourceNotFoundException ex) {\n        ErrorResponse error = new ErrorResponse(\n            HttpStatus.NOT_FOUND.value(),\n            ex.getMessage(),\n            System.currentTimeMillis()\n        );\n        return ResponseEntity.status(HttpStatus.NOT_FOUND).body(error);\n    }\n    \n    // Handle InvalidRequestException\n    @ExceptionHandler(InvalidRequestException.class)\n    public ResponseEntity<ErrorResponse> handleBadRequest(InvalidRequestException ex) {\n        ErrorResponse error = new ErrorResponse(\n            HttpStatus.BAD_REQUEST.value(),\n            ex.getMessage(),\n            System.currentTimeMillis()\n        );\n        return ResponseEntity.badRequest().body(error);\n    }\n    \n    // Handle all other exceptions (fallback)\n    @ExceptionHandler(Exception.class)\n    public ResponseEntity<ErrorResponse> handleGeneric(Exception ex) {\n        // Log full error for developers\n        System.err.println(\"Unexpected error: \" + ex.getMessage());\n        \n        // Return safe message to client\n        ErrorResponse error = new ErrorResponse(\n            HttpStatus.INTERNAL_SERVER_ERROR.value(),\n            \"An unexpected error occurred. Please try again later.\",\n            System.currentTimeMillis()\n        );\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(error);\n    }\n}\n\n@RestControllerAdvice:\n- Applies to ALL @RestController classes\n- Catches exceptions from any controller\n- Returns consistent error format"
            },
            {
              "type": "THEORY",
              "title": "Error Response Object - Structured Errors",
              "content": "Create a standard error response format:\n\npublic class ErrorResponse {\n    private int status;\n    private String message;\n    private long timestamp;\n    \n    public ErrorResponse(int status, String message, long timestamp) {\n        this.status = status;\n        this.message = message;\n        this.timestamp = timestamp;\n    }\n    \n    // Getters and setters\n}\n\nNow ALL errors return this format:\n\n{\n  \"status\": 404,\n  \"message\": \"User not found with id: 999\",\n  \"timestamp\": 1705315800000\n}\n\nClients can reliably parse errors!"
            },
            {
              "type": "THEORY",
              "title": "Validation with @Valid and @Validated",
              "content": "Validate request bodies automatically:\n\nEntity with validation:\n\nimport jakarta.validation.constraints.*;\n\npublic class User {\n    @NotNull(message = \"ID is required\")\n    private Long id;\n    \n    @NotBlank(message = \"Name cannot be empty\")\n    @Size(min = 2, max = 100, message = \"Name must be 2-100 characters\")\n    private String name;\n    \n    @Email(message = \"Invalid email format\")\n    private String email;\n    \n    @Min(value = 18, message = \"Must be at least 18 years old\")\n    private int age;\n    \n    // Constructor, getters, setters\n}\n\nController with validation:\n\n@PostMapping(\"/users\")\npublic ResponseEntity<User> createUser(@Valid @RequestBody User user) {\n    // If validation fails, Spring throws MethodArgumentNotValidException\n    User saved = userService.save(user);\n    return ResponseEntity.status(HttpStatus.CREATED).body(saved);\n}\n\n@Valid triggers validation automatically!"
            },
            {
              "type": "THEORY",
              "title": "Handling Validation Errors",
              "content": "Catch validation exceptions in @RestControllerAdvice:\n\n@ExceptionHandler(MethodArgumentNotValidException.class)\npublic ResponseEntity<ValidationErrorResponse> handleValidation(\n        MethodArgumentNotValidException ex) {\n    \n    // Collect all validation errors\n    List<String> errors = ex.getBindingResult()\n        .getFieldErrors()\n        .stream()\n        .map(error -> error.getField() + \": \" + error.getDefaultMessage())\n        .toList();\n    \n    ValidationErrorResponse response = new ValidationErrorResponse(\n        HttpStatus.BAD_REQUEST.value(),\n        \"Validation failed\",\n        errors,\n        System.currentTimeMillis()\n    );\n    \n    return ResponseEntity.badRequest().body(response);\n}\n\nValidationErrorResponse class:\n\npublic class ValidationErrorResponse {\n    private int status;\n    private String message;\n    private List<String> errors;\n    private long timestamp;\n    \n    // Constructor, getters, setters\n}\n\nResponse when validation fails:\n\n{\n  \"status\": 400,\n  \"message\": \"Validation failed\",\n  \"errors\": [\n    \"name: Name cannot be empty\",\n    \"email: Invalid email format\",\n    \"age: Must be at least 18 years old\"\n  ],\n  \"timestamp\": 1705315800000\n}"
            },
            {
              "type": "KEY_POINT",
              "title": "Common Validation Annotations",
              "content": "Jakarta Validation (javax.validation → jakarta.validation in Spring Boot 3):\n\nNULL/NOT NULL:\n@NotNull - Value cannot be null\n@Null - Value must be null\n\nSTRINGS:\n@NotBlank - Not null, not empty, not whitespace\n@NotEmpty - Not null and not empty (but can be whitespace)\n@Size(min, max) - Length constraints\n@Pattern(regexp) - Must match regex\n\nNUMBERS:\n@Min(value) - Minimum value\n@Max(value) - Maximum value\n@Positive - Must be > 0\n@PositiveOrZero - Must be >= 0\n@Negative - Must be < 0\n@NegativeOrZero - Must be <= 0\n\nFORMAT:\n@Email - Valid email format\n@Past - Date in the past\n@Future - Date in the future\n\nExample:\n\npublic class Product {\n    @NotBlank\n    @Size(min = 3, max = 100)\n    private String name;\n    \n    @Positive\n    private double price;\n    \n    @Min(0)\n    @Max(10000)\n    private int stockQuantity;\n}"
            },
            {
              "type": "THEORY",
              "title": "⚠️ Security: Never Expose Stack Traces!",
              "content": "❌ BAD - Exposing internal details:\n\n@ExceptionHandler(Exception.class)\npublic ResponseEntity<String> handleError(Exception ex) {\n    return ResponseEntity.status(500)\n        .body(\"Error: \" + ex.getMessage() + \"\\n\" + \n              Arrays.toString(ex.getStackTrace()));\n}\n\nThis exposes:\n- Internal class names\n- File paths\n- Database structure\n- Library versions\n→ Helps attackers!\n\n✓ GOOD - Safe error handling:\n\n@ExceptionHandler(Exception.class)\npublic ResponseEntity<ErrorResponse> handleError(Exception ex) {\n    // Log full details for developers (server-side only)\n    logger.error(\"Unexpected error\", ex);\n    \n    // Return safe, generic message to client\n    ErrorResponse error = new ErrorResponse(\n        500,\n        \"An unexpected error occurred\",\n        System.currentTimeMillis()\n    );\n    return ResponseEntity.status(500).body(error);\n}\n\nBEST PRACTICES:\n✓ Log full errors server-side (for debugging)\n✓ Return generic messages to clients\n✓ Use error codes/IDs to correlate logs\n✓ Never expose paths, SQL, or stack traces"
            },
            {
              "type": "THEORY",
              "title": "💻 Complete Exception Handling System",
              "content": "```java\n1. Custom Exceptions:\n\npublic class UserNotFoundException extends RuntimeException {\n    public UserNotFoundException(Long id) {\n        super(\"User not found with id: \" + id);\n    }\n}\n\npublic class DuplicateEmailException extends RuntimeException {\n    public DuplicateEmailException(String email) {\n        super(\"Email already exists: \" + email);\n    }\n}\n\n2. Error Response Classes:\n\npublic record ErrorResponse(\n    int status,\n    String message,\n    long timestamp\n) { }\n\npublic record ValidationErrorResponse(\n    int status,\n    String message,\n    List<String> errors,\n    long timestamp\n) { }\n\n3. Global Exception Handler:\n\n@RestControllerAdvice\npublic class GlobalExceptionHandler {\n    \n    @ExceptionHandler(UserNotFoundException.class)\n    public ResponseEntity<ErrorResponse> handleUserNotFound(UserNotFoundException ex) {\n        return ResponseEntity.status(HttpStatus.NOT_FOUND)\n            .body(new ErrorResponse(404, ex.getMessage(), System.currentTimeMillis()));\n    }\n    \n    @ExceptionHandler(DuplicateEmailException.class)\n    public ResponseEntity<ErrorResponse> handleDuplicate(DuplicateEmailException ex) {\n        return ResponseEntity.status(HttpStatus.CONFLICT)\n            .body(new ErrorResponse(409, ex.getMessage(), System.currentTimeMillis()));\n    }\n    \n    @ExceptionHandler(MethodArgumentNotValidException.class)\n    public ResponseEntity<ValidationErrorResponse> handleValidation(\n            MethodArgumentNotValidException ex) {\n        List<String> errors = ex.getBindingResult().getFieldErrors()\n            .stream()\n            .map(err -> err.getField() + \": \" + err.getDefaultMessage())\n            .toList();\n        \n        return ResponseEntity.badRequest()\n            .body(new ValidationErrorResponse(400, \"Validation failed\", \n                  errors, System.currentTimeMillis()));\n    }\n}\n\n4. Controller Using Exceptions:\n\n@RestController\n@RequestMapping(\"/api/users\")\npublic class UserController {\n    private final UserService userService;\n    \n    public UserController(UserService userService) {\n        this.userService = userService;\n    }\n    \n    @GetMapping(\"/{id}\")\n    public User getUser(@PathVariable Long id) {\n        // Throws UserNotFoundException if not found\n        return userService.findById(id);\n    }\n    \n    @PostMapping\n    public User createUser(@Valid @RequestBody User user) {\n        // @Valid triggers validation\n        // Throws DuplicateEmailException if email exists\n        return userService.create(user);\n    }\n}\n```"
            }
          ],
          "challenges": []
        },
        {
          "id": "epoch-7-lesson-7",
          "title": "Lesson 7.7: Spring Security - Protecting Your API",
          "moduleId": "module-08",
          "order": 7,
          "estimatedMinutes": 50,
          "difficulty": "intermediate",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: Anyone Can Access Everything",
              "content": "Without security, your API is wide open:\n\n@GetMapping(\"/admin/users\")\npublic List<User> getAllUsers() {\n    return userRepository.findAll();\n}\n\n@DeleteMapping(\"/admin/users/{id}\")\npublic void deleteUser(@PathVariable Long id) {\n    userRepository.deleteById(id);\n}\n\nPROBLEMS:\n❌ No login required - anyone can access\n❌ No user identification - can't track who did what\n❌ No permissions - regular users can delete data\n❌ No protection - hackers can wreak havoc\n\nReal applications need:\n✓ AUTHENTICATION - Who are you? (Login)\n✓ AUTHORIZATION - What can you do? (Permissions)\n✓ Protection from attacks (CSRF, XSS, etc.)\n\nSolution: SPRING SECURITY"
            },
            {
              "type": "KEY_POINT",
              "title": "Spring Security is Like a Building with Security Guards",
              "content": "BUILDING WITHOUT SECURITY:\n- Anyone walks in through any door\n- Access CEO's office? Sure!\n- Delete company files? Go ahead!\n- No one knows who did what\n\nBUILDING WITH SECURITY:\n1. LOBBY (Public Area):\n   - Anyone can enter\n   - Read brochures, see directory\n   - = Public endpoints (/login, /register)\n\n2. BADGE CHECK (Authentication):\n   - Show your ID badge\n   - Verify you are who you claim\n   - = Username + Password\n\n3. ACCESS LEVELS (Authorization):\n   - Green badge: Employee areas only\n   - Blue badge: Manager areas\n   - Red badge: Executive areas\n   - = Roles: USER, MANAGER, ADMIN\n\n4. SECURITY LOG:\n   - Record who entered when\n   - Track actions taken\n   - = Audit logging\n\nSpring Security = The entire security system!"
            },
            {
              "type": "THEORY",
              "title": "Authentication vs Authorization",
              "content": "AUTHENTICATION: \"Who are you?\"\n- Verifying identity\n- Username + password\n- Login process\n- Result: User is identified\n\nExample:\nPOST /login\nBody: { \"username\": \"alice\", \"password\": \"secret123\" }\n→ Spring verifies credentials\n→ If valid, user is \"authenticated\"\n\nAUTHORIZATION: \"What can you do?\"\n- Checking permissions\n- Based on roles (USER, ADMIN, etc.)\n- Access control\n- Result: User can/cannot access resource\n\nExample:\nGET /admin/users (authenticated as USER role)\n→ Spring checks: Does USER role have permission?\n→ No! Return 403 Forbidden\n\nGET /admin/users (authenticated as ADMIN role)\n→ Spring checks: Does ADMIN role have permission?\n→ Yes! Return user list\n\nBOTH ARE NEEDED:\n1. First: Authenticate (prove who you are)\n2. Then: Authorize (check what you can do)"
            },
            {
              "type": "THEORY",
              "title": "Adding Spring Security to Your Project",
              "content": "Step 1: Add dependency to pom.xml:\n\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-security</artifactId>\n</dependency>\n\nThat's it! Spring Security is now active.\n\nDEFAULT BEHAVIOR (automatic):\n- ALL endpoints require authentication\n- Default user: 'user'\n- Random password: Printed in console on startup\n- Login form at /login\n\nConsole output:\nUsing generated security password: a1b2c3d4-e5f6-7890-abcd-ef1234567890\n\nNow every API call needs authentication!"
            },
            {
              "type": "THEORY",
              "title": "SecurityFilterChain - Configuring Security (Spring Security 6)",
              "content": "Create SecurityConfig class to customize security:\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n    \n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n            .authorizeHttpRequests(auth -> auth\n                .requestMatchers(\"/public/**\").permitAll()      // Anyone\n                .requestMatchers(\"/api/users/**\").hasRole(\"USER\")  // USER role\n                .requestMatchers(\"/api/admin/**\").hasRole(\"ADMIN\") // ADMIN role\n                .anyRequest().authenticated()  // All others need login\n            )\n            .formLogin(Customizer.withDefaults())  // Enable login form\n            .httpBasic(Customizer.withDefaults()); // Enable basic auth\n        \n        return http.build();\n    }\n}\n\nBREAKDOWN:\n- authorizeHttpRequests: Define access rules\n- requestMatchers: URL patterns to match\n- permitAll(): No authentication needed\n- hasRole(\"USER\"): Requires USER role\n- authenticated(): Any logged-in user\n- formLogin: Enable HTML login form\n- httpBasic: Enable HTTP Basic Auth (for APIs)"
            },
            {
              "type": "THEORY",
              "title": "In-Memory Users - Simple Authentication",
              "content": "For development/testing, store users in memory:\n\n@Bean\npublic UserDetailsService userDetailsService() {\n    UserDetails user = User.builder()\n        .username(\"alice\")\n        .password(passwordEncoder().encode(\"password123\"))\n        .roles(\"USER\")\n        .build();\n    \n    UserDetails admin = User.builder()\n        .username(\"admin\")\n        .password(passwordEncoder().encode(\"admin123\"))\n        .roles(\"ADMIN\")\n        .build();\n    \n    return new InMemoryUserDetailsManager(user, admin);\n}\n\n@Bean\npublic PasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder();  // Secure password hashing\n}\n\nNow you have:\n- Username: alice, Password: password123, Role: USER\n- Username: admin, Password: admin123, Role: ADMIN\n\nNEVER store plain passwords!\nBCryptPasswordEncoder hashes them securely."
            },
            {
              "type": "THEORY",
              "title": "Database-Based Authentication",
              "content": "For production, load users from database:\n\n1. User Entity:\n\n@Entity\n@Table(name = \"users\")\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    \n    @Column(unique = true, nullable = false)\n    private String username;\n    \n    @Column(nullable = false)\n    private String password;  // Hashed!\n    \n    private String role;  // USER, ADMIN, etc.\n    \n    // Getters, setters\n}\n\n2. Custom UserDetailsService:\n\n@Service\npublic class CustomUserDetailsService implements UserDetailsService {\n    \n    @Autowired\n    private UserRepository userRepository;\n    \n    @Override\n    public UserDetails loadUserByUsername(String username) \n            throws UsernameNotFoundException {\n        User user = userRepository.findByUsername(username)\n            .orElseThrow(() -> new UsernameNotFoundException(\n                \"User not found: \" + username));\n        \n        return org.springframework.security.core.userdetails.User\n            .builder()\n            .username(user.getUsername())\n            .password(user.getPassword())  // Already hashed\n            .roles(user.getRole())\n            .build();\n    }\n}\n\nSpring automatically calls loadUserByUsername() during login!"
            },
            {
              "type": "KEY_POINT",
              "title": "Method-Level Security with @PreAuthorize",
              "content": "Secure individual methods:\n\nEnable in SecurityConfig:\n\n@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity  // Enable method-level security\npublic class SecurityConfig {\n    // ...\n}\n\nUse in controllers/services:\n\n@RestController\n@RequestMapping(\"/api/users\")\npublic class UserController {\n    \n    @GetMapping\n    @PreAuthorize(\"hasRole('USER')\")  // Requires USER role\n    public List<User> getAllUsers() {\n        return userService.findAll();\n    }\n    \n    @DeleteMapping(\"/{id}\")\n    @PreAuthorize(\"hasRole('ADMIN')\")  // Requires ADMIN role\n    public void deleteUser(@PathVariable Long id) {\n        userService.delete(id);\n    }\n    \n    @GetMapping(\"/me\")\n    @PreAuthorize(\"isAuthenticated()\")  // Any logged-in user\n    public User getCurrentUser() {\n        return userService.getCurrentUser();\n    }\n}\n\nEXPRESSIONS:\n- hasRole('ROLE'): Has specific role\n- hasAnyRole('ROLE1', 'ROLE2'): Has any of these roles\n- isAuthenticated(): Logged in\n- permitAll(): Anyone can access"
            },
            {
              "type": "THEORY",
              "title": "Getting the Current User",
              "content": "Access authenticated user in controllers:\n\nMETHOD 1: Principal parameter\n\n@GetMapping(\"/profile\")\npublic String getProfile(Principal principal) {\n    String username = principal.getName();\n    return \"Logged in as: \" + username;\n}\n\nMETHOD 2: Authentication parameter\n\n@GetMapping(\"/profile\")\npublic String getProfile(Authentication authentication) {\n    String username = authentication.getName();\n    Collection<? extends GrantedAuthority> authorities = \n        authentication.getAuthorities();\n    return \"User: \" + username + \", Roles: \" + authorities;\n}\n\nMETHOD 3: SecurityContextHolder (anywhere in code)\n\nAuthentication auth = SecurityContextHolder.getContext().getAuthentication();\nString username = auth.getName();\nboolean isAdmin = auth.getAuthorities().stream()\n    .anyMatch(a -> a.getAuthority().equals(\"ROLE_ADMIN\"));\n\nSpring injects the current authenticated user automatically!"
            },
            {
              "type": "THEORY",
              "title": "⚠️ Password Security - Never Store Plain Passwords!",
              "content": "❌ TERRIBLE - Plain passwords:\n\nusers table:\n| id | username | password    |\n|----|----------|-------------|\n| 1  | alice    | password123 |  ← ANYONE CAN READ THIS!\n| 2  | bob      | secret456   |  ← DATABASE BREACH = DISASTER\n\n✓ CORRECT - Hashed passwords:\n\nusers table:\n| id | username | password                                                   |\n|----|----------|---------------------------------------------------------|\n| 1  | alice    | $2a$10$abcd1234...xyz789 |  ← Hashed, can't reverse\n| 2  | bob      | $2a$10$wxyz9876...abc123 |  ← Even if stolen, useless\n\nUse BCryptPasswordEncoder:\n\n@Service\npublic class UserService {\n    @Autowired\n    private PasswordEncoder passwordEncoder;\n    \n    public User registerUser(String username, String plainPassword) {\n        User user = new User();\n        user.setUsername(username);\n        \n        // Hash password before saving\n        String hashedPassword = passwordEncoder.encode(plainPassword);\n        user.setPassword(hashedPassword);\n        \n        return userRepository.save(user);\n    }\n}\n\nBCrypt:\n- One-way hash (can't reverse)\n- Salted (same password = different hash)\n- Slow on purpose (prevents brute force)\n- Industry standard"
            },
            {
              "type": "THEORY",
              "title": "💻 Complete Security Configuration",
              "content": "```java\nSecurityConfig.java:\n\n@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity\npublic class SecurityConfig {\n    \n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) \n            throws Exception {\n        http\n            .csrf(csrf -> csrf.disable())  // Disable for REST APIs\n            .authorizeHttpRequests(auth -> auth\n                // Public endpoints\n                .requestMatchers(\"/api/auth/**\").permitAll()\n                .requestMatchers(\"/api/public/**\").permitAll()\n                \n                // User endpoints\n                .requestMatchers(\"/api/users/**\").hasAnyRole(\"USER\", \"ADMIN\")\n                \n                // Admin endpoints\n                .requestMatchers(\"/api/admin/**\").hasRole(\"ADMIN\")\n                \n                // All other requests need authentication\n                .anyRequest().authenticated()\n            )\n            .httpBasic(Customizer.withDefaults())  // Enable HTTP Basic\n            .sessionManagement(session -> session\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            );  // Stateless for REST APIs\n        \n        return http.build();\n    }\n    \n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n\nThis configuration:\n✓ Allows public access to /api/auth/** and /api/public/**\n✓ Requires USER or ADMIN role for /api/users/**\n✓ Requires ADMIN role for /api/admin/**\n✓ Uses BCrypt for password hashing\n✓ Stateless sessions (REST API pattern)\n```"
            },
            {
              "type": "KEY_POINT",
              "title": "⚠️ HTTP Basic Auth vs JWT - Production Considerations",
              "content": "HTTP BASIC AUTH (Used in this lesson):\n✓ Simple to implement and understand\n✓ Good for learning and internal tools\n✓ Works with testing tools (Postman, curl)\n\n❌ SECURITY LIMITATIONS:\n- Credentials sent with EVERY request (Base64 encoded, NOT encrypted!)\n- Must ALWAYS use HTTPS in production - without it, credentials are exposed!\n- No built-in token expiration\n- Hard to implement features like 'remember me' or token refresh\n\nPRODUCTION STANDARD - JWT (JSON Web Tokens):\n✓ Token-based: Login once, get token, use token for subsequent requests\n✓ Stateless: Server doesn't store sessions\n✓ Expiration: Tokens auto-expire (e.g., after 1 hour)\n✓ Claims: Can embed user info in token (roles, permissions)\n✓ Industry standard for REST APIs and microservices\n\nOAUTH2 / OpenID Connect:\n✓ For 'Login with Google/GitHub' features\n✓ Delegated authentication to trusted providers\n✓ Required for third-party API access\n\nRECOMMENDATION:\nUse HTTP Basic for:\n- Learning projects\n- Internal admin tools (behind VPN)\n- Simple prototypes\n\nUse JWT for:\n- Production APIs\n- Mobile apps\n- Single Page Applications (React, Angular)\n- Microservices\n\nSpring Security supports all options - we use Basic Auth here for simplicity, but migrate to JWT for production!"
            }
          ],
          "challenges": []
        }
      ]
    },
    {
      "id": "module-09",
      "title": "Full-Stack Development",
      "description": "Connect frontend to backend, implement complete features, and deploy to production.",
      "difficulty": "beginner",
      "estimatedHours": 4.9,
      "lessons": [
        {
          "id": "epoch-8-lesson-1",
          "title": "Lesson 8.1: Connecting Frontend to Your API",
          "moduleId": "module-09",
          "order": 1,
          "estimatedMinutes": 30,
          "difficulty": "advanced",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: Users Need Interfaces",
              "content": "Your Spring Boot API is amazing:\n- GET /api/users returns user data\n- POST /api/users creates users\n\nBut normal users don't type URLs and read JSON!\n\nThey need:\n- Buttons to click\n- Forms to fill out\n- Visual displays\n\nThis is where FRONTEND comes in:\n- HTML (structure)\n- CSS (styling)\n- JavaScript (interactivity)"
            },
            {
              "type": "KEY_POINT",
              "title": "Frontend is the Storefront, Backend is the Warehouse",
              "content": "BACKEND (Your Java API):\n= Warehouse\n- Stores all products (data)\n- Processes orders (business logic)\n- Customers never see it directly\n\nFRONTEND (HTML/JS/React):\n= Storefront\n- Beautiful display\n- Shopping cart UI\n- Checkout forms\n- What customers interact with\n\nThey communicate:\nCustomer clicks \"Buy\" button (frontend)\n→ Sends request to API (backend)\n→ Backend processes order\n→ Sends confirmation (frontend displays it)"
            },
            {
              "type": "THEORY",
              "title": "Fetching Data from JavaScript",
              "content": "Your API endpoint:\nGET /api/users/1 → {\"name\": \"Alice\", \"age\": 20}\n\nJavaScript code to call it:\n\nfetch('http://localhost:8080/api/users/1')\n  .then(response => response.json())\n  .then(user => {\n    console.log(user.name);  // \"Alice\"\n    document.getElementById('username').textContent = user.name;\n  });\n\nThis:\n1. Sends HTTP GET request to your API\n2. Receives JSON response\n3. Displays it on the webpage\n\nFull-stack = Backend (Java) + Frontend (HTML/JS) working together!"
            }
          ],
          "challenges": []
        },
        {
          "id": "epoch-8-lesson-2",
          "title": "Lesson 8.2: Full-Stack Feature - End to End",
          "moduleId": "module-09",
          "order": 2,
          "estimatedMinutes": 50,
          "difficulty": "advanced",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Complete Picture: Database → Backend → Frontend",
              "content": "Let's build a complete \"User List\" feature:\n\n1. DATABASE (MySQL/PostgreSQL):\nCREATE TABLE users (\n    id BIGINT PRIMARY KEY AUTO_INCREMENT,\n    name VARCHAR(100) NOT NULL,\n    email VARCHAR(255) UNIQUE,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n2. BACKEND (Spring Boot):\nEntity, Repository, Service, Controller\n\n3. FRONTEND (HTML + JavaScript):\nDisplay users, add new user form"
            },
            {
              "type": "THEORY",
              "title": "Step 1: Backend Entity and Repository",
              "content": "@Entity\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    \n    private String name;\n    private String email;\n    \n    @CreationTimestamp\n    private LocalDateTime createdAt;\n    \n    // Getters and setters\n}\n\npublic interface UserRepository extends JpaRepository<User, Long> {\n    // Spring generates all methods\n}"
            },
            {
              "type": "THEORY",
              "title": "Step 2: Backend Service and Controller",
              "content": "@Service\npublic class UserService {\n    @Autowired\n    private UserRepository userRepository;\n    \n    public List<User> getAllUsers() {\n        return userRepository.findAll();\n    }\n    \n    public User createUser(User user) {\n        return userRepository.save(user);\n    }\n}\n\n@RestController\n@RequestMapping(\"/api/users\")\n@CrossOrigin(origins = \"*\")  // Allow frontend to call API\npublic class UserController {\n    @Autowired\n    private UserService userService;\n    \n    @GetMapping\n    public List<User> getAll() {\n        return userService.getAllUsers();\n    }\n    \n    @PostMapping\n    public User create(@RequestBody User user) {\n        return userService.createUser(user);\n    }\n}\n\nNow: http://localhost:8080/api/users returns JSON"
            },
            {
              "type": "THEORY",
              "title": "Step 3: Frontend HTML",
              "content": "<!DOCTYPE html>\n<html>\n<head>\n    <title>User Manager</title>\n</head>\n<body>\n    <h1>Users</h1>\n    \n    <!-- Display users -->\n    <div id=\"userList\"></div>\n    \n    <!-- Add user form -->\n    <h2>Add User</h2>\n    <form id=\"addUserForm\">\n        <input type=\"text\" id=\"name\" placeholder=\"Name\" required>\n        <input type=\"email\" id=\"email\" placeholder=\"Email\" required>\n        <button type=\"submit\">Add User</button>\n    </form>\n    \n    <script src=\"app.js\"></script>\n</body>\n</html>"
            },
            {
              "type": "THEORY",
              "title": "Step 4: Frontend JavaScript",
              "content": "const API_URL = 'http://localhost:8080/api/users';\n\n// Load users when page loads\nwindow.onload = function() {\n    loadUsers();\n};\n\n// Fetch and display users\nfunction loadUsers() {\n    fetch(API_URL)\n        .then(response => response.json())\n        .then(users => {\n            const userList = document.getElementById('userList');\n            userList.innerHTML = '';\n            \n            users.forEach(user => {\n                const div = document.createElement('div');\n                div.textContent = `${user.name} (${user.email})`;\n                userList.appendChild(div);\n            });\n        })\n        .catch(error => console.error('Error:', error));\n}\n\n// Add new user\ndocument.getElementById('addUserForm').onsubmit = function(e) {\n    e.preventDefault();\n    \n    const user = {\n        name: document.getElementById('name').value,\n        email: document.getElementById('email').value\n    };\n    \n    fetch(API_URL, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(user)\n    })\n    .then(response => response.json())\n    .then(() => {\n        loadUsers();  // Refresh list\n        e.target.reset();  // Clear form\n    });\n};"
            },
            {
              "type": "KEY_POINT",
              "title": "The Full Flow",
              "content": "USER ACTION:\n1. User fills form, clicks \"Add User\"\n\nFRONTEND:\n2. JavaScript captures form data\n3. fetch() sends POST to http://localhost:8080/api/users\n4. Sends JSON: {\"name\":\"Alice\",\"email\":\"alice@email.com\"}\n\nBACKEND:\n5. @PostMapping receives request\n6. @RequestBody converts JSON to User object\n7. UserService.createUser() called\n8. UserRepository.save() inserts to database\n\nDATABASE:\n9. INSERT INTO users...\n10. Returns generated ID\n\nBACKEND RESPONSE:\n11. Return User object as JSON\n12. Status: 200 OK\n\nFRONTEND:\n13. Receives response\n14. Calls loadUsers() to refresh list\n15. GET /api/users\n16. Displays updated user list\n\nCOMPLETE CYCLE!"
            }
          ],
          "challenges": []
        },
        {
          "id": "epoch-8-lesson-3",
          "title": "Lesson 8.3: REST API Design - Professional Standards",
          "moduleId": "module-09",
          "order": 3,
          "estimatedMinutes": 45,
          "difficulty": "advanced",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "What Makes a Good REST API?",
              "content": "REST = Representational State Transfer\n\nA well-designed API should be:\n\n✓ INTUITIVE - Easy to understand and use\n✓ CONSISTENT - Follows predictable patterns\n✓ DISCOVERABLE - Clear what each endpoint does\n✓ SCALABLE - Can handle growth\n✓ WELL-DOCUMENTED - Clear examples and responses\n\nBAD API:\nPOST /createNewUser\nGET /getUserById?id=123\nPOST /deleteUser\n\nGOOD API:\nPOST /api/users\nGET /api/users/123\nDELETE /api/users/123\n\nThe difference? HTTP methods + resource-based URLs!"
            },
            {
              "type": "THEORY",
              "title": "Resource Naming Conventions (2024-2025 Standards)",
              "content": "RULE 1: Use PLURAL NOUNS for collections:\n✓ /api/users (not /api/user)\n✓ /api/orders (not /api/order)\n✓ /api/products (not /api/product)\n\nRULE 2: Use KEBAB-CASE for multi-word names:\n✓ /api/shipping-addresses\n✓ /api/order-items\n❌ /api/shippingAddresses (camelCase)\n❌ /api/shipping_addresses (snake_case)\n\nRULE 3: NO VERBS in URLs:\n❌ /api/createUser\n❌ /api/getUsers\n❌ /api/deleteOrder\n\nWhy? The HTTP METHOD is the verb!\n✓ POST /api/users (create)\n✓ GET /api/users (retrieve)\n✓ DELETE /api/orders/123 (delete)\n\nRULE 4: Nesting to ONE level for relationships:\n✓ /api/users/123/orders (user's orders)\n✓ /api/orders/456/items (order's items)\n❌ /api/users/123/orders/456/items/789/details (too deep!)"
            },
            {
              "type": "KEY_POINT",
              "title": "HTTP Methods are Like Restaurant Actions",
              "content": "Imagine managing a restaurant menu database:\n\n📖 GET /api/menu-items\nAction: Browse the menu\nLike: Customer looking at menu\nChanges nothing, just reads\n\n➕ POST /api/menu-items\nAction: Add new dish to menu\nLike: Chef creates new recipe\nServer generates ID, returns location\n\n🔄 PUT /api/menu-items/123\nAction: Replace entire menu item\nLike: Completely redesign a dish\nMust send ALL fields (name, price, ingredients)\n\n✏️ PATCH /api/menu-items/123\nAction: Update only price\nLike: Just change the price tag\nSend only changed fields: {\"price\": 15.99}\n\n🗑️ DELETE /api/menu-items/123\nAction: Remove from menu\nLike: Discontinue a dish\nItem gone, can't be retrieved"
            },
            {
              "type": "THEORY",
              "title": "The 5 Essential HTTP Methods",
              "content": "GET - Retrieve data:\n@GetMapping(\"/api/products\")\npublic List<Product> getAll() { }\n\n@GetMapping(\"/api/products/{id}\")\npublic Product getById(@PathVariable Long id) { }\n\nPOST - Create new resource:\n@PostMapping(\"/api/products\")\npublic ResponseEntity<Product> create(@RequestBody Product product) {\n    Product saved = productService.save(product);\n    return ResponseEntity\n        .created(URI.create(\"/api/products/\" + saved.getId()))\n        .body(saved);\n}\n\nPUT - Replace entire resource:\n@PutMapping(\"/api/products/{id}\")\npublic Product replace(@PathVariable Long id, @RequestBody Product product) {\n    return productService.replace(id, product);\n}\n\nPATCH - Partial update:\n@PatchMapping(\"/api/products/{id}\")\npublic Product update(@PathVariable Long id, @RequestBody Map<String, Object> updates) {\n    return productService.partialUpdate(id, updates);\n}\n\nDELETE - Remove resource:\n@DeleteMapping(\"/api/products/{id}\")\npublic ResponseEntity<Void> delete(@PathVariable Long id) {\n    productService.delete(id);\n    return ResponseEntity.noContent().build();\n}"
            },
            {
              "type": "THEORY",
              "title": "HTTP Status Codes - The Response Language",
              "content": "2xx - SUCCESS:\n200 OK - Request succeeded (GET, PUT, PATCH)\n201 Created - Resource created (POST)\n204 No Content - Success but no data to return (DELETE)\n\n4xx - CLIENT ERRORS (User's fault):\n400 Bad Request - Invalid data sent\n401 Unauthorized - Not authenticated (no login)\n403 Forbidden - Authenticated but not authorized\n404 Not Found - Resource doesn't exist\n409 Conflict - Duplicate or conflicting data\n422 Unprocessable Entity - Validation failed\n429 Too Many Requests - Rate limit exceeded\n\n5xx - SERVER ERRORS (Our fault):\n500 Internal Server Error - Something broke\n503 Service Unavailable - Server down/overloaded\n\nExample in Spring Boot:\n\n@PostMapping(\"/api/users\")\npublic ResponseEntity<User> create(@Valid @RequestBody User user) {\n    if (userService.existsByEmail(user.getEmail())) {\n        return ResponseEntity.status(HttpStatus.CONFLICT)\n            .body(null);  // 409 Conflict\n    }\n    User saved = userService.save(user);\n    return ResponseEntity\n        .status(HttpStatus.CREATED)  // 201 Created\n        .body(saved);\n}"
            },
            {
              "type": "KEY_POINT",
              "title": "Consistent Response Structure",
              "content": "Always return JSON in a predictable format:\n\nSUCCESS Response:\n{\n  \"data\": {\n    \"id\": 123,\n    \"name\": \"Product Name\",\n    \"price\": 29.99\n  },\n  \"timestamp\": \"2025-01-15T10:30:00Z\"\n}\n\nERROR Response:\n{\n  \"error\": {\n    \"code\": 404,\n    \"message\": \"Product not found\",\n    \"details\": \"No product exists with ID 123\"\n  },\n  \"timestamp\": \"2025-01-15T10:30:00Z\",\n  \"path\": \"/api/products/123\"\n}\n\nSpring Boot Implementation:\n\npublic record ApiResponse<T>(T data, LocalDateTime timestamp) {\n    public ApiResponse(T data) {\n        this(data, LocalDateTime.now());\n    }\n}\n\n@GetMapping(\"/api/products/{id}\")\npublic ResponseEntity<ApiResponse<Product>> getProduct(@PathVariable Long id) {\n    Product product = productService.findById(id);\n    return ResponseEntity.ok(new ApiResponse<>(product));\n}"
            },
            {
              "type": "THEORY",
              "title": "Pagination for Large Collections",
              "content": "DON'T return thousands of items at once!\n\nBAD:\nGET /api/products\nReturns: 50,000 products (crashes browser)\n\nGOOD:\nGET /api/products?page=0&size=20\nReturns: First 20 products + metadata\n\nResponse format:\n{\n  \"content\": [\n    {\"id\": 1, \"name\": \"Product 1\"},\n    {\"id\": 2, \"name\": \"Product 2\"}\n  ],\n  \"page\": 0,\n  \"size\": 20,\n  \"totalElements\": 500,\n  \"totalPages\": 25\n}\n\nSpring Data JPA makes this easy:\n\n@GetMapping(\"/api/products\")\npublic Page<Product> getAll(\n        @RequestParam(defaultValue = \"0\") int page,\n        @RequestParam(defaultValue = \"20\") int size) {\n    Pageable pageable = PageRequest.of(page, size);\n    return productRepository.findAll(pageable);\n}\n\nFILTERING:\nGET /api/products?category=electronics&minPrice=100\n\n@GetMapping(\"/api/products\")\npublic List<Product> search(\n        @RequestParam(required = false) String category,\n        @RequestParam(required = false) Double minPrice) {\n    return productService.search(category, minPrice);\n}"
            },
            {
              "type": "THEORY",
              "title": "API Versioning",
              "content": "APIs evolve. Don't break existing clients!\n\nVERSIONING STRATEGIES:\n\n1. URL Path (Most common):\n/api/v1/users\n/api/v2/users\n\n@RestController\n@RequestMapping(\"/api/v1/users\")\npublic class UserControllerV1 { }\n\n@RestController\n@RequestMapping(\"/api/v2/users\")\npublic class UserControllerV2 { }\n\n2. Header-based:\nGET /api/users\nHeader: Accept: application/vnd.myapi.v1+json\n\nWhen to version:\n✓ Breaking changes (removed fields)\n✓ Changed response structure\n✓ Different authentication method\n\nDON'T version for:\n✓ Bug fixes\n✓ Adding optional fields\n✓ Performance improvements"
            },
            {
              "type": "THEORY",
              "title": "⚠️ Common REST API Mistakes to Avoid",
              "content": "❌ MISTAKE 1: Verbs in URLs\nPOST /api/createUser\nFIX: POST /api/users\n\n❌ MISTAKE 2: Wrong HTTP methods\nGET /api/users/delete/123\nFIX: DELETE /api/users/123\n\n❌ MISTAKE 3: Returning wrong status codes\nreturn ResponseEntity.ok(null);  // 200 when nothing found\nFIX: return ResponseEntity.notFound().build();  // 404\n\n❌ MISTAKE 4: Exposing database structure\n/api/users?query=SELECT * FROM users\nFIX: /api/users?role=admin&status=active\n\n❌ MISTAKE 5: No rate limiting\nAnyone can call your API 1000000 times/second\nFIX: Implement rate limiting (429 status code)\n\n❌ MISTAKE 6: Returning passwords or sensitive data\n{\"id\": 1, \"name\": \"Alice\", \"password\": \"secret123\"}\nFIX: Use @JsonIgnore or DTOs to exclude sensitive fields"
            },
            {
              "type": "THEORY",
              "title": "💻 Complete REST Controller with Best Practices",
              "content": "```java\n@RestController\n@RequestMapping(\"/api/v1/products\")\n@Validated\npublic class ProductController {\n    private final ProductService productService;\n    \n    public ProductController(ProductService productService) {\n        this.productService = productService;\n    }\n    \n    // GET all (with pagination)\n    @GetMapping\n    public ResponseEntity<Page<Product>> getAll(\n            @RequestParam(defaultValue = \"0\") int page,\n            @RequestParam(defaultValue = \"20\") int size) {\n        Pageable pageable = PageRequest.of(page, size);\n        Page<Product> products = productService.findAll(pageable);\n        return ResponseEntity.ok(products);  // 200 OK\n    }\n    \n    // GET one\n    @GetMapping(\"/{id}\")\n    public ResponseEntity<Product> getById(@PathVariable Long id) {\n        return productService.findById(id)\n            .map(ResponseEntity::ok)  // 200 OK\n            .orElse(ResponseEntity.notFound().build());  // 404 Not Found\n    }\n    \n    // POST (create)\n    @PostMapping\n    public ResponseEntity<Product> create(\n            @Valid @RequestBody Product product) {\n        Product saved = productService.save(product);\n        URI location = URI.create(\"/api/v1/products/\" + saved.getId());\n        return ResponseEntity.created(location).body(saved);  // 201 Created\n    }\n    \n    // PUT (replace)\n    @PutMapping(\"/{id}\")\n    public ResponseEntity<Product> replace(\n            @PathVariable Long id,\n            @Valid @RequestBody Product product) {\n        if (!productService.exists(id)) {\n            return ResponseEntity.notFound().build();  // 404\n        }\n        Product updated = productService.replace(id, product);\n        return ResponseEntity.ok(updated);  // 200 OK\n    }\n    \n    // PATCH (partial update)\n    @PatchMapping(\"/{id}\")\n    public ResponseEntity<Product> update(\n            @PathVariable Long id,\n            @RequestBody Map<String, Object> updates) {\n        return productService.partialUpdate(id, updates)\n            .map(ResponseEntity::ok)  // 200 OK\n            .orElse(ResponseEntity.notFound().build());  // 404\n    }\n    \n    // DELETE\n    @DeleteMapping(\"/{id}\")\n    public ResponseEntity<Void> delete(@PathVariable Long id) {\n        if (!productService.exists(id)) {\n            return ResponseEntity.notFound().build();  // 404\n        }\n        productService.delete(id);\n        return ResponseEntity.noContent().build();  // 204 No Content\n    }\n}\n\nThis controller demonstrates:\n✓ Correct HTTP methods\n✓ Proper status codes\n✓ Resource-based URLs (no verbs)\n✓ Pagination support\n✓ Validation with @Valid\n✓ Constructor injection\n✓ API versioning in path\n```"
            }
          ],
          "challenges": []
        },
        {
          "id": "epoch-8-lesson-4",
          "title": "Lesson 8.4: Error Handling - From Database to UI",
          "moduleId": "module-09",
          "order": 4,
          "estimatedMinutes": 50,
          "difficulty": "advanced",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Full-Stack Error Journey",
              "content": "Errors can occur at ANY layer:\n\nDATABASE:\n- Connection timeout\n- Constraint violation (duplicate email)\n- Transaction rollback\n\nBACKEND (Spring Boot):\n- Validation error (@NotBlank, @Email)\n- Business logic error (insufficient funds)\n- Resource not found (user ID doesn't exist)\n- Authentication/authorization failure\n\nNETWORK:\n- 500 Internal Server Error\n- 404 Not Found\n- Timeout\n\nFRONTEND (JavaScript):\n- Network failure (no internet)\n- JSON parsing error\n- Display error to user\n\nGOAL: Catch errors everywhere, provide clear feedback!"
            },
            {
              "type": "KEY_POINT",
              "title": "Error Handling is Like a Hospital Emergency Response",
              "content": "PATIENT EMERGENCY (Error occurs):\n\n1. FIRST RESPONDERS (Try-Catch at source):\n   Paramedics identify the problem immediately\n   Like: Validation catches bad input right away\n\n2. EMERGENCY ROOM (Backend exception handler):\n   Doctors diagnose and treat the condition\n   Like: @RestControllerAdvice catches all exceptions\n   Returns: Structured diagnosis (error code + message)\n\n3. FAMILY NOTIFICATION (Frontend UI):\n   Family gets clear, understandable information\n   Like: User sees \"Email already exists\"\n   NOT: \"SQLException: Duplicate key violation on idx_email\"\n\n4. MEDICAL RECORDS (Logging):\n   Everything documented for future analysis\n   Like: Server logs stack traces for debugging\n   User NEVER sees stack traces (security risk!)"
            },
            {
              "type": "THEORY",
              "title": "Backend: RFC 7807 Problem Details (Spring Boot 3+)",
              "content": "Spring Framework 6 introduced ProblemDetail (RFC 7807 standard):\n\nStandard error response format:\n{\n  \"type\": \"https://api.example.com/errors/not-found\",\n  \"title\": \"Resource Not Found\",\n  \"status\": 404,\n  \"detail\": \"User with ID 123 does not exist\",\n  \"instance\": \"/api/users/123\",\n  \"timestamp\": \"2025-01-15T10:30:00Z\"\n}\n\nImplementation:\n\n@RestControllerAdvice\npublic class GlobalExceptionHandler {\n    \n    @ExceptionHandler(ResourceNotFoundException.class)\n    public ProblemDetail handleNotFound(ResourceNotFoundException ex,\n                                         HttpServletRequest request) {\n        ProblemDetail problem = ProblemDetail.forStatusAndDetail(\n            HttpStatus.NOT_FOUND,\n            ex.getMessage()\n        );\n        problem.setType(URI.create(\"https://api.example.com/errors/not-found\"));\n        problem.setTitle(\"Resource Not Found\");\n        problem.setProperty(\"timestamp\", Instant.now());\n        return problem;\n    }\n    \n    @ExceptionHandler(MethodArgumentNotValidException.class)\n    public ProblemDetail handleValidation(\n            MethodArgumentNotValidException ex) {\n        ProblemDetail problem = ProblemDetail.forStatusAndDetail(\n            HttpStatus.BAD_REQUEST,\n            \"Validation failed\"\n        );\n        problem.setTitle(\"Invalid Input\");\n        \n        // Extract validation errors\n        Map<String, String> errors = new HashMap<>();\n        ex.getBindingResult().getFieldErrors().forEach(error -> {\n            errors.put(error.getField(), error.getDefaultMessage());\n        });\n        problem.setProperty(\"errors\", errors);\n        return problem;\n    }\n}"
            },
            {
              "type": "THEORY",
              "title": "Custom Business Exceptions",
              "content": "Create meaningful exception classes:\n\n// Base exception\npublic class BusinessException extends RuntimeException {\n    private final String errorCode;\n    \n    public BusinessException(String message, String errorCode) {\n        super(message);\n        this.errorCode = errorCode;\n    }\n    \n    public String getErrorCode() {\n        return errorCode;\n    }\n}\n\n// Specific exceptions\npublic class ResourceNotFoundException extends BusinessException {\n    public ResourceNotFoundException(String resource, Long id) {\n        super(resource + \" with ID \" + id + \" not found\", \"RESOURCE_NOT_FOUND\");\n    }\n}\n\npublic class DuplicateResourceException extends BusinessException {\n    public DuplicateResourceException(String message) {\n        super(message, \"DUPLICATE_RESOURCE\");\n    }\n}\n\npublic class InsufficientFundsException extends BusinessException {\n    public InsufficientFundsException(double available, double required) {\n        super(\"Insufficient funds. Available: \" + available + \n              \", Required: \" + required, \"INSUFFICIENT_FUNDS\");\n    }\n}\n\nUsage in service:\n\n@Service\npublic class UserService {\n    \n    public User findById(Long id) {\n        return userRepository.findById(id)\n            .orElseThrow(() -> new ResourceNotFoundException(\"User\", id));\n    }\n    \n    public User create(User user) {\n        if (userRepository.existsByEmail(user.getEmail())) {\n            throw new DuplicateResourceException(\n                \"Email \" + user.getEmail() + \" is already registered\"\n            );\n        }\n        return userRepository.save(user);\n    }\n}"
            },
            {
              "type": "KEY_POINT",
              "title": "Security: Never Expose Stack Traces!",
              "content": "❌ BAD - Exposes internal details:\n{\n  \"error\": \"java.sql.SQLException: Duplicate entry 'alice@email.com'\",\n  \"stackTrace\": [\n    \"at com.example.UserRepository.save(UserRepository.java:42)\",\n    \"at com.example.UserService.create(UserService.java:28)\",\n    ...\n  ]\n}\n\nSECURITY RISKS:\n- Reveals database structure\n- Shows internal file paths\n- Exposes technology stack\n- Helps attackers understand your system\n\n✓ GOOD - User-friendly message:\n{\n  \"status\": 409,\n  \"title\": \"Duplicate Resource\",\n  \"detail\": \"This email address is already registered\",\n  \"errorCode\": \"DUPLICATE_RESOURCE\",\n  \"timestamp\": \"2025-01-15T10:30:00Z\"\n}\n\nMeanwhile, on the SERVER:\nLOG: Full stack trace for developers\nLOG: Request details, user ID, timestamp\nLOG: SQL query that failed\n\nImplementation:\n\n@RestControllerAdvice\npublic class GlobalExceptionHandler {\n    \n    private static final Logger logger = \n        LoggerFactory.getLogger(GlobalExceptionHandler.class);\n    \n    @ExceptionHandler(Exception.class)\n    public ProblemDetail handleGenericException(\n            Exception ex, HttpServletRequest request) {\n        \n        // LOG everything for developers\n        logger.error(\"Unexpected error at {}: {}\", \n                    request.getRequestURI(), ex.getMessage(), ex);\n        \n        // RETURN safe message to user\n        ProblemDetail problem = ProblemDetail.forStatusAndDetail(\n            HttpStatus.INTERNAL_SERVER_ERROR,\n            \"An unexpected error occurred. Please try again later.\"\n        );\n        problem.setTitle(\"Internal Server Error\");\n        \n        // Include error ID for support team\n        String errorId = UUID.randomUUID().toString();\n        problem.setProperty(\"errorId\", errorId);\n        logger.error(\"Error ID: {}\", errorId);\n        \n        return problem;\n    }\n}"
            },
            {
              "type": "THEORY",
              "title": "Frontend: Handling Errors in JavaScript",
              "content": "MODERN APPROACH - async/await with try-catch:\n\nasync function createUser(userData) {\n    try {\n        const response = await fetch('http://localhost:8080/api/users', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(userData)\n        });\n        \n        // Check HTTP status\n        if (!response.ok) {\n            // Parse error response\n            const error = await response.json();\n            \n            // Handle different error types\n            if (response.status === 409) {\n                displayError('Email already exists. Please use a different email.');\n            } else if (response.status === 400) {\n                displayValidationErrors(error.errors);\n            } else if (response.status === 500) {\n                displayError('Server error. Please try again later.');\n            } else {\n                displayError(error.detail || 'An error occurred');\n            }\n            return null;\n        }\n        \n        // Success\n        const user = await response.json();\n        displaySuccess('User created successfully!');\n        return user;\n        \n    } catch (error) {\n        // Network error (no response from server)\n        if (error.name === 'TypeError' && error.message.includes('fetch')) {\n            displayError('Cannot connect to server. Check your internet connection.');\n        } else {\n            displayError('An unexpected error occurred: ' + error.message);\n        }\n        console.error('Error creating user:', error);\n        return null;\n    }\n}"
            },
            {
              "type": "THEORY",
              "title": "Displaying Errors to Users",
              "content": "Create user-friendly error displays:\n\nHTML:\n<div id=\"errorContainer\" class=\"error-message\" style=\"display: none;\">\n    <span id=\"errorText\"></span>\n    <button onclick=\"closeError()\">×</button>\n</div>\n\n<div id=\"successContainer\" class=\"success-message\" style=\"display: none;\">\n    <span id=\"successText\"></span>\n</div>\n\nCSS:\n.error-message {\n    background-color: #f8d7da;\n    color: #721c24;\n    padding: 12px;\n    border: 1px solid #f5c6cb;\n    border-radius: 4px;\n    margin: 10px 0;\n}\n\n.success-message {\n    background-color: #d4edda;\n    color: #155724;\n    padding: 12px;\n    border: 1px solid #c3e6cb;\n    border-radius: 4px;\n    margin: 10px 0;\n}\n\nJavaScript:\nfunction displayError(message) {\n    const errorContainer = document.getElementById('errorContainer');\n    const errorText = document.getElementById('errorText');\n    errorText.textContent = message;\n    errorContainer.style.display = 'block';\n    \n    // Auto-hide after 5 seconds\n    setTimeout(() => {\n        errorContainer.style.display = 'none';\n    }, 5000);\n}\n\nfunction displaySuccess(message) {\n    const successContainer = document.getElementById('successContainer');\n    const successText = document.getElementById('successText');\n    successText.textContent = message;\n    successContainer.style.display = 'block';\n    \n    setTimeout(() => {\n        successContainer.style.display = 'none';\n    }, 3000);\n}\n\nfunction displayValidationErrors(errors) {\n    const messages = Object.entries(errors)\n        .map(([field, message]) => `${field}: ${message}`)\n        .join('\\n');\n    displayError(messages);\n}"
            },
            {
              "type": "THEORY",
              "title": "💻 Complete Full-Stack Error Flow",
              "content": "```java\nSCENARIO: User tries to register with existing email\n\n1. FRONTEND sends request:\nPOST /api/users\n{\n  \"name\": \"Bob\",\n  \"email\": \"alice@email.com\"  // Already exists!\n}\n\n2. BACKEND - Service layer:\n@Service\npublic class UserService {\n    public User create(User user) {\n        if (userRepository.existsByEmail(user.getEmail())) {\n            throw new DuplicateResourceException(\n                \"Email already registered\"\n            );\n        }\n        return userRepository.save(user);\n    }\n}\n\n3. BACKEND - Exception handler catches it:\n@RestControllerAdvice\npublic class GlobalExceptionHandler {\n    @ExceptionHandler(DuplicateResourceException.class)\n    public ProblemDetail handleDuplicate(DuplicateResourceException ex) {\n        ProblemDetail problem = ProblemDetail.forStatusAndDetail(\n            HttpStatus.CONFLICT,  // 409\n            ex.getMessage()\n        );\n        problem.setProperty(\"errorCode\", ex.getErrorCode());\n        return problem;\n    }\n}\n\n4. RESPONSE sent to frontend:\nHTTP/1.1 409 Conflict\nContent-Type: application/problem+json\n{\n  \"status\": 409,\n  \"detail\": \"Email already registered\",\n  \"errorCode\": \"DUPLICATE_RESOURCE\"\n}\n\n5. FRONTEND handles error:\nif (response.status === 409) {\n    displayError('This email is already registered. Please login instead.');\n}\n\n6. USER sees:\n[Error Message Box]\nThis email is already registered. Please login instead.\n[×]\n\nCOMPLETE JOURNEY - Error caught and handled at every layer!\n```"
            },
            {
              "type": "THEORY",
              "title": "⚠️ Common Error Handling Mistakes",
              "content": "❌ MISTAKE 1: Catching and ignoring exceptions\ntry {\n    userService.create(user);\n} catch (Exception e) {\n    // Nothing here - ERROR VANISHES!\n}\n\n❌ MISTAKE 2: Generic error messages\ndisplayError(\"Error occurred\");  // What error? How to fix?\n\n✓ FIX: Be specific\ndisplayError(\"Email already exists. Please use a different email.\");\n\n❌ MISTAKE 3: Not validating on both sides\n// Only frontend validation - can be bypassed!\n// Only backend validation - bad UX (slow feedback)\n\n✓ FIX: Validate on BOTH frontend and backend\n\n❌ MISTAKE 4: Returning 200 OK with error\nreturn ResponseEntity.ok(Map.of(\"error\", \"User not found\"));\n\n✓ FIX: Use proper status codes\nreturn ResponseEntity.status(HttpStatus.NOT_FOUND)\n    .body(problemDetail);\n\n❌ MISTAKE 5: Not logging errors\n// Error happens, no log, no way to debug\n\n✓ FIX: Always log exceptions\nlogger.error(\"Failed to create user: {}\", ex.getMessage(), ex);"
            }
          ],
          "challenges": []
        },
        {
          "id": "epoch-8-lesson-5",
          "title": "Lesson 8.5: Deployment - From Laptop to Production",
          "moduleId": "module-09",
          "order": 5,
          "estimatedMinutes": 55,
          "difficulty": "advanced",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Journey from Development to Production",
              "content": "Your application works on your laptop. Great!\nBut how do users actually use it?\n\nTHE DEPLOYMENT PIPELINE:\n\n1. DEVELOPMENT (Your laptop):\n   - Run: ./mvnw spring-boot:run\n   - Database: localhost:5432\n   - Hot reload enabled\n   - Debug mode on\n\n2. BUILD (Create executable):\n   - Package as JAR file\n   - All dependencies included\n   - Single file to deploy\n\n3. TEST ENVIRONMENT (Pre-production):\n   - Test database\n   - Similar to production\n   - Catch bugs before users see them\n\n4. PRODUCTION (The real thing):\n   - Real database with real data\n   - Real users\n   - Must be reliable, secure, fast\n   - Logging and monitoring essential\n\nGOAL: Make deployment smooth, repeatable, and safe!"
            },
            {
              "type": "KEY_POINT",
              "title": "Deployment is Like Opening a Restaurant",
              "content": "DEVELOPMENT (Test kitchen at home):\nYou're experimenting with recipes in your home kitchen\nLike: Running on localhost, making changes\n\nBUILD (Prepare for opening):\nPackage all your recipes, ingredients, equipment\nLike: mvn package creates myapp.jar\n\nTEST ENVIRONMENT (Soft opening):\nInvite friends and family to test the restaurant\nLike: Deploy to staging server, run tests\n\nPRODUCTION (Grand opening):\nReal customers, real money, real reviews\nLike: Deploy to production server, monitor everything\n\nCONFIGURATION:\nHome kitchen uses different equipment than restaurant\nLike: Dev uses localhost, prod uses real database URL\nSolution: Environment variables (swap out settings)"
            },
            {
              "type": "THEORY",
              "title": "Building a Production JAR",
              "content": "Spring Boot creates a 'fat JAR' - everything in one file:\n\nBuild with Maven:\n./mvnw clean package\n\nThis creates:\ntarget/myapp-0.0.1-SNAPSHOT.jar\n\nRun the JAR:\njava -jar target/myapp-0.0.1-SNAPSHOT.jar\n\nWhat's inside the JAR?\n- Your compiled code (.class files)\n- All dependencies (Spring, database drivers, etc.)\n- Embedded web server (Tomcat)\n- Configuration files (application.yml)\n\nRESULT: One file that runs anywhere with Java installed!\n\nSkip tests during build (faster, but risky):\n./mvnw clean package -DskipTests\n\nBuild with specific profile:\n./mvnw clean package -Pprod\n\nRename JAR to something simpler:\nIn pom.xml:\n<build>\n    <finalName>myapp</finalName>\n</build>\n\nNow creates: target/myapp.jar"
            },
            {
              "type": "THEORY",
              "title": "Environment-Specific Configuration",
              "content": "DON'T hardcode production values!\n\nBAD:\nspring.datasource.url=jdbc:postgresql://prod-server:5432/db\nspring.datasource.password=supersecret123\n\nGOOD: Use Spring Profiles\n\napplication.yml (default/shared config):\nspring:\n  application:\n    name: myapp\n  jpa:\n    hibernate:\n      ddl-auto: validate  # Safe default\n\napplication-dev.yml (development):\nspring:\n  datasource:\n    url: jdbc:postgresql://localhost:5432/myapp_dev\n    username: dev_user\n    password: dev_password\n  jpa:\n    hibernate:\n      ddl-auto: create-drop  # Recreate DB each time\n    show-sql: true  # Show all SQL queries\n\napplication-prod.yml (production):\nspring:\n  datasource:\n    url: ${DATABASE_URL}  # From environment variable!\n    username: ${DATABASE_USERNAME}\n    password: ${DATABASE_PASSWORD}\n  jpa:\n    hibernate:\n      ddl-auto: validate  # NEVER recreate production DB!\n    show-sql: false  # Don't log SQL (performance)\n\nActivate profile when running:\njava -jar myapp.jar --spring.profiles.active=prod\n\nOr set environment variable:\nexport SPRING_PROFILES_ACTIVE=prod\njava -jar myapp.jar"
            },
            {
              "type": "KEY_POINT",
              "title": "Environment Variables for Secrets",
              "content": "NEVER commit secrets to Git!\n\n❌ BAD - Hardcoded in application.yml:\nspring.datasource.password=mysecretpassword\njwt.secret=my-super-secret-key-12345\n\n✓ GOOD - Environment variables:\nspring.datasource.password=${DATABASE_PASSWORD}\njwt.secret=${JWT_SECRET}\n\nSet on server:\nexport DATABASE_PASSWORD='actual-secret-password'\nexport JWT_SECRET='actual-jwt-secret-key'\njava -jar myapp.jar\n\nOr pass directly:\njava -jar myapp.jar \\\n  --spring.datasource.password=secret123 \\\n  --jwt.secret=my-jwt-key\n\nSpring Boot automatically converts:\nDATABASE_URL → spring.datasource.url\nDATABASE_USERNAME → spring.datasource.username\nDATABASE_PASSWORD → spring.datasource.password\n\nWhy environment variables?\n✓ Different values per environment (dev, test, prod)\n✓ Secrets not in Git (security)\n✓ Easy to change without rebuilding\n✓ Cloud platforms (AWS, Azure, Heroku) support them"
            },
            {
              "type": "THEORY",
              "title": "Docker Deployment (Modern Standard)",
              "content": "Docker packages your app + Java + OS into one container\n\nBenefits:\n✓ Runs the same everywhere (your laptop, AWS, Azure)\n✓ No 'it works on my machine' problems\n✓ Easy to scale (run 10 copies)\n✓ Isolated from other apps\n\nSimple Dockerfile:"
            },
            {
              "type": "THEORY",
              "title": "Use official Java image",
              "content": "FROM eclipse-temurin:17-jre"
            },
            {
              "type": "THEORY",
              "title": "Set working directory",
              "content": "WORKDIR /app"
            },
            {
              "type": "THEORY",
              "title": "Copy JAR file",
              "content": "COPY target/myapp.jar app.jar"
            },
            {
              "type": "THEORY",
              "title": "Expose port",
              "content": "EXPOSE 8080"
            },
            {
              "type": "THEORY",
              "title": "Run application",
              "content": "ENTRYPOINT [\"java\", \"-jar\", \"app.jar\"]\n\nBuild Docker image:\ndocker build -t myapp:1.0 .\n\nRun container:\ndocker run -p 8080:8080 \\\n  -e DATABASE_URL=jdbc:postgresql://db:5432/myapp \\\n  -e DATABASE_PASSWORD=secret \\\n  myapp:1.0\n\nAccess app: http://localhost:8080"
            },
            {
              "type": "THEORY",
              "title": "Multi-Stage Docker Build (Best Practice 2024-2025)",
              "content": "Build and run in same Dockerfile - smaller final image:"
            },
            {
              "type": "THEORY",
              "title": "Stage 1: Build",
              "content": "FROM eclipse-temurin:17-jdk as builder\nWORKDIR /app\nCOPY pom.xml .\nCOPY src ./src\nRUN ./mvnw clean package -DskipTests"
            },
            {
              "type": "THEORY",
              "title": "Stage 2: Run",
              "content": "FROM eclipse-temurin:17-jre\nWORKDIR /app\nCOPY --from=builder /app/target/myapp.jar app.jar\nEXPOSE 8080\nENTRYPOINT [\"java\", \"-jar\", \"app.jar\"]\n\nWhy multi-stage?\n✓ Smaller image (no Maven, no source code)\n✓ Faster downloads\n✓ More secure (fewer tools = less attack surface)\n\nImage sizes:\n- Single stage with JDK: ~500 MB\n- Multi-stage with JRE: ~250 MB\n\nLayer optimization (Spring Boot 2.3+):\nSeparate layers for dependencies vs your code:"
            },
            {
              "type": "THEORY",
              "title": "Extract layers",
              "content": "FROM eclipse-temurin:17-jdk as builder\nWORKDIR /app\nCOPY target/myapp.jar app.jar\nRUN java -Djarmode=layertools -jar app.jar extract"
            },
            {
              "type": "THEORY",
              "title": "Run with layers",
              "content": "FROM eclipse-temurin:17-jre\nWORKDIR /app\nCOPY --from=builder /app/dependencies/ ./\nCOPY --from=builder /app/spring-boot-loader/ ./\nCOPY --from=builder /app/snapshot-dependencies/ ./\nCOPY --from=builder /app/application/ ./\nENTRYPOINT [\"java\", \"org.springframework.boot.loader.JarLauncher\"]\n\nBenefit: Dependencies cached, only your code layer changes!"
            },
            {
              "type": "THEORY",
              "title": "Production-Ready Features",
              "content": "Add Spring Boot Actuator for monitoring:\n\npom.xml:\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-actuator</artifactId>\n</dependency>\n\napplication-prod.yml:\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: health,info,metrics\n  endpoint:\n    health:\n      show-details: when-authorized\n\nEndpoints:\nGET /actuator/health - Is app running?\n{\n  \"status\": \"UP\",\n  \"components\": {\n    \"db\": {\"status\": \"UP\"},\n    \"diskSpace\": {\"status\": \"UP\"}\n  }\n}\n\nGET /actuator/info - App information\nGET /actuator/metrics - Performance metrics\n\nCustom health check:\n@Component\npublic class DatabaseHealthIndicator implements HealthIndicator {\n    private final UserRepository userRepository;\n    \n    public DatabaseHealthIndicator(UserRepository userRepository) {\n        this.userRepository = userRepository;\n    }\n    \n    @Override\n    public Health health() {\n        try {\n            long count = userRepository.count();\n            return Health.up()\n                .withDetail(\"database\", \"reachable\")\n                .withDetail(\"userCount\", count)\n                .build();\n        } catch (Exception e) {\n            return Health.down()\n                .withDetail(\"error\", e.getMessage())\n                .build();\n        }\n    }\n}"
            },
            {
              "type": "THEORY",
              "title": "⚠️ Production Security Checklist",
              "content": "Before deploying to production:\n\n✓ HTTPS only (no HTTP)\nserver.ssl.enabled=true\n\n✓ Hide actuator endpoints from public\nmanagement.endpoints.web.exposure.include=health"
            },
            {
              "type": "THEORY",
              "title": "Or require authentication",
              "content": "✓ Disable debug mode\nlogging.level.root=INFO  # Not DEBUG\n\n✓ Don't show SQL queries\nspring.jpa.show-sql=false\n\n✓ Validate database schema only\nspring.jpa.hibernate.ddl-auto=validate  # NOT create-drop!\n\n✓ Use environment variables for secrets"
            },
            {
              "type": "THEORY",
              "title": "Never hardcode passwords",
              "content": "✓ Enable CORS only for your frontend\n@CrossOrigin(origins = \"https://myapp.com\")"
            },
            {
              "type": "THEORY",
              "title": "NOT @CrossOrigin(\"*\")",
              "content": "✓ Set reasonable rate limits"
            },
            {
              "type": "THEORY",
              "title": "Prevent abuse",
              "content": "✓ Log to files, not just console\nlogging.file.name=/var/log/myapp.log\n\n✓ Set up monitoring and alerts"
            },
            {
              "type": "THEORY",
              "title": "💻 Complete Production Deployment",
              "content": "```java\nSTEP 1: Build the application\n./mvnw clean package\n\nSTEP 2: Create Dockerfile\nFROM eclipse-temurin:17-jre\nWORKDIR /app\nCOPY target/myapp.jar app.jar\nEXPOSE 8080\nHEALTHCHECK --interval=30s --timeout=3s \\\n  CMD curl -f http://localhost:8080/actuator/health || exit 1\nENTRYPOINT [\"java\", \"-jar\", \"app.jar\"]\n\nSTEP 3: Create docker-compose.yml\nversion: '3.8'\nservices:\n  db:\n    image: postgres:15\n    environment:\n      POSTGRES_DB: myapp\n      POSTGRES_USER: appuser\n      POSTGRES_PASSWORD: ${DB_PASSWORD}\n    volumes:\n      - postgres-data:/var/lib/postgresql/data\n    \n  app:\n    build: .\n    ports:\n      - \"8080:8080\"\n    environment:\n      SPRING_PROFILES_ACTIVE: prod\n      DATABASE_URL: jdbc:postgresql://db:5432/myapp\n      DATABASE_USERNAME: appuser\n      DATABASE_PASSWORD: ${DB_PASSWORD}\n    depends_on:\n      - db\n    restart: unless-stopped\n\nvolumes:\n  postgres-data:\n\nSTEP 4: Create .env file (DON'T commit this!)\nDB_PASSWORD=your-secure-password-here\n\nSTEP 5: Deploy\ndocker-compose up -d\n\nSTEP 6: Check health\ncurl http://localhost:8080/actuator/health\n\nSTEP 7: View logs\ndocker-compose logs -f app\n\nSTEP 8: Update application\n./mvnw clean package\ndocker-compose build app\ndocker-compose up -d app\n```"
            },
            {
              "type": "THEORY",
              "title": "Logging in Production",
              "content": "Configure proper logging:\n\napplication-prod.yml:\nlogging:\n  level:\n    root: INFO\n    com.myapp: INFO\n    org.springframework.web: WARN\n  file:\n    name: /var/log/myapp/application.log\n  pattern:\n    console: \"%d{yyyy-MM-dd HH:mm:ss} - %msg%n\"\n    file: \"%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n\"\n\nUse structured logging:\n\n@RestController\npublic class UserController {\n    private static final Logger logger = \n        LoggerFactory.getLogger(UserController.class);\n    \n    @PostMapping(\"/api/users\")\n    public User create(@RequestBody User user) {\n        logger.info(\"Creating user: email={}\", user.getEmail());\n        try {\n            User saved = userService.create(user);\n            logger.info(\"User created: id={}, email={}\", \n                       saved.getId(), saved.getEmail());\n            return saved;\n        } catch (DuplicateResourceException e) {\n            logger.warn(\"Duplicate user creation attempt: email={}\", \n                       user.getEmail());\n            throw e;\n        } catch (Exception e) {\n            logger.error(\"Failed to create user: email={}\", \n                        user.getEmail(), e);\n            throw e;\n        }\n    }\n}\n\nNEVER log sensitive data:\n❌ logger.info(\"User: {}\", user.getPassword());\n❌ logger.info(\"Credit card: {}\", creditCard);\n✓ logger.info(\"User authenticated: id={}\", user.getId());"
            }
          ],
          "challenges": []
        },
        {
          "id": "epoch-8-lesson-6",
          "title": "Lesson 8.6: Complete Feature - Database to UI",
          "moduleId": "module-09",
          "order": 6,
          "estimatedMinutes": 60,
          "difficulty": "advanced",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Full-Stack Feature Journey",
              "content": "Let's build a complete feature: USER TASK MANAGEMENT\n\nFeature: Users can create, view, update, and delete tasks\n\nTHE COMPLETE STACK:\n\n1. DATABASE (PostgreSQL):\n   - tasks table (id, title, description, completed, user_id)\n\n2. BACKEND (Spring Boot):\n   - Task entity (Java class mapped to database)\n   - TaskRepository (database access)\n   - TaskService (business logic)\n   - TaskController (REST API endpoints)\n\n3. API LAYER (REST):\n   - GET /api/tasks - List all tasks\n   - POST /api/tasks - Create task\n   - PUT /api/tasks/{id} - Update task\n   - DELETE /api/tasks/{id} - Delete task\n\n4. FRONTEND (HTML + JavaScript):\n   - Task list display\n   - Create task form\n   - Mark complete button\n   - Delete button\n\nWe'll build this step-by-step, bottom-up!"
            },
            {
              "type": "KEY_POINT",
              "title": "Building a Feature is Like Building a Highway System",
              "content": "DATABASE (The land/foundation):\nWhere everything is stored permanently\nLike: The actual roads built into the ground\n\nENTITY (The blueprint):\nDefines what a 'Task' looks like in Java\nLike: Highway specifications (lanes, width, materials)\n\nREPOSITORY (The construction crew):\nBuilds, reads, updates, destroys database records\nLike: Workers who build and maintain the roads\n\nSERVICE (Traffic management):\nBusiness rules (e.g., can't delete someone else's task)\nLike: Traffic laws and management systems\n\nCONTROLLER (Toll booths/entrances):\nWhere requests come in and responses go out\nLike: Highway entrances/exits with toll systems\n\nFRONTEND (The cars and drivers):\nWhat users actually see and interact with\nLike: People driving cars on the highway\n\nAll parts must work together!"
            },
            {
              "type": "THEORY",
              "title": "Step 1: Database Schema",
              "content": "Create the tasks table:\n\nCREATE TABLE tasks (\n    id BIGSERIAL PRIMARY KEY,\n    title VARCHAR(255) NOT NULL,\n    description TEXT,\n    completed BOOLEAN DEFAULT FALSE,\n    user_id BIGINT NOT NULL,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE\n);\n\nKey decisions:\n- BIGSERIAL: Auto-incrementing ID\n- VARCHAR(255): Short text for title\n- TEXT: Longer text for description\n- BOOLEAN: True/false for completed status\n- TIMESTAMP: When created/updated\n- FOREIGN KEY: Links to users table\n- ON DELETE CASCADE: Delete tasks when user deleted\n\nSpring Boot can create this automatically:\n\napplication.yml:\nspring:\n  jpa:\n    hibernate:\n      ddl-auto: update  # Creates/updates tables automatically"
            },
            {
              "type": "THEORY",
              "title": "Step 2: Create the Entity",
              "content": "Map Java class to database table:\n\n@Entity\n@Table(name = \"tasks\")\npublic class Task {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    \n    @Column(nullable = false)\n    private String title;\n    \n    @Column(columnDefinition = \"TEXT\")\n    private String description;\n    \n    @Column(nullable = false)\n    private Boolean completed = false;\n    \n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"user_id\", nullable = false)\n    private User user;\n    \n    @CreationTimestamp\n    private LocalDateTime createdAt;\n    \n    @UpdateTimestamp\n    private LocalDateTime updatedAt;\n    \n    // Constructors\n    public Task() {}\n    \n    public Task(String title, String description, User user) {\n        this.title = title;\n        this.description = description;\n        this.user = user;\n        this.completed = false;\n    }\n    \n    // Getters and Setters\n    public Long getId() { return id; }\n    public void setId(Long id) { this.id = id; }\n    \n    public String getTitle() { return title; }\n    public void setTitle(String title) { this.title = title; }\n    \n    public String getDescription() { return description; }\n    public void setDescription(String description) { \n        this.description = description; \n    }\n    \n    public Boolean getCompleted() { return completed; }\n    public void setCompleted(Boolean completed) { \n        this.completed = completed; \n    }\n    \n    public User getUser() { return user; }\n    public void setUser(User user) { this.user = user; }\n    \n    public LocalDateTime getCreatedAt() { return createdAt; }\n    public LocalDateTime getUpdatedAt() { return updatedAt; }\n}"
            },
            {
              "type": "THEORY",
              "title": "Step 3: Create the Repository",
              "content": "Interface for database access:\n\n@Repository\npublic interface TaskRepository extends JpaRepository<Task, Long> {\n    \n    // Find all tasks for a specific user\n    List<Task> findByUserId(Long userId);\n    \n    // Find only completed tasks\n    List<Task> findByUserIdAndCompleted(Long userId, Boolean completed);\n    \n    // Find tasks with title containing text (case-insensitive)\n    List<Task> findByUserIdAndTitleContainingIgnoreCase(\n        Long userId, String searchTerm);\n    \n    // Count incomplete tasks\n    Long countByUserIdAndCompletedFalse(Long userId);\n    \n    // Check if task belongs to user (for authorization)\n    boolean existsByIdAndUserId(Long taskId, Long userId);\n}\n\nSpring Data JPA generates SQL automatically!\n\nfindByUserId(1L) becomes:\nSELECT * FROM tasks WHERE user_id = 1;\n\nfindByUserIdAndCompleted(1L, true) becomes:\nSELECT * FROM tasks WHERE user_id = 1 AND completed = true;"
            },
            {
              "type": "THEORY",
              "title": "Step 4: Create the Service",
              "content": "Business logic layer:\n\n@Service\npublic class TaskService {\n    private final TaskRepository taskRepository;\n    \n    public TaskService(TaskRepository taskRepository) {\n        this.taskRepository = taskRepository;\n    }\n    \n    public List<Task> getAllTasksForUser(Long userId) {\n        return taskRepository.findByUserId(userId);\n    }\n    \n    public Task createTask(Task task, Long userId) {\n        // Validation\n        if (task.getTitle() == null || task.getTitle().isBlank()) {\n            throw new IllegalArgumentException(\"Title cannot be empty\");\n        }\n        \n        // Set user (security: use authenticated user, not from request)\n        User user = new User();\n        user.setId(userId);\n        task.setUser(user);\n        \n        return taskRepository.save(task);\n    }\n    \n    public Task updateTask(Long taskId, Task updates, Long userId) {\n        Task existing = taskRepository.findById(taskId)\n            .orElseThrow(() -> new ResourceNotFoundException(\n                \"Task\", taskId));\n        \n        // Security check: can only update your own tasks\n        if (!existing.getUser().getId().equals(userId)) {\n            throw new ForbiddenException(\n                \"Cannot update another user's task\");\n        }\n        \n        // Update fields\n        if (updates.getTitle() != null) {\n            existing.setTitle(updates.getTitle());\n        }\n        if (updates.getDescription() != null) {\n            existing.setDescription(updates.getDescription());\n        }\n        if (updates.getCompleted() != null) {\n            existing.setCompleted(updates.getCompleted());\n        }\n        \n        return taskRepository.save(existing);\n    }\n    \n    public void deleteTask(Long taskId, Long userId) {\n        Task task = taskRepository.findById(taskId)\n            .orElseThrow(() -> new ResourceNotFoundException(\n                \"Task\", taskId));\n        \n        // Security check\n        if (!task.getUser().getId().equals(userId)) {\n            throw new ForbiddenException(\n                \"Cannot delete another user's task\");\n        }\n        \n        taskRepository.delete(task);\n    }\n}"
            },
            {
              "type": "THEORY",
              "title": "Step 5: Create the Controller",
              "content": "REST API endpoints:\n\n@RestController\n@RequestMapping(\"/api/tasks\")\n@CrossOrigin(origins = \"http://localhost:3000\")\npublic class TaskController {\n    private final TaskService taskService;\n    \n    public TaskController(TaskService taskService) {\n        this.taskService = taskService;\n    }\n    \n    // GET /api/tasks - Get all tasks for current user\n    @GetMapping\n    public ResponseEntity<List<Task>> getAllTasks(\n            @AuthenticationPrincipal UserDetails userDetails) {\n        Long userId = getCurrentUserId(userDetails);\n        List<Task> tasks = taskService.getAllTasksForUser(userId);\n        return ResponseEntity.ok(tasks);\n    }\n    \n    // POST /api/tasks - Create new task\n    @PostMapping\n    public ResponseEntity<Task> createTask(\n            @Valid @RequestBody TaskRequest request,\n            @AuthenticationPrincipal UserDetails userDetails) {\n        Long userId = getCurrentUserId(userDetails);\n        Task task = new Task(request.getTitle(), \n                            request.getDescription(), null);\n        Task created = taskService.createTask(task, userId);\n        return ResponseEntity\n            .status(HttpStatus.CREATED)\n            .body(created);\n    }\n    \n    // PUT /api/tasks/{id} - Update task\n    @PutMapping(\"/{id}\")\n    public ResponseEntity<Task> updateTask(\n            @PathVariable Long id,\n            @RequestBody TaskRequest request,\n            @AuthenticationPrincipal UserDetails userDetails) {\n        Long userId = getCurrentUserId(userDetails);\n        Task updates = new Task();\n        updates.setTitle(request.getTitle());\n        updates.setDescription(request.getDescription());\n        updates.setCompleted(request.getCompleted());\n        Task updated = taskService.updateTask(id, updates, userId);\n        return ResponseEntity.ok(updated);\n    }\n    \n    // DELETE /api/tasks/{id} - Delete task\n    @DeleteMapping(\"/{id}\")\n    public ResponseEntity<Void> deleteTask(\n            @PathVariable Long id,\n            @AuthenticationPrincipal UserDetails userDetails) {\n        Long userId = getCurrentUserId(userDetails);\n        taskService.deleteTask(id, userId);\n        return ResponseEntity.noContent().build();\n    }\n    \n    private Long getCurrentUserId(UserDetails userDetails) {\n        // Extract user ID from authenticated user\n        // Implementation depends on your security setup\n        return 1L; // Placeholder\n    }\n}"
            },
            {
              "type": "THEORY",
              "title": "💻 Step 6: Create the Frontend (HTML)",
              "content": "```java\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Task Manager</title>\n    <link rel=\"stylesheet\" href=\"style.css\">\n</head>\n<body>\n    <div class=\"container\">\n        <h1>My Tasks</h1>\n        \n        <!-- Create Task Form -->\n        <div class=\"create-task\">\n            <h2>Create New Task</h2>\n            <form id=\"createTaskForm\">\n                <input type=\"text\" id=\"title\" placeholder=\"Task title\" required>\n                <textarea id=\"description\" placeholder=\"Description\"></textarea>\n                <button type=\"submit\">Add Task</button>\n            </form>\n        </div>\n        \n        <!-- Error/Success Messages -->\n        <div id=\"message\" class=\"message\" style=\"display: none;\"></div>\n        \n        <!-- Task List -->\n        <div class=\"task-list\">\n            <h2>Tasks</h2>\n            <div id=\"tasks\">\n                <!-- Tasks will be loaded here by JavaScript -->\n            </div>\n        </div>\n    </div>\n    \n    <script src=\"app.js\"></script>\n</body>\n</html>\n```"
            },
            {
              "type": "THEORY",
              "title": "💻 Step 7: Create the Frontend (JavaScript)",
              "content": "```java\nconst API_URL = 'http://localhost:8080/api/tasks';\n\n// Load tasks when page loads\ndocument.addEventListener('DOMContentLoaded', () => {\n    loadTasks();\n    \n    // Handle form submission\n    document.getElementById('createTaskForm')\n        .addEventListener('submit', createTask);\n});\n\n// Fetch and display all tasks\nasync function loadTasks() {\n    try {\n        const response = await fetch(API_URL);\n        if (!response.ok) throw new Error('Failed to load tasks');\n        \n        const tasks = await response.json();\n        displayTasks(tasks);\n    } catch (error) {\n        showMessage('Error loading tasks: ' + error.message, 'error');\n    }\n}\n\n// Display tasks in the UI\nfunction displayTasks(tasks) {\n    const container = document.getElementById('tasks');\n    \n    if (tasks.length === 0) {\n        container.innerHTML = '<p>No tasks yet. Create one above!</p>';\n        return;\n    }\n    \n    container.innerHTML = tasks.map(task => `\n        <div class=\"task ${task.completed ? 'completed' : ''}\">\n            <div class=\"task-content\">\n                <h3>${escapeHtml(task.title)}</h3>\n                <p>${escapeHtml(task.description || '')}</p>\n            </div>\n            <div class=\"task-actions\">\n                <button onclick=\"toggleComplete(${task.id}, ${!task.completed})\">\n                    ${task.completed ? '✓ Completed' : 'Mark Complete'}\n                </button>\n                <button onclick=\"deleteTask(${task.id})\" class=\"delete-btn\">\n                    Delete\n                </button>\n            </div>\n        </div>\n    `).join('');\n}\n\n// Create new task\nasync function createTask(event) {\n    event.preventDefault();\n    \n    const title = document.getElementById('title').value;\n    const description = document.getElementById('description').value;\n    \n    try {\n        const response = await fetch(API_URL, {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ title, description })\n        });\n        \n        if (!response.ok) throw new Error('Failed to create task');\n        \n        // Clear form\n        document.getElementById('createTaskForm').reset();\n        \n        // Reload tasks\n        loadTasks();\n        showMessage('Task created successfully!', 'success');\n    } catch (error) {\n        showMessage('Error: ' + error.message, 'error');\n    }\n}\n\n// Toggle task completion\nasync function toggleComplete(taskId, completed) {\n    try {\n        const response = await fetch(`${API_URL}/${taskId}`, {\n            method: 'PUT',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ completed })\n        });\n        \n        if (!response.ok) throw new Error('Failed to update task');\n        \n        loadTasks();\n        showMessage('Task updated!', 'success');\n    } catch (error) {\n        showMessage('Error: ' + error.message, 'error');\n    }\n}\n\n// Delete task\nasync function deleteTask(taskId) {\n    if (!confirm('Delete this task?')) return;\n    \n    try {\n        const response = await fetch(`${API_URL}/${taskId}`, {\n            method: 'DELETE'\n        });\n        \n        if (!response.ok) throw new Error('Failed to delete task');\n        \n        loadTasks();\n        showMessage('Task deleted!', 'success');\n    } catch (error) {\n        showMessage('Error: ' + error.message, 'error');\n    }\n}\n\n// Show message to user\nfunction showMessage(text, type) {\n    const msg = document.getElementById('message');\n    msg.textContent = text;\n    msg.className = `message ${type}`;\n    msg.style.display = 'block';\n    setTimeout(() => msg.style.display = 'none', 3000);\n}\n\n// Prevent XSS attacks\nfunction escapeHtml(text) {\n    const div = document.createElement('div');\n    div.textContent = text;\n    return div.innerHTML;\n}\n```"
            },
            {
              "type": "THEORY",
              "title": "⚠️ Common Full-Stack Mistakes",
              "content": "❌ MISTAKE 1: Not handling errors\nFrontend sends request, backend fails, UI shows nothing\nFIX: try-catch everywhere, display errors to user\n\n❌ MISTAKE 2: No loading states\nUser clicks button, waits... did it work?\nFIX: Show 'Loading...' or disable buttons during requests\n\n❌ MISTAKE 3: Not escaping user input\nUser enters: <script>alert('hacked')</script>\nFIX: Use escapeHtml() or textContent instead of innerHTML\n\n❌ MISTAKE 4: Missing CORS configuration\nFrontend: http://localhost:3000\nBackend: http://localhost:8080\nBrowser blocks request!\nFIX: @CrossOrigin on controller\n\n❌ MISTAKE 5: Not validating on backend\nTrust frontend validation? Attacker bypasses it!\nFIX: ALWAYS validate on backend with @Valid\n\n❌ MISTAKE 6: Exposing IDs without authorization\nUser can delete task ID 123, not theirs!\nFIX: Check task.userId === currentUserId\n\n❌ MISTAKE 7: N+1 query problem\nLoading 100 tasks → 101 database queries!\nFIX: Use @EntityGraph or JOIN FETCH"
            },
            {
              "type": "KEY_POINT",
              "title": "Testing the Complete Flow",
              "content": "Test from DATABASE → FRONTEND:\n\n1. TEST DATABASE:\npsql> SELECT * FROM tasks;\nShould see tasks table\n\n2. TEST REPOSITORY (Unit test):\n@Test\nvoid shouldFindTasksByUserId() {\n    List<Task> tasks = taskRepository.findByUserId(1L);\n    assertFalse(tasks.isEmpty());\n}\n\n3. TEST SERVICE (Unit test):\n@Test\nvoid shouldCreateTask() {\n    Task task = new Task(\"Buy milk\", \"From store\", user);\n    Task saved = taskService.createTask(task, 1L);\n    assertNotNull(saved.getId());\n}\n\n4. TEST API (Integration test or Postman):\nPOST http://localhost:8080/api/tasks\n{\n  \"title\": \"Test task\",\n  \"description\": \"Testing\"\n}\nExpect: 201 Created\n\n5. TEST FRONTEND:\nOpen index.html in browser\n- Create task → Should appear in list\n- Mark complete → Should show checkmark\n- Delete → Should disappear\n\n6. TEST ERROR CASES:\n- No title → Should show error\n- Server down → Should show 'cannot connect'\n- Delete someone else's task → Should return 403"
            }
          ],
          "challenges": []
        },
        {
          "id": "epoch-8-lesson-6",
          "title": "Lesson 8.6: Virtual Threads (Project Loom) - Modern Concurrency",
          "moduleId": "module-09",
          "order": 6,
          "estimatedMinutes": 55,
          "difficulty": "advanced",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Problem: Thread-Per-Request is Expensive",
              "content": "Traditional Java web servers use one OS thread per HTTP request:\n\nRequest 1 → Thread 1\nRequest 2 → Thread 2\nRequest 3 → Thread 3\n...\nRequest 1000 → Thread 1000\n\nPROBLEM:\n- Each OS thread costs ~1MB of memory\n- 1000 threads = 1GB of RAM just for threads!\n- Context switching between threads is expensive\n- Most threads spend time WAITING (for database, network)\n\nTraditional server: ~200-500 concurrent connections MAX\n\nThis is why reactive programming (WebFlux) became popular:\n- Don't block threads!\n- But... callback hell, hard to debug, complex code\n\nWhat if we could have MILLIONS of threads that are CHEAP?"
            },
            {
              "type": "KEY_POINT",
              "title": "Virtual Threads are Like Lightweight Waiters",
              "content": "TRADITIONAL THREADS (Platform Threads):\n= Restaurant with 10 waiters\n- Each waiter handles ONE table at a time\n- Customer orders food → waiter WAITS at kitchen door\n- While waiting, waiter can't serve other tables\n- 10 waiters = 10 tables maximum at once\n\nVIRTUAL THREADS:\n= Restaurant with VIRTUAL waiters\n- Waiter takes order, goes to kitchen, PUTS DOWN NOTEPAD\n- While kitchen cooks, waiter serves OTHER tables\n- When food ready, ANY waiter picks up notepad and delivers\n- 10 real waiters can serve 1000 tables!\n\nJava 21 adds Virtual Threads:\n- Managed by JVM, not OS\n- Cost: ~1KB each (vs 1MB for platform threads)\n- Can have MILLIONS of them\n- Write normal blocking code - JVM handles scheduling"
            },
            {
              "type": "THEORY",
              "title": "Creating Virtual Threads in Java 21",
              "content": "BEFORE Java 21 - Platform Thread:\n\nThread platformThread = new Thread(() -> {\n    System.out.println(\"Running on platform thread\");\n});\nplatformThread.start();\n\n// Or with ExecutorService:\nExecutorService executor = Executors.newFixedThreadPool(10);\nexecutor.submit(() -> doWork());\n\nJAVA 21 - Virtual Thread:\n\n// Method 1: Thread.startVirtualThread()\nThread virtualThread = Thread.startVirtualThread(() -> {\n    System.out.println(\"Running on virtual thread!\");\n});\n\n// Method 2: Thread.ofVirtual().start()\nThread vt = Thread.ofVirtual()\n    .name(\"my-virtual-thread\")\n    .start(() -> doWork());\n\n// Method 3: Virtual Thread Executor (RECOMMENDED)\nExecutorService executor = Executors.newVirtualThreadPerTaskExecutor();\nexecutor.submit(() -> doWork());\n\nCHECK IF VIRTUAL:\nThread.currentThread().isVirtual();  // true or false"
            },
            {
              "type": "THEORY",
              "title": "Virtual Threads with ExecutorService",
              "content": "The most practical way to use Virtual Threads:\n\ntry (var executor = Executors.newVirtualThreadPerTaskExecutor()) {\n    // Submit 100,000 tasks - each gets its own virtual thread!\n    List<Future<String>> futures = new ArrayList<>();\n    \n    for (int i = 0; i < 100_000; i++) {\n        final int taskId = i;\n        futures.add(executor.submit(() -> {\n            // Simulate network call (blocks, but that's OK!)\n            Thread.sleep(Duration.ofMillis(100));\n            return \"Result from task \" + taskId;\n        }));\n    }\n    \n    // Collect results\n    for (Future<String> future : futures) {\n        String result = future.get();  // Blocks until complete\n        System.out.println(result);\n    }\n}\n\n// With platform threads: This would need 100,000 MB of RAM!\n// With virtual threads: Runs with minimal memory overhead\n\nPRODUCTION PATTERN:\n@Bean\npublic ExecutorService virtualThreadExecutor() {\n    return Executors.newVirtualThreadPerTaskExecutor();\n}"
            },
            {
              "type": "KEY_POINT",
              "title": "⚠️ What Virtual Threads Are NOT",
              "content": "Virtual Threads DO NOT:\n\n❌ Make CPU-bound code faster\n   Virtual threads help with WAITING (I/O)\n   If you're doing math/compression, use parallel streams\n\n❌ Replace reactive programming entirely\n   Still useful for event-driven systems\n   But now you have a simpler alternative!\n\n❌ Work with synchronized blocks (pinning)\n   More on this later...\n\n❌ Require code changes\n   Existing blocking code works! That's the beauty.\n\nVirtual Threads ARE PERFECT FOR:\n\n✓ Web servers handling many requests\n✓ Database connections\n✓ HTTP client calls\n✓ File I/O operations\n✓ Any code that WAITS for something"
            },
            {
              "type": "THEORY",
              "title": "Spring Boot 3.2+ with Virtual Threads",
              "content": "Enable Virtual Threads in Spring Boot 3.2+:\n\n# application.properties\nspring.threads.virtual.enabled=true\n\nThat's it! Now ALL HTTP requests use virtual threads automatically.\n\nBEFORE (Platform Threads):\n- Tomcat default: 200 threads\n- 200 concurrent requests max\n- Request 201 waits in queue\n\nAFTER (Virtual Threads):\n- Each request gets its own virtual thread\n- Handle 10,000+ concurrent requests\n- No thread pool exhaustion!\n\nYour existing code works unchanged:\n\n@RestController\npublic class UserController {\n    @GetMapping(\"/api/users/{id}\")\n    public User getUser(@PathVariable Long id) {\n        // This blocks waiting for DB - that's FINE now!\n        return userRepository.findById(id).orElseThrow();\n    }\n}\n\nWith virtual threads enabled:\n- JVM automatically \"parks\" virtual thread during DB wait\n- Platform thread freed to handle other requests\n- Virtual thread \"unparked\" when DB returns\n- You don't change ANY code!"
            },
            {
              "type": "THEORY",
              "title": "Structured Concurrency (Java 21 Preview)",
              "content": "Problem: Running multiple concurrent tasks and handling results/errors:\n\n// Old approach - error prone\nExecutorService executor = Executors.newVirtualThreadPerTaskExecutor();\nFuture<User> userFuture = executor.submit(() -> fetchUser(userId));\nFuture<List<Order>> ordersFuture = executor.submit(() -> fetchOrders(userId));\n\nUser user = userFuture.get();      // What if this throws?\nList<Order> orders = ordersFuture.get();  // This might still be running!\n\n// STRUCTURED CONCURRENCY (Java 21 Preview):\ntry (var scope = new StructuredTaskScope.ShutdownOnFailure()) {\n    \n    Subtask<User> userTask = scope.fork(() -> fetchUser(userId));\n    Subtask<List<Order>> ordersTask = scope.fork(() -> fetchOrders(userId));\n    \n    scope.join();           // Wait for all tasks\n    scope.throwIfFailed();  // Propagate any exception\n    \n    // Both succeeded - get results\n    User user = userTask.get();\n    List<Order> orders = ordersTask.get();\n    \n    return new UserProfile(user, orders);\n}\n// If userTask fails, ordersTask is automatically cancelled!\n// No orphan threads, no resource leaks\n\nENABLE PREVIEW FEATURES:\n# Maven\n<compilerArgs>\n    <arg>--enable-preview</arg>\n</compilerArgs>\n\n# Or run with:\njava --enable-preview -jar myapp.jar"
            },
            {
              "type": "KEY_POINT",
              "title": "⚠️ Virtual Thread Pinning - The One Gotcha",
              "content": "PINNING = Virtual thread gets \"stuck\" to platform thread\n\nThis happens with:\n1. synchronized blocks/methods\n2. Native code (JNI)\n\nExample of BAD code:\n\nsynchronized (lock) {\n    // Virtual thread is PINNED here\n    database.query();  // Can't yield to other virtual threads!\n}\n\nFIX - Use ReentrantLock instead:\n\nprivate final ReentrantLock lock = new ReentrantLock();\n\nlock.lock();\ntry {\n    database.query();  // Virtual thread CAN yield here!\n} finally {\n    lock.unlock();\n}\n\nDETECT PINNING:\n# JVM flag to warn about pinning\n-Djdk.tracePinnedThreads=full\n\nCHECKLIST FOR VIRTUAL THREAD READINESS:\n✓ Replace synchronized with ReentrantLock\n✓ Avoid ThreadLocal (or use ScopedValue preview)\n✓ Don't pool virtual threads (create fresh ones)\n✓ Update JDBC drivers to latest versions\n✓ Check third-party libraries for synchronized usage"
            },
            {
              "type": "THEORY",
              "title": "Performance Comparison: Platform vs Virtual Threads",
              "content": "Benchmark: 10,000 concurrent HTTP requests to REST API\n\nPLATFORM THREADS (200 thread pool):\n- Throughput: ~1,800 req/sec\n- Latency P99: 5,200ms\n- Memory: 800MB\n- Thread contention: HIGH\n\nVIRTUAL THREADS:\n- Throughput: ~9,500 req/sec (5x improvement!)\n- Latency P99: 120ms\n- Memory: 350MB\n- Thread contention: MINIMAL\n\nWHY SO MUCH FASTER?\n1. No thread pool bottleneck\n2. Near-zero context switch cost\n3. Better CPU utilization (threads don't sit idle)\n4. Reduced memory pressure\n\nBUT REMEMBER:\n- Virtual threads don't make SINGLE request faster\n- They make MANY concurrent requests faster\n- CPU-bound code won't benefit\n- I/O-bound code (web servers) benefits MASSIVELY"
            },
            {
              "type": "THEORY",
              "title": "💻 Complete Example: Virtual Thread HTTP Client",
              "content": "```java\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\nimport java.net.URI;\nimport java.util.List;\nimport java.util.concurrent.*;\n\npublic class VirtualThreadDemo {\n    \n    public static void main(String[] args) throws Exception {\n        HttpClient client = HttpClient.newHttpClient();\n        List<String> urls = List.of(\n            \"https://api.github.com\",\n            \"https://api.example.com/users\",\n            \"https://api.example.com/orders\"\n            // ... imagine 1000 more URLs\n        );\n        \n        // Fetch ALL URLs concurrently with virtual threads\n        try (var executor = Executors.newVirtualThreadPerTaskExecutor()) {\n            \n            List<Future<String>> futures = urls.stream()\n                .map(url -> executor.submit(() -> fetchUrl(client, url)))\n                .toList();\n            \n            // Collect results\n            for (Future<String> future : futures) {\n                try {\n                    System.out.println(future.get());\n                } catch (ExecutionException e) {\n                    System.err.println(\"Failed: \" + e.getCause());\n                }\n            }\n        }\n    }\n    \n    private static String fetchUrl(HttpClient client, String url) \n            throws Exception {\n        HttpRequest request = HttpRequest.newBuilder()\n            .uri(URI.create(url))\n            .build();\n        \n        HttpResponse<String> response = client.send(\n            request, \n            HttpResponse.BodyHandlers.ofString()\n        );\n        \n        return url + \" -> Status: \" + response.statusCode();\n    }\n}\n\n// This code creates a virtual thread per URL\n// 1000 URLs = 1000 virtual threads (uses ~1MB total, not 1GB!)\n// All requests happen concurrently\n// Simple, readable, blocking code - JVM handles the magic\n```"
            },
            {
              "type": "THEORY",
              "title": "Migration Checklist: Adopting Virtual Threads",
              "content": "STEP 1: Update to Java 21+ and Spring Boot 3.2+\n<java.version>21</java.version>\n<parent>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-parent</artifactId>\n    <version>3.2.0</version>\n</parent>\n\nSTEP 2: Enable Virtual Threads\nspring.threads.virtual.enabled=true\n\nSTEP 3: Update Dependencies\n- JDBC drivers (PostgreSQL 42.7+, MySQL 8.3+)\n- HikariCP (5.1+)\n- Hibernate (6.4+)\n\nSTEP 4: Check for Pinning\n# Run with tracing\njava -Djdk.tracePinnedThreads=full -jar app.jar\n\nSTEP 5: Replace synchronized\n// Before\nsynchronized (this) { ... }\n\n// After\nprivate final ReentrantLock lock = new ReentrantLock();\nlock.lock();\ntry { ... } finally { lock.unlock(); }\n\nSTEP 6: Load Test\n- Use JMeter or Gatling\n- Simulate 10,000 concurrent users\n- Compare metrics before/after\n\nSTEP 7: Monitor in Production\n- Watch thread metrics in Actuator\n- Monitor memory usage\n- Check response times"
            },
            {
              "type": "KEY_POINT",
              "title": "TL;DR - Virtual Threads Summary",
              "content": "WHAT: Lightweight threads managed by JVM (not OS)\nWHY: Handle millions of concurrent connections\nWHEN: Java 21+ (LTS), Spring Boot 3.2+\n\nEnable in Spring Boot:\nspring.threads.virtual.enabled=true\n\nCreate manually:\nThread.startVirtualThread(() -> doWork());\nExecutors.newVirtualThreadPerTaskExecutor();\n\nBEST FOR:\n✓ Web servers (HTTP requests)\n✓ Microservices\n✓ Database-heavy applications\n✓ API gateways\n✓ Any I/O-bound workload\n\nAVOID:\n✗ CPU-intensive math/processing\n✗ synchronized blocks (use ReentrantLock)\n✗ Pooling virtual threads (create new ones)\n\nIMPACT:\n- 5-10x throughput improvement\n- Simpler code than reactive programming\n- Lower memory usage\n- Better latency under load\n\nThis is the BIGGEST change to Java concurrency since threads were introduced!"
            }
          ],
          "challenges": [
            {
              "type": "MULTIPLE_CHOICE",
              "id": "epoch-8-lesson-6-vt-basics",
              "title": "Virtual Thread Basics",
              "description": "What is the main advantage of virtual threads over platform threads?",
              "question": "What is the main advantage of virtual threads over platform threads?",
              "options": [
                {
                  "id": "a",
                  "text": "They make CPU-intensive calculations faster",
                  "isCorrect": false
                },
                {
                  "id": "b",
                  "text": "They use less memory and allow millions of concurrent threads",
                  "isCorrect": true
                },
                {
                  "id": "c",
                  "text": "They automatically parallelize sequential code",
                  "isCorrect": false
                },
                {
                  "id": "d",
                  "text": "They replace the need for databases",
                  "isCorrect": false
                }
              ],
              "difficulty": "intermediate"
            },
            {
              "type": "MULTIPLE_CHOICE",
              "id": "epoch-8-lesson-6-pinning",
              "title": "Virtual Thread Pinning",
              "description": "What causes virtual thread pinning and how should you avoid it?",
              "question": "Which of the following should you AVOID when using virtual threads because it causes pinning?",
              "options": [
                {
                  "id": "a",
                  "text": "Using ReentrantLock for synchronization",
                  "isCorrect": false
                },
                {
                  "id": "b",
                  "text": "Using synchronized blocks or methods",
                  "isCorrect": true
                },
                {
                  "id": "c",
                  "text": "Making HTTP calls with HttpClient",
                  "isCorrect": false
                },
                {
                  "id": "d",
                  "text": "Using try-with-resources blocks",
                  "isCorrect": false
                }
              ],
              "difficulty": "intermediate"
            },
            {
              "type": "TRUE_FALSE",
              "id": "epoch-8-lesson-6-spring",
              "title": "Spring Boot Virtual Threads",
              "description": "Spring Boot 3.2+ can enable virtual threads with a single configuration property.",
              "statement": "In Spring Boot 3.2+, you can enable virtual threads for all HTTP request handling by setting spring.threads.virtual.enabled=true",
              "isTrue": true,
              "explanation": "Correct! Spring Boot 3.2+ added native support for virtual threads. Setting this property makes Tomcat use virtual threads for handling HTTP requests instead of a thread pool.",
              "difficulty": "beginner"
            }
          ]
        }
      ]
    },
    {
      "id": "module-10",
      "title": "Capstone Project",
      "description": "Apply everything you've learned to build a complete full-stack application from scratch.",
      "difficulty": "beginner",
      "estimatedHours": 9.5,
      "lessons": [
        {
          "id": "epoch-9-lesson-1",
          "title": "Lesson 9.1: Your Capstone Project",
          "moduleId": "module-10",
          "order": 1,
          "estimatedMinutes": 60,
          "difficulty": "advanced",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Final Challenge: Build Something Real",
              "content": "You've learned:\n✓ Java fundamentals (variables, loops, methods)\n✓ Object-oriented programming (classes, inheritance)\n✓ Data structures (arrays, lists, maps)\n✓ Testing and professional tools\n✓ Databases and SQL\n✓ Web APIs and HTTP\n✓ Spring Boot framework\n✓ Full-stack integration\n\nNow it's time to APPLY everything to build a complete, portfolio-worthy project."
            },
            {
              "type": "THEORY",
              "title": "Project Options",
              "content": "Choose ONE of these projects (or propose your own):\n\n1. TASK MANAGEMENT SYSTEM\n- Users can create accounts\n- Create, update, delete tasks\n- Assign priorities and due dates\n- Filter and search tasks\n- Tech: Spring Boot API + Database + Simple HTML frontend\n\n2. BLOG PLATFORM\n- Users can register and login\n- Create, edit, delete blog posts\n- Comment on posts\n- Like/unlike posts\n- Tech: Spring Boot + MySQL + REST API\n\n3. E-COMMERCE PRODUCT CATALOG\n- Browse products\n- Search and filter\n- Shopping cart\n- Order history\n- Tech: Spring Boot + Database + JSON API\n\n4. YOUR OWN IDEA!\n- Propose a project that interests you\n- Must include: API, database, authentication\n- Discuss with mentor/community"
            },
            {
              "type": "THEORY",
              "title": "Project Requirements",
              "content": "Your capstone MUST include:\n\n✓ Backend: Spring Boot REST API\n✓ Database: Persistent storage with JPA\n✓ CRUD Operations: Create, Read, Update, Delete\n✓ Object-Oriented Design: Proper class structure\n✓ Testing: Unit tests for key methods\n✓ Error Handling: Graceful failure messages\n✓ Documentation: README with setup instructions\n✓ Git: Version control with meaningful commits\n\nBONUS (Optional):\n- Frontend interface (HTML/JS)\n- User authentication\n- Deployment to cloud (Heroku, AWS)\n- Advanced features specific to your app"
            },
            {
              "type": "KEY_POINT",
              "title": "The Development Process",
              "content": "Step 1: PLAN (1-2 days)\n- Sketch your database schema\n- List API endpoints\n- Define your models/entities\n\nStep 2: BUILD BACKEND (5-7 days)\n- Create entities and repositories\n- Build REST controllers\n- Test with Postman/curl\n\nStep 3: ADD FRONTEND (3-4 days)\n- Basic HTML forms\n- Fetch API calls\n- Display data\n\nStep 4: TEST & REFINE (2-3 days)\n- Fix bugs\n- Add error handling\n- Write tests\n\nStep 5: DOCUMENT & DEPLOY (1-2 days)\n- Write README\n- Create demo video\n- Deploy (optional)\n\nTotal: 2-3 weeks for a solid project"
            }
          ],
          "challenges": []
        },
        {
          "id": "epoch-9-lesson-2",
          "title": "Lesson 9.2: Planning Your Capstone - From Idea to Action Plan",
          "moduleId": "module-10",
          "order": 2,
          "estimatedMinutes": 45,
          "difficulty": "advanced",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "Why Planning Matters",
              "content": "You've learned Java, Spring Boot, databases, and frontend.\nNow it's time to BUILD SOMETHING REAL.\n\nBut jumping straight into code is a recipe for disaster:\n\n❌ WITHOUT PLANNING:\n- Start coding random features\n- Realize you need to redesign everything\n- Get overwhelmed and give up\n- Half-finished project collecting dust\n\n✓ WITH PLANNING:\n- Clear vision of what you're building\n- Know exactly what to build next\n- Can show progress to employers\n- Finish with a portfolio-worthy project\n\nGOAL: Create a solid plan so you can build with confidence!"
            },
            {
              "type": "KEY_POINT",
              "title": "Planning a Project is Like Planning a Road Trip",
              "content": "DESTINATION (Project vision):\n\"I want to drive from New York to California\"\nLike: \"I want to build a task management app\"\n\nROUTE (Features):\nNYC → Chicago → Denver → LA (major stops)\nLike: User registration → Task CRUD → Sharing → Mobile app\n\nDAILY MILESTONES (User stories):\nDay 1: NYC to Pittsburgh (400 miles)\nDay 2: Pittsburgh to Chicago (450 miles)\nLike: Sprint 1: Basic user authentication\n      Sprint 2: Create and list tasks\n\nGAS STATIONS (MVP - Minimum Viable Product):\nYou don't drive all the way without stops!\nLike: First version: Just login + create tasks\n      Later: Add sharing, tags, notifications\n\nFLEXIBILITY:\nRoad closed? Take detour.\nLike: Feature too hard? Build simpler version first.\n\nPlanning = Knowing where you're going!"
            },
            {
              "type": "THEORY",
              "title": "Step 1: Choose Your Project Idea",
              "content": "Pick something you're excited about!\n\nGOOD PROJECT IDEAS:\n\n1. TASK/TODO MANAGER:\n   - Create, edit, delete tasks\n   - Mark complete, set due dates\n   - Organize by projects/tags\n   - Share tasks with others\n\n2. EXPENSE TRACKER:\n   - Log income and expenses\n   - Categorize transactions\n   - View charts and reports\n   - Budget tracking\n\n3. RECIPE MANAGER:\n   - Save favorite recipes\n   - Search by ingredients\n   - Shopping list generator\n   - Share recipes with friends\n\n4. FITNESS TRACKER:\n   - Log workouts\n   - Track progress over time\n   - Set fitness goals\n   - View statistics and charts\n\n5. BOOK LIBRARY:\n   - Track books read/want to read\n   - Rate and review books\n   - Get recommendations\n   - Share reading lists\n\nCRITERIA FOR A GOOD PROJECT:\n✓ Personally interesting (you'll stay motivated)\n✓ Has CRUD operations (shows database skills)\n✓ Has user authentication (shows security knowledge)\n✓ Can start simple, grow complex\n✓ Demonstrates full-stack skills\n\nBAD PROJECT IDEAS:\n❌ \"Build the next Facebook\" (too ambitious)\n❌ \"AI that predicts stock market\" (too complex)\n❌ \"Calculator app\" (too simple)\n❌ \"Something I have zero interest in\" (you'll quit)"
            },
            {
              "type": "THEORY",
              "title": "Step 2: Define Your MVP (Minimum Viable Product)",
              "content": "MVP = Simplest version that actually works\n\nExample: Task Manager MVP\n\n✓ IN MVP (Core features only):\n- User registration and login\n- Create a task (title + description)\n- View list of my tasks\n- Mark task as complete\n- Delete a task\n\n❌ NOT IN MVP (Nice-to-have features):\n- Share tasks with other users\n- Due dates and reminders\n- Tags and categories\n- File attachments\n- Mobile app\n- Email notifications\n\nWHY START WITH MVP?\n1. See results quickly (motivation!)\n2. Easier to debug when small\n3. Can show working product to employers\n4. Add features incrementally\n\nRULE: If it's not essential to basic functionality, it's NOT in the MVP!\n\nYou can always add features later in Version 2, 3, 4..."
            },
            {
              "type": "THEORY",
              "title": "Step 3: Write User Stories",
              "content": "User stories describe features from user's perspective.\n\nFORMAT:\nAs a [user type], I want [goal] so that [reason].\n\nExample User Stories for Task Manager:\n\nSTORY 1: User Registration\nAs a new user,\nI want to create an account with email and password,\nSo that I can save my tasks and access them later.\n\nAcceptance Criteria:\n- Email must be valid format\n- Password must be at least 8 characters\n- Cannot register with existing email\n- Shows success message after registration\n\nSTORY 2: User Login\nAs a registered user,\nI want to log in with my email and password,\nSo that I can access my tasks.\n\nAcceptance Criteria:\n- Redirect to task list after successful login\n- Show error if credentials are wrong\n- Stay logged in until I log out\n\nSTORY 3: Create Task\nAs a logged-in user,\nI want to create a new task with a title and description,\nSo that I can remember what I need to do.\n\nAcceptance Criteria:\n- Title is required (cannot be empty)\n- Description is optional\n- New task appears in my task list immediately\n- Show success message\n\nSTORY 4: View Task List\nAs a logged-in user,\nI want to see all my tasks in a list,\nSo that I can see what I need to do.\n\nAcceptance Criteria:\n- Show only MY tasks (not other users' tasks)\n- Display title, description, and completion status\n- Show message if I have no tasks\n\nSTORY 5: Mark Task Complete\nAs a logged-in user,\nI want to mark a task as complete,\nSo that I can track my progress.\n\nAcceptance Criteria:\n- Completed tasks show a checkmark\n- Can toggle between complete and incomplete\n- Changes saved to database immediately\n\nSTORY 6: Delete Task\nAs a logged-in user,\nI want to delete a task I no longer need,\nSo that my task list stays clean.\n\nAcceptance Criteria:\n- Confirm before deleting (\"Are you sure?\")\n- Task removed from database immediately\n- Cannot delete other users' tasks"
            },
            {
              "type": "THEORY",
              "title": "Step 4: Design Your Database Schema",
              "content": "Plan your tables BEFORE coding!\n\nExample: Task Manager Database\n\nTABLE: users\n-----------------------------------\nid            BIGSERIAL PRIMARY KEY\nemail         VARCHAR(255) UNIQUE NOT NULL\npassword      VARCHAR(255) NOT NULL  (hashed!)\nname          VARCHAR(100)\ncreated_at    TIMESTAMP DEFAULT NOW()\n\nTABLE: tasks\n-----------------------------------\nid            BIGSERIAL PRIMARY KEY\ntitle         VARCHAR(255) NOT NULL\ndescription   TEXT\ncompleted     BOOLEAN DEFAULT FALSE\nuser_id       BIGINT NOT NULL\ncreated_at    TIMESTAMP DEFAULT NOW()\nupdated_at    TIMESTAMP DEFAULT NOW()\nFOREIGN KEY (user_id) REFERENCES users(id)\n\nRELATIONSHIPS:\n- One user has many tasks (1:N)\n- One task belongs to one user\n\nQUESTIONS TO ASK:\n1. What data do I need to store?\n2. How are tables related?\n3. What should be required vs optional?\n4. What needs to be unique?\n5. What should happen if user is deleted?\n   (CASCADE delete their tasks? Keep tasks?)\n\nTIP: Draw it on paper first!"
            },
            {
              "type": "KEY_POINT",
              "title": "Step 5: Choose Your Tech Stack",
              "content": "Pick technologies you've learned:\n\nBACKEND:\n✓ Java 17+\n✓ Spring Boot 3.x\n✓ Spring Data JPA\n✓ Spring Security (for authentication)\n✓ Maven (build tool)\n\nDATABASE:\n✓ PostgreSQL (recommended)\nor H2 (in-memory, for development)\n\nFRONTEND:\nOption 1: Simple HTML + CSS + JavaScript\n✓ Easy to start\n✓ No build tools needed\n✓ Fetch API for REST calls\n\nOption 2: React (if you know it)\n✓ More professional\n✓ Better for complex UIs\n✓ Component-based\n\nDEPLOYMENT:\n✓ Docker (containerization)\n✓ Docker Compose (multi-container)\n\nAVOID:\n❌ Technologies you've never used\n❌ \"Trendy\" frameworks just for resume\n❌ Over-engineering (microservices, Kubernetes)\n\nREMEMBER: Simple and working beats complex and broken!"
            },
            {
              "type": "THEORY",
              "title": "Step 6: Break Down Into Phases",
              "content": "Build incrementally, not all at once!\n\nPHASE 1: Database + Backend (Week 1-2)\n□ Set up Spring Boot project\n□ Create User and Task entities\n□ Create repositories\n□ Create services with business logic\n□ Create REST controllers\n□ Test with Postman/curl\n□ Add Spring Security for authentication\n\nPHASE 2: Frontend (Week 3)\n□ Create HTML pages (login, register, task list)\n□ Add CSS styling\n□ Write JavaScript to call REST APIs\n□ Connect frontend to backend\n□ Test full workflow\n\nPHASE 3: Polish & Deploy (Week 4)\n□ Add error handling\n□ Improve UI/UX\n□ Write README with screenshots\n□ Create Dockerfile\n□ Deploy to cloud (optional)\n\nPHASE 4: Additional Features (Optional)\n□ Add due dates\n□ Add task categories/tags\n□ Add search functionality\n□ Add task sharing\n\nEACH PHASE = Working version you can demo!"
            },
            {
              "type": "THEORY",
              "title": "💻 Complete Project Plan: Task Manager",
              "content": "```java\nPROJECT: Personal Task Manager\n\nVISION:\nA web application where users can create, manage, and track\ntheir daily tasks. Users can register, log in, and manage\ntheir own personal task list.\n\nMVP FEATURES:\n1. User registration with email/password\n2. User login with session management\n3. Create new tasks (title + description)\n4. View all my tasks\n5. Mark tasks as complete/incomplete\n6. Delete tasks\n\nTECH STACK:\n- Backend: Java 17, Spring Boot 3, Spring Security, Spring Data JPA\n- Database: PostgreSQL\n- Frontend: HTML, CSS, Vanilla JavaScript\n- Tools: Maven, Docker\n\nDATABASE TABLES:\nusers: id, email, password, name, created_at\ntasks: id, title, description, completed, user_id, created_at\n\nAPI ENDPOINTS:\nPOST   /api/auth/register - Register new user\nPOST   /api/auth/login    - Login user\nPOST   /api/auth/logout   - Logout user\nGET    /api/tasks         - Get all my tasks\nPOST   /api/tasks         - Create new task\nPUT    /api/tasks/{id}    - Update task\nDELETE /api/tasks/{id}    - Delete task\n\nTIMELINE:\nWeek 1: Backend setup, entities, repositories, services\nWeek 2: REST controllers, Spring Security, test with Postman\nWeek 3: Frontend HTML/CSS/JS, connect to backend\nWeek 4: Polish, error handling, documentation, deploy\n\nSUCCESS CRITERIA:\n✓ Can register and log in\n✓ Can create, view, update, delete tasks\n✓ Tasks persist in database\n✓ Each user sees only their own tasks\n✓ Works in production environment\n✓ Has README with setup instructions\n```"
            },
            {
              "type": "THEORY",
              "title": "⚠️ Common Planning Mistakes",
              "content": "❌ MISTAKE 1: Planning for months without coding\n\"I need the perfect plan before I start!\"\nFIX: Plan MVP, start coding, adjust as you go\n\n❌ MISTAKE 2: No plan at all\n\"I'll just figure it out as I code!\"\nFIX: Spend 1-2 days planning before coding\n\n❌ MISTAKE 3: MVP too ambitious\n\"MVP will have 20 features!\"\nFIX: MVP = 5-6 core features maximum\n\n❌ MISTAKE 4: Choosing unfamiliar technologies\n\"Let me learn React, GraphQL, and Kubernetes!\"\nFIX: Use what you know, learn ONE new thing max\n\n❌ MISTAKE 5: Perfectionism\n\"UI must be perfect before I move to backend!\"\nFIX: Embrace iteration, improve over time\n\n❌ MISTAKE 6: No deadline\n\"I'll finish... eventually\"\nFIX: Set 4-week deadline for MVP\n\n❌ MISTAKE 7: Building for imaginary users\n\"Users will want to export to 20 file formats!\"\nFIX: Build features YOU would actually use"
            },
            {
              "type": "KEY_POINT",
              "title": "Your Action Plan Template",
              "content": "Use this template for YOUR project:\n\n1. PROJECT NAME:\n   [Write a catchy name]\n\n2. PROJECT VISION (1-2 sentences):\n   [What problem does it solve?]\n\n3. MVP FEATURES (5-6 items):\n   □ Feature 1\n   □ Feature 2\n   □ Feature 3\n   □ Feature 4\n   □ Feature 5\n\n4. USER STORIES (Write 3-6):\n   Story 1: As a [user], I want [goal] so that [reason]\n   Story 2: ...\n\n5. DATABASE TABLES:\n   Table 1: [name] - [columns]\n   Table 2: [name] - [columns]\n\n6. API ENDPOINTS:\n   GET    /api/resource\n   POST   /api/resource\n   PUT    /api/resource/{id}\n   DELETE /api/resource/{id}\n\n7. TECH STACK:\n   Backend: [technologies]\n   Frontend: [technologies]\n   Database: [database]\n\n8. TIMELINE:\n   Week 1: [tasks]\n   Week 2: [tasks]\n   Week 3: [tasks]\n   Week 4: [tasks]\n\n9. SUCCESS CRITERIA:\n   ✓ [Measurable goal 1]\n   ✓ [Measurable goal 2]\n   ✓ [Measurable goal 3]\n\nNEXT STEP: Fill this out for YOUR project idea!"
            }
          ],
          "challenges": []
        },
        {
          "id": "epoch-9-lesson-3",
          "title": "Lesson 9.3: Setting Up Your Dev Environment",
          "moduleId": "module-10",
          "order": 3,
          "estimatedMinutes": 60,
          "difficulty": "advanced",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "Your Development Toolkit",
              "content": "Before building your capstone, you need the right tools!\n\nESSENTIAL TOOLS:\n\n1. JAVA JDK (Java Development Kit)\n   - Recommended: Java 21 (LTS - Long Term Support)\n   - Compiles and runs Java code\n\n2. IDE (Integrated Development Environment)\n   Option A: IntelliJ IDEA (Best for Java/Spring Boot)\n   Option B: VS Code (Lightweight, popular)\n\n3. BUILD TOOL\n   - Maven (comes with Spring Boot projects)\n   - Manages dependencies, builds JAR files\n\n4. VERSION CONTROL\n   - Git (track changes, collaborate)\n   - GitHub (host code online)\n\n5. DATABASE\n   - PostgreSQL (production-ready)\n   - Or H2 (in-memory, for quick start)\n\n6. API TESTING\n   - Postman or curl (test REST APIs)\n\n7. CONTAINERIZATION (Optional but recommended)\n   - Docker (package and deploy)\n\nGOAL: Get everything installed and working!"
            },
            {
              "type": "KEY_POINT",
              "title": "Development Environment is Like a Carpenter's Workshop",
              "content": "JAVA JDK (The workbench):\nThe foundation where all work happens\nLike: Main workbench with tools\n\nIDE (The power tools):\nMakes work faster and easier\nLike: Electric saw vs hand saw\n\nMAVEN (The assembly line):\nAutomatically fetches materials and builds project\nLike: Conveyor belt that brings wood, nails, glue\n\nGIT (The project journal):\nRecords every change you make\nLike: Detailed notes of what you built each day\n\nDATABASE (The storage room):\nWhere finished products are stored\nLike: Warehouse for completed furniture\n\nPOSTMAN (The quality inspector):\nTests if everything works correctly\nLike: Inspector checking furniture quality\n\nGood tools make good work possible!"
            },
            {
              "type": "THEORY",
              "title": "Step 1: Install Java JDK 21",
              "content": "Java 21 is the recommended LTS version for 2024-2025.\n\nWINDOWS:\n1. Download from: https://adoptium.net/\n2. Choose: Eclipse Temurin 21 (LTS)\n3. Run installer, accept defaults\n4. Verify installation:\n   Open Command Prompt:\n   java -version\n   Should show: openjdk version \"21.x.x\"\n\nMAC:\n1. Using Homebrew:\n   brew install openjdk@21\n2. Or download from: https://adoptium.net/\n3. Verify:\n   java -version\n\nLINUX (Ubuntu/Debian):\nsudo apt update\nsudo apt install openjdk-21-jdk\njava -version\n\nVERIFY JAVA_HOME:\nWindows: echo %JAVA_HOME%\nMac/Linux: echo $JAVA_HOME\n\nIf not set, add to environment variables:\nWindows: JAVA_HOME = C:\\Program Files\\Java\\jdk-21\nMac/Linux: export JAVA_HOME=/usr/lib/jvm/java-21-openjdk\n\n✓ SUCCESS: 'java -version' shows Java 21"
            },
            {
              "type": "THEORY",
              "title": "Step 2A: Install IntelliJ IDEA (Recommended)",
              "content": "IntelliJ IDEA = Best IDE for Java and Spring Boot\n\nWHY INTELLIJ?\n✓ Built specifically for Java\n✓ Excellent Spring Boot support\n✓ Smart code completion\n✓ Built-in Maven support\n✓ Database tools included\n✓ Git integration\n\nINSTALLATION:\n1. Download Community Edition (FREE):\n   https://www.jetbrains.com/idea/download/\n\n2. Choose your OS: Windows, Mac, or Linux\n\n3. Install:\n   - Windows: Run .exe installer\n   - Mac: Drag to Applications folder\n   - Linux: Extract and run idea.sh\n\n4. First Launch:\n   - Choose theme (Light or Dark)\n   - Skip featured plugins (for now)\n   - Select: \"Don't send\"\n\nESSENTIAL PLUGINS:\nFile → Settings → Plugins:\n- Spring Boot (should be pre-installed)\n- Docker (if using Docker)\n- GitToolBox (enhanced Git integration)\n\nCONFIGURE JDK:\nFile → Project Structure → SDKs\nAdd JDK → Select Java 21 installation\n\n✓ SUCCESS: IntelliJ opens without errors"
            },
            {
              "type": "THEORY",
              "title": "Step 2B: Install VS Code (Alternative)",
              "content": "VS Code = Lightweight, popular, great for web development\n\nWHY VS CODE?\n✓ Fast and lightweight\n✓ Great for full-stack (Java + frontend)\n✓ Huge extension marketplace\n✓ Free and open-source\n\nINSTALLATION:\n1. Download from: https://code.visualstudio.com/\n2. Install for your OS\n3. Launch VS Code\n\nESSENTIAL EXTENSIONS:\nClick Extensions icon (left sidebar) and install:\n\n1. Extension Pack for Java (by Microsoft)\n   - Includes: Language Support, Debugger, Test Runner, Maven\n\n2. Spring Boot Extension Pack\n   - Spring Boot Tools\n   - Spring Initializr\n   - Spring Boot Dashboard\n\n3. GitLens (enhanced Git)\n\n4. REST Client (test APIs in VS Code)\n\n5. Docker (if using Docker)\n\nCONFIGURE JAVA:\nCtrl+Shift+P (Cmd+Shift+P on Mac)\nType: \"Java: Configure Java Runtime\"\nEnsure Java 21 is selected\n\n✓ SUCCESS: Extensions installed, Java detected"
            },
            {
              "type": "THEORY",
              "title": "Step 3: Install Git and Configure",
              "content": "Git = Version control system (track changes, collaborate)\n\nINSTALLATION:\n\nWINDOWS:\n1. Download: https://git-scm.com/download/win\n2. Run installer\n3. Accept defaults (important: select \"Use Git from command line\")\n\nMAC:\nbrew install git\n\nLINUX:\nsudo apt install git\n\nVERIFY:\ngit --version\nShould show: git version 2.x.x\n\nCONFIGURE (IMPORTANT!):\ngit config --global user.name \"Your Name\"\ngit config --global user.email \"your.email@example.com\"\n\nCHECK CONFIGURATION:\ngit config --list\n\nCREATE GITHUB ACCOUNT:\n1. Go to: https://github.com\n2. Sign up (free)\n3. Verify email\n\nGENERATE SSH KEY (Optional but recommended):\nssh-keygen -t ed25519 -C \"your.email@example.com\"\nPress Enter 3 times (default location, no passphrase)\n\nAdd to GitHub:\ncat ~/.ssh/id_ed25519.pub\nCopy output → GitHub → Settings → SSH Keys → New SSH Key\n\n✓ SUCCESS: 'git --version' works, GitHub account created"
            },
            {
              "type": "THEORY",
              "title": "Step 4: Install PostgreSQL",
              "content": "PostgreSQL = Production-ready relational database\n\nINSTALLATION:\n\nWINDOWS:\n1. Download: https://www.postgresql.org/download/windows/\n2. Run installer\n3. Set password for 'postgres' user (REMEMBER THIS!)\n4. Port: 5432 (default)\n5. Install Stack Builder? → Skip\n\nMAC:\nbrew install postgresql@15\nbrew services start postgresql@15\n\nLINUX:\nsudo apt install postgresql postgresql-contrib\nsudo systemctl start postgresql\n\nVERIFY:\npsql --version\nShould show: psql (PostgreSQL) 15.x\n\nCREATE DATABASE FOR YOUR PROJECT:"
            },
            {
              "type": "THEORY",
              "title": "Connect to PostgreSQL",
              "content": "psql -U postgres\n(Enter password)"
            },
            {
              "type": "THEORY",
              "title": "Create database",
              "content": "CREATE DATABASE taskmanager;"
            },
            {
              "type": "THEORY",
              "title": "Create user",
              "content": "CREATE USER taskuser WITH PASSWORD 'yourpassword';"
            },
            {
              "type": "THEORY",
              "title": "Grant permissions",
              "content": "GRANT ALL PRIVILEGES ON DATABASE taskmanager TO taskuser;"
            },
            {
              "type": "THEORY",
              "title": "Exit",
              "content": "\\q\n\nALTERNATIVE: Use H2 Database (In-Memory)\n✓ No installation needed\n✓ Add dependency in Spring Boot\n✓ Good for development, not for production\n\n✓ SUCCESS: Can connect to PostgreSQL"
            },
            {
              "type": "KEY_POINT",
              "title": "🐳 RECOMMENDED: Docker Compose for Local Development",
              "content": "Skip manual database installation! Use Docker Compose instead.\n\nWHY DOCKER COMPOSE FOR LOCAL DEV?\n✓ One command starts everything (database, cache, message queue)\n✓ Same environment for all team members\n✓ No \"works on my machine\" problems\n✓ Easy to reset: docker compose down -v, docker compose up\n✓ No polluting your system with database installations\n✓ Matches production environment\n\nCREATE docker-compose.yml (in project root):\n\nversion: '3.8'\nservices:\n  postgres:\n    image: postgres:16-alpine\n    container_name: taskmanager-db\n    environment:\n      POSTGRES_DB: taskmanager\n      POSTGRES_USER: taskuser\n      POSTGRES_PASSWORD: localdev123\n    ports:\n      - \"5432:5432\"\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n    healthcheck:\n      test: [\"CMD-SHELL\", \"pg_isready -U taskuser -d taskmanager\"]\n      interval: 5s\n      timeout: 5s\n      retries: 5\n\n  # Optional: Add Redis for caching\n  redis:\n    image: redis:7-alpine\n    container_name: taskmanager-cache\n    ports:\n      - \"6379:6379\"\n\nvolumes:\n  postgres_data:\n\nUSAGE:\n\n# Start all services\ndocker compose up -d\n\n# View logs\ndocker compose logs -f postgres\n\n# Stop all services (keep data)\ndocker compose down\n\n# Stop and DELETE all data (fresh start)\ndocker compose down -v\n\n# Restart just the database\ndocker compose restart postgres\n\napplication.yml (for local dev):\nspring:\n  datasource:\n    url: jdbc:postgresql://localhost:5432/taskmanager\n    username: taskuser\n    password: localdev123\n\nBEST PRACTICE:\n1. Add docker-compose.yml to Git\n2. Add .env file with local secrets to .gitignore\n3. Document in README: \"Run docker compose up -d first\"\n4. Everyone gets identical dev environment!\n\nTEAM WORKFLOW:\ngit clone taskmanager\ncd taskmanager\ndocker compose up -d    # Database ready in 5 seconds!\n./mvnw spring-boot:run  # App connects to Docker database\n\nNo more \"installing PostgreSQL\" instructions per OS! Just Docker."
            },
            {
              "type": "THEORY",
              "title": "Step 5: Install Postman (API Testing)",
              "content": "Postman = Test your REST APIs without writing frontend\n\nINSTALLATION:\n1. Download: https://www.postman.com/downloads/\n2. Install for your OS\n3. Launch Postman\n4. Sign up (free) or skip\n\nBASIC USAGE:\n1. Create new request\n2. Set method: GET, POST, PUT, DELETE\n3. Enter URL: http://localhost:8080/api/tasks\n4. Add headers (if needed):\n   Content-Type: application/json\n5. Add body (for POST/PUT):\n   {\n     \"title\": \"Test task\",\n     \"description\": \"Testing API\"\n   }\n6. Click Send\n7. View response\n\nALTERNATIVE: Use curl (command-line):\ncurl -X GET http://localhost:8080/api/tasks\ncurl -X POST http://localhost:8080/api/tasks \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"title\":\"Test\",\"description\":\"Testing\"}'\n\n✓ SUCCESS: Postman installed and opens"
            },
            {
              "type": "KEY_POINT",
              "title": "Step 6: Create Your First Spring Boot Project",
              "content": "USE SPRING INITIALIZR:\n\nMethod 1: Web Browser\n1. Go to: https://start.spring.io/\n\n2. Configure project:\n   - Project: Maven\n   - Language: Java\n   - Spring Boot: 3.3.x (latest stable)\n   - Group: com.yourname\n   - Artifact: taskmanager\n   - Packaging: Jar\n   - Java: 21\n\n3. Add Dependencies (click \"Add Dependencies\"):\n   - Spring Web\n   - Spring Data JPA\n   - PostgreSQL Driver (or H2 Database)\n   - Spring Security (optional for now)\n   - Spring Boot DevTools\n   - Validation\n\n4. Click \"Generate\" → Downloads taskmanager.zip\n\n5. Extract ZIP file\n\n6. Open in IDE:\n   IntelliJ: File → Open → Select folder\n   VS Code: File → Open Folder → Select folder\n\nMethod 2: IntelliJ IDEA (Built-in)\n1. File → New → Project\n2. Select: Spring Initializr\n3. Configure same as above\n4. Select dependencies\n5. Click Create\n\nMethod 3: VS Code Extension\n1. Ctrl+Shift+P → \"Spring Initializr: Create a Maven Project\"\n2. Follow prompts\n3. Select dependencies\n4. Choose folder location\n\n✓ SUCCESS: Project opens in IDE without errors"
            },
            {
              "type": "THEORY",
              "title": "Step 7: Understanding Project Structure",
              "content": "Your Spring Boot project structure:\n\ntaskmanager/\n├── src/\n│   ├── main/\n│   │   ├── java/\n│   │   │   └── com/yourname/taskmanager/\n│   │   │       ├── TaskmanagerApplication.java (Main class)\n│   │   │       ├── controller/  (REST controllers)\n│   │   │       ├── service/     (Business logic)\n│   │   │       ├── repository/  (Database access)\n│   │   │       └── model/       (Entities)\n│   │   └── resources/\n│   │       ├── application.yml  (Configuration)\n│   │       ├── static/          (CSS, JS, images)\n│   │       └── templates/       (HTML templates)\n│   └── test/\n│       └── java/\n│           └── com/yourname/taskmanager/\n│               └── TaskmanagerApplicationTests.java\n├── target/           (Compiled code - generated)\n├── pom.xml           (Maven dependencies)\n├── .gitignore        (Files to ignore in Git)\n└── README.md         (Project documentation)\n\nKEY FILES:\n\n1. TaskmanagerApplication.java:\n   Main entry point, has @SpringBootApplication\n   Don't modify unless you know what you're doing!\n\n2. pom.xml:\n   Lists all dependencies\n   Maven reads this to download libraries\n\n3. application.yml:\n   Database connection, port, logging config\n   YOU WILL EDIT THIS OFTEN!\n\n4. .gitignore:\n   Files Git should NOT track\n   (target/, .idea/, *.class, etc.)"
            },
            {
              "type": "THEORY",
              "title": "💻 Step 8: Configure Database Connection",
              "content": "```java\nEdit: src/main/resources/application.yml\n\nFOR POSTGRESQL:\nspring:\n  application:\n    name: taskmanager\n  datasource:\n    url: jdbc:postgresql://localhost:5432/taskmanager\n    username: taskuser\n    password: yourpassword\n    driver-class-name: org.postgresql.Driver\n  jpa:\n    hibernate:\n      ddl-auto: update  # Creates tables automatically\n    show-sql: true      # Shows SQL in console\n    properties:\n      hibernate:\n        format_sql: true  # Pretty-print SQL\nserver:\n  port: 8080\n\nFOR H2 DATABASE (In-Memory, Easier Start):\nspring:\n  application:\n    name: taskmanager\n  datasource:\n    url: jdbc:h2:mem:testdb\n    driver-class-name: org.h2.Driver\n    username: sa\n    password:\n  h2:\n    console:\n      enabled: true  # Access at http://localhost:8080/h2-console\n  jpa:\n    hibernate:\n      ddl-auto: create-drop  # Recreates DB on restart\n    show-sql: true\n\nIMPORTANT:\n- Replace 'yourpassword' with your actual password\n- Never commit passwords to Git!\n- Use environment variables in production\n```"
            },
            {
              "type": "THEORY",
              "title": "💻 Step 9: Test Your Setup",
              "content": "```java\nRUN THE APPLICATION:\n\nIntelliJ IDEA:\n1. Open TaskmanagerApplication.java\n2. Click green play button next to main method\n3. Or: Right-click → Run 'TaskmanagerApplication'\n\nVS Code:\n1. Open TaskmanagerApplication.java\n2. Click \"Run\" above main method\n3. Or: Press F5\n\nCommand Line:\n./mvnw spring-boot:run\n(Windows: mvnw.cmd spring-boot:run)\n\nEXPECTED OUTPUT:\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.3.0)\n\n...\nTomcat started on port 8080\nStarted TaskmanagerApplication in 2.5 seconds\n\n✓ SUCCESS: Application starts without errors!\n\nTEST IN BROWSER:\nOpen: http://localhost:8080\nExpected: \"Whitelabel Error Page\" (normal for new project)\n\nTEST DATABASE CONNECTION:\nIf you see SQL output in console → Database connected!\n\nTROUBLESHOOTING:\n❌ Port 8080 already in use:\n   Change in application.yml: server.port: 8081\n\n❌ Cannot connect to database:\n   1. Check PostgreSQL is running\n   2. Check username/password in application.yml\n   3. Check database exists: psql -U postgres -l\n\n❌ Java version error:\n   Ensure Java 21 is installed and JAVA_HOME is set\n```"
            },
            {
              "type": "THEORY",
              "title": "⚠️ Common Setup Mistakes",
              "content": "❌ MISTAKE 1: Wrong Java version\nDownloaded Java 8 instead of Java 21\nFIX: Download Java 21 from adoptium.net\n\n❌ MISTAKE 2: JAVA_HOME not set\nIDE can't find Java\nFIX: Set JAVA_HOME environment variable\n\n❌ MISTAKE 3: Forgot to start PostgreSQL\nApplication fails with connection error\nFIX: Start PostgreSQL service\n\n❌ MISTAKE 4: Hardcoded passwords in application.yml\nThen committed to GitHub (security risk!)\nFIX: Use environment variables or application-local.yml (in .gitignore)\n\n❌ MISTAKE 5: Installed too many tools at once\nOverwhelmed and confused\nFIX: Install one at a time, test each\n\n❌ MISTAKE 6: Skipped verification steps\nDon't know if tools work until much later\nFIX: Test each tool immediately after installing\n\n❌ MISTAKE 7: Used Community Edition expecting Ultimate features\nSome IntelliJ features require paid version\nFIX: Community Edition is sufficient for most projects"
            },
            {
              "type": "KEY_POINT",
              "title": "Step 10: Initialize Git Repository",
              "content": "Track your project with Git:\n\n1. NAVIGATE TO PROJECT:\ncd /path/to/taskmanager\n\n2. INITIALIZE GIT:\ngit init\n\n3. CHECK .gitignore:\nShould already exist (Spring Initializr creates it)\nShould include:\n- target/\n- .idea/\n- *.class\n- application-local.yml\n\n4. ADD FILES:\ngit add .\n\n5. FIRST COMMIT:\ngit commit -m \"Initial project setup\"\n\n6. CREATE GITHUB REPOSITORY:\n- Go to github.com\n- Click \"+\" → New repository\n- Name: taskmanager\n- Don't initialize with README (you already have files)\n- Click Create\n\n7. CONNECT TO GITHUB:\ngit remote add origin https://github.com/yourusername/taskmanager.git\ngit branch -M main\ngit push -u origin main\n\n✓ SUCCESS: Code is now on GitHub!\n\nCOMMIT REGULARLY:\ngit add .\ngit commit -m \"Add User entity\"\ngit push"
            }
          ],
          "challenges": []
        },
        {
          "id": "epoch-9-lesson-4",
          "title": "Lesson 9.4: Building Your Backend - Entities and Repositories",
          "moduleId": "module-10",
          "order": 4,
          "estimatedMinutes": 50,
          "difficulty": "advanced",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Data Layer Foundation",
              "content": "You've set up your project. Now let's build the data layer!\n\nTHE DATA LAYER (Bottom of the stack):\n\n1. ENTITIES (Java classes → Database tables)\n   @Entity, @Table, @Id, @Column\n   Example: User class → users table\n\n2. REPOSITORIES (Database access layer)\n   JpaRepository interface\n   Spring generates SQL automatically!\n\nWHY START HERE?\n✓ Foundation for everything else\n✓ Can test immediately (no UI needed)\n✓ Database schema auto-created by Hibernate\n✓ Easy to debug when isolated\n\nBUILD ORDER:\n1. Create User entity\n2. Create UserRepository\n3. Test with @SpringBootTest\n4. Create Task entity\n5. Create TaskRepository\n6. Test relationships\n\nLet's build from the ground up!"
            },
            {
              "type": "KEY_POINT",
              "title": "Entities and Repositories are Like Blueprint and Builder",
              "content": "ENTITY (The blueprint):\nDetailed architectural plan for a house\nLike: User class defines what a user looks like\nSpecifies: id, email, password, name, created date\n\n@Entity annotation = \"This is a blueprint for a database table\"\n@Id annotation = \"This is the house number (unique identifier)\"\n@Column = \"This is a room in the house\"\n\nREPOSITORY (The builder/contractor):\nThe construction crew that builds houses from blueprints\nLike: UserRepository saves/finds users in database\n\nsave() = Build a new house\nfindById() = Find house by address\nfindAll() = List all houses in neighborhood\ndelete() = Demolish a house\n\nSpring Data JPA = The crew manager\nYou just say \"build me a house\"\nSpring figures out HOW to do it (generates SQL)"
            },
            {
              "type": "THEORY",
              "title": "Step 1: Create the User Entity",
              "content": "Create: src/main/java/com/yourname/taskmanager/model/User.java\n\npackage com.yourname.taskmanager.model;\n\nimport jakarta.persistence.*;\nimport java.time.LocalDateTime;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Entity\n@Table(name = \"users\")\npublic class User {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    \n    @Column(nullable = false, unique = true, length = 255)\n    private String email;\n    \n    @Column(nullable = false)\n    private String password;  // Will be hashed!\n    \n    @Column(length = 100)\n    private String name;\n    \n    @Column(name = \"created_at\", updatable = false)\n    private LocalDateTime createdAt;\n    \n    @OneToMany(mappedBy = \"user\", cascade = CascadeType.ALL, orphanRemoval = true)\n    private List<Task> tasks = new ArrayList<>();\n    \n    // Default constructor (required by JPA)\n    public User() {\n    }\n    \n    // Constructor for creating new users\n    public User(String email, String password, String name) {\n        this.email = email;\n        this.password = password;\n        this.name = name;\n    }\n    \n    // Lifecycle callback: set timestamp before insert\n    @PrePersist\n    protected void onCreate() {\n        createdAt = LocalDateTime.now();\n    }\n    \n    // Getters and Setters\n    public Long getId() { return id; }\n    public void setId(Long id) { this.id = id; }\n    \n    public String getEmail() { return email; }\n    public void setEmail(String email) { this.email = email; }\n    \n    public String getPassword() { return password; }\n    public void setPassword(String password) { this.password = password; }\n    \n    public String getName() { return name; }\n    public void setName(String name) { this.name = name; }\n    \n    public LocalDateTime getCreatedAt() { return createdAt; }\n    \n    public List<Task> getTasks() { return tasks; }\n    public void setTasks(List<Task> tasks) { this.tasks = tasks; }\n}"
            },
            {
              "type": "THEORY",
              "title": "Understanding Entity Annotations",
              "content": "KEY ANNOTATIONS EXPLAINED:\n\n@Entity\n- Marks class as JPA entity\n- Hibernate will create database table for this class\n\n@Table(name = \"users\")\n- Specifies table name in database\n- Without this, table name = class name (\"User\")\n- Best practice: explicit table names\n\n@Id\n- Marks the primary key field\n- Every entity MUST have @Id\n\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n- Database auto-generates ID (1, 2, 3, ...)\n- IDENTITY = uses database auto-increment\n- Other options: SEQUENCE, AUTO, UUID\n\n@Column(nullable = false, unique = true, length = 255)\n- nullable = false → SQL: NOT NULL\n- unique = true → SQL: UNIQUE constraint\n- length = 255 → SQL: VARCHAR(255)\n- name = \"created_at\" → column name different from field name\n\n@OneToMany(mappedBy = \"user\", cascade = CascadeType.ALL)\n- One user has many tasks (1:N relationship)\n- mappedBy = \"user\" → Tasks have a 'user' field\n- cascade = ALL → Save/delete user cascades to tasks\n- orphanRemoval = true → Delete task if removed from list\n\n@PrePersist\n- Lifecycle callback: runs before INSERT\n- Automatically sets createdAt timestamp\n- Other callbacks: @PreUpdate, @PostLoad, etc."
            },
            {
              "type": "THEORY",
              "title": "Step 2: Create the Task Entity",
              "content": "Create: src/main/java/com/yourname/taskmanager/model/Task.java\n\npackage com.yourname.taskmanager.model;\n\nimport jakarta.persistence.*;\nimport java.time.LocalDateTime;\n\n@Entity\n@Table(name = \"tasks\")\npublic class Task {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    \n    @Column(nullable = false)\n    private String title;\n    \n    @Column(columnDefinition = \"TEXT\")\n    private String description;\n    \n    @Column(nullable = false)\n    private Boolean completed = false;\n    \n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"user_id\", nullable = false)\n    private User user;\n    \n    @Column(name = \"created_at\", updatable = false)\n    private LocalDateTime createdAt;\n    \n    @Column(name = \"updated_at\")\n    private LocalDateTime updatedAt;\n    \n    // Constructors\n    public Task() {}\n    \n    public Task(String title, String description, User user) {\n        this.title = title;\n        this.description = description;\n        this.user = user;\n        this.completed = false;\n    }\n    \n    // Lifecycle callbacks\n    @PrePersist\n    protected void onCreate() {\n        createdAt = LocalDateTime.now();\n        updatedAt = LocalDateTime.now();\n    }\n    \n    @PreUpdate\n    protected void onUpdate() {\n        updatedAt = LocalDateTime.now();\n    }\n    \n    // Getters and Setters\n    public Long getId() { return id; }\n    public void setId(Long id) { this.id = id; }\n    \n    public String getTitle() { return title; }\n    public void setTitle(String title) { this.title = title; }\n    \n    public String getDescription() { return description; }\n    public void setDescription(String description) { \n        this.description = description; \n    }\n    \n    public Boolean getCompleted() { return completed; }\n    public void setCompleted(Boolean completed) { \n        this.completed = completed; \n    }\n    \n    public User getUser() { return user; }\n    public void setUser(User user) { this.user = user; }\n    \n    public LocalDateTime getCreatedAt() { return createdAt; }\n    public LocalDateTime getUpdatedAt() { return updatedAt; }\n}"
            },
            {
              "type": "KEY_POINT",
              "title": "Understanding Relationships",
              "content": "@ManyToOne (Task side - many tasks to one user):\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = \"user_id\", nullable = false)\nprivate User user;\n\n- Many tasks belong to one user\n- FetchType.LAZY = Don't load user until accessed\n- JoinColumn = Creates 'user_id' foreign key column\n- nullable = false = Every task MUST have a user\n\n@OneToMany (User side - one user to many tasks):\n@OneToMany(mappedBy = \"user\", cascade = CascadeType.ALL)\nprivate List<Task> tasks = new ArrayList<>();\n\n- One user has many tasks\n- mappedBy = \"user\" = Task entity owns the relationship\n- cascade = ALL = Operations cascade (save, delete, etc.)\n- orphanRemoval = true = Delete orphaned tasks\n\nDATABASE RESULT:\nusers table:\n  id | email           | password | name\n  1  | alice@email.com | hashed   | Alice\n\ntasks table:\n  id | title      | description | completed | user_id\n  1  | Buy milk   | From store  | false     | 1\n  2  | Walk dog   | 30 minutes  | true      | 1\n\nLAZY vs EAGER Fetching:\nLAZY (recommended):\n- Loads relationship only when accessed\n- Better performance\n- Avoids N+1 query problem\n\nEAGER (use sparingly):\n- Loads relationship immediately\n- Can cause performance issues\n- Use only for small, always-needed data"
            },
            {
              "type": "THEORY",
              "title": "Step 3: Create UserRepository",
              "content": "Create: src/main/java/com/yourname/taskmanager/repository/UserRepository.java\n\npackage com.yourname.taskmanager.repository;\n\nimport com.yourname.taskmanager.model.User;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\nimport java.util.Optional;\n\n@Repository\npublic interface UserRepository extends JpaRepository<User, Long> {\n    \n    // Find user by email (for login)\n    Optional<User> findByEmail(String email);\n    \n    // Check if email already exists (for registration)\n    boolean existsByEmail(String email);\n    \n    // Find users by name containing (case-insensitive search)\n    List<User> findByNameContainingIgnoreCase(String name);\n}\n\nWHAT YOU GET FOR FREE:\nFrom JpaRepository<User, Long>:\n\nsave(User user) - Insert or update\nfindById(Long id) - Find by primary key\nfindAll() - Get all users\ncount() - Count total users\ndelete(User user) - Delete user\ndeleteById(Long id) - Delete by ID\nexistsById(Long id) - Check if exists\n\nSPRING GENERATES SQL AUTOMATICALLY!\nfindByEmail(\"alice@email.com\") becomes:\nSELECT * FROM users WHERE email = 'alice@email.com';\n\nexistsByEmail(\"bob@email.com\") becomes:\nSELECT COUNT(*) > 0 FROM users WHERE email = 'bob@email.com';\n\nNO SQL WRITING REQUIRED!"
            },
            {
              "type": "THEORY",
              "title": "Step 4: Create TaskRepository",
              "content": "Create: src/main/java/com/yourname/taskmanager/repository/TaskRepository.java\n\npackage com.yourname.taskmanager.repository;\n\nimport com.yourname.taskmanager.model.Task;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.stereotype.Repository;\nimport java.util.List;\n\n@Repository\npublic interface TaskRepository extends JpaRepository<Task, Long> {\n    \n    // Find all tasks for a specific user\n    List<Task> findByUserId(Long userId);\n    \n    // Find completed/incomplete tasks for user\n    List<Task> findByUserIdAndCompleted(Long userId, Boolean completed);\n    \n    // Find tasks with title containing text (case-insensitive)\n    List<Task> findByUserIdAndTitleContainingIgnoreCase(\n        Long userId, String searchTerm);\n    \n    // Count incomplete tasks for user\n    Long countByUserIdAndCompletedFalse(Long userId);\n    \n    // Check if task belongs to user (for authorization)\n    boolean existsByIdAndUserId(Long taskId, Long userId);\n    \n    // Custom JPQL query: Find tasks ordered by created date\n    @Query(\"SELECT t FROM Task t WHERE t.user.id = :userId \" +\n           \"ORDER BY t.createdAt DESC\")\n    List<Task> findRecentTasksByUserId(Long userId);\n    \n    // Native SQL query: Complex aggregation\n    @Query(value = \"SELECT COUNT(*) FROM tasks WHERE user_id = :userId \" +\n                   \"AND created_at > NOW() - INTERVAL '7 days'\",\n           nativeQuery = true)\n    Long countTasksCreatedLastWeek(Long userId);\n}\n\nQUERY METHOD NAMING CONVENTIONS:\nfindBy + Property + Condition\n\nfindByUserId → WHERE user_id = ?\nfindByTitleContaining → WHERE title LIKE '%?%'\nfindByCompletedFalse → WHERE completed = false\nfindByUserIdAndCompleted → WHERE user_id = ? AND completed = ?\ncountByUserIdAndCompletedFalse → SELECT COUNT(*) WHERE ...\nexistsByIdAndUserId → SELECT COUNT(*) > 0 WHERE ..."
            },
            {
              "type": "THEORY",
              "title": "💻 Testing Your Repositories",
              "content": "```java\nCreate a test to verify repositories work:\n\nsrc/test/java/com/yourname/taskmanager/repository/UserRepositoryTest.java\n\npackage com.yourname.taskmanager.repository;\n\nimport com.yourname.taskmanager.model.User;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\nimport java.util.Optional;\nimport static org.assertj.core.api.Assertions.assertThat;\n\n@DataJpaTest\nclass UserRepositoryTest {\n    \n    @Autowired\n    private UserRepository userRepository;\n    \n    @Test\n    void shouldSaveAndFindUser() {\n        // Create user\n        User user = new User(\"test@email.com\", \"password123\", \"Test User\");\n        \n        // Save to database\n        User saved = userRepository.save(user);\n        \n        // Verify ID was generated\n        assertThat(saved.getId()).isNotNull();\n        \n        // Find by ID\n        Optional<User> found = userRepository.findById(saved.getId());\n        assertThat(found).isPresent();\n        assertThat(found.get().getEmail()).isEqualTo(\"test@email.com\");\n    }\n    \n    @Test\n    void shouldFindUserByEmail() {\n        // Create and save user\n        User user = new User(\"alice@email.com\", \"password\", \"Alice\");\n        userRepository.save(user);\n        \n        // Find by email\n        Optional<User> found = userRepository.findByEmail(\"alice@email.com\");\n        assertThat(found).isPresent();\n        assertThat(found.get().getName()).isEqualTo(\"Alice\");\n    }\n    \n    @Test\n    void shouldCheckEmailExists() {\n        // Create and save user\n        User user = new User(\"bob@email.com\", \"password\", \"Bob\");\n        userRepository.save(user);\n        \n        // Check exists\n        assertThat(userRepository.existsByEmail(\"bob@email.com\")).isTrue();\n        assertThat(userRepository.existsByEmail(\"charlie@email.com\")).isFalse();\n    }\n}\n\nRUN TESTS:\nIntelliJ: Right-click test class → Run\nCommand line: ./mvnw test\n\n✓ All tests pass → Repositories work!\n❌ Tests fail → Check error messages, fix code\n```"
            },
            {
              "type": "THEORY",
              "title": "⚠️ Common Entity and Repository Mistakes",
              "content": "❌ MISTAKE 1: No default constructor\npublic class User {\n    // Only parameterized constructor\n    public User(String email) { ... }\n}\nFIX: JPA requires no-arg constructor:\npublic User() {}\n\n❌ MISTAKE 2: Forgot @Id annotation\nJPA doesn't know which field is the primary key\nFIX: Always mark primary key with @Id\n\n❌ MISTAKE 3: Storing plain text passwords\nprivate String password = \"password123\";  // NEVER!\nFIX: Hash passwords before storing (BCrypt)\n\n❌ MISTAKE 4: EAGER fetching relationships\n@OneToMany(fetch = FetchType.EAGER)\nCauses N+1 query problem, poor performance\nFIX: Use LAZY (default for @OneToMany)\n\n❌ MISTAKE 5: Exposing entities to controllers\nreturn userRepository.findAll();  // Returns password field!\nFIX: Use DTOs (Data Transfer Objects)\n\n❌ MISTAKE 6: Not handling Optional\nUser user = userRepository.findById(id);  // Compile error!\nFIX: Optional<User> user = userRepository.findById(id);\n      user.orElseThrow(() -> new NotFoundException(...));\n\n❌ MISTAKE 7: Circular references in JSON\nUser has tasks, Task has user → infinite loop!\nFIX: Use @JsonIgnore or DTOs"
            },
            {
              "type": "KEY_POINT",
              "title": "Best Practices Summary",
              "content": "ENTITIES:\n✓ Always provide no-arg constructor\n✓ Use @Table with explicit table name\n✓ Use @Column for nullable, unique, length constraints\n✓ Use LAZY fetching for relationships\n✓ Use @PrePersist/@PreUpdate for timestamps\n✓ Don't expose entities directly to API\n\nREPOSITORIES:\n✓ Extend JpaRepository<Entity, ID>\n✓ Use query method naming conventions\n✓ Use @Query for complex queries\n✓ Return Optional<T> for single results\n✓ Use @DataJpaTest for testing\n✓ Keep repositories thin (logic in service layer)\n\nDATABASE:\n✓ Use spring.jpa.hibernate.ddl-auto=update in dev\n✓ Use validate in production\n✓ Enable show-sql in development\n✓ Use indexes for frequently queried columns\n✓ Test with real database (PostgreSQL), not just H2\n\nNAMING:\n✓ Entity class: User (singular, PascalCase)\n✓ Table name: users (plural, snake_case)\n✓ Repository: UserRepository (Entity + Repository)\n✓ Package: model, repository (lowercase)"
            }
          ],
          "challenges": []
        },
        {
          "id": "epoch-9-lesson-5",
          "title": "Lesson 9.5: Services and Controllers - The Business Logic",
          "moduleId": "module-10",
          "order": 5,
          "estimatedMinutes": 55,
          "difficulty": "advanced",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "Moving Up the Stack",
              "content": "You have entities and repositories. Now add business logic!\n\nTHE LAYERED ARCHITECTURE:\n\n┌─────────────────────────────┐\n│ CONTROLLER (REST API)       │ ← We'll build this\n│ Handles HTTP requests       │\n│ @RestController             │\n├─────────────────────────────┤\n│ SERVICE (Business Logic)    │ ← We'll build this\n│ Validation, authorization   │\n│ @Service                    │\n├─────────────────────────────┤\n│ REPOSITORY (Database)       │ ✓ Already built!\n│ CRUD operations             │\n│ JpaRepository               │\n├─────────────────────────────┤\n│ DATABASE (PostgreSQL)       │ ✓ Already set up!\n│ Stores data                 │\n└─────────────────────────────┘\n\nPLUS: DTOs (Data Transfer Objects)\n- Never expose entities to clients!\n- DTOs control what data is sent/received\n\nGOAL: Build complete backend API!"
            },
            {
              "type": "KEY_POINT",
              "title": "Service and Controller are Like Restaurant Kitchen",
              "content": "CONTROLLER (The waiter):\nTakes orders from customers (HTTP requests)\nLike: \"I'd like a cheeseburger, please\"\nValidates: \"Sorry, we don't serve pizza\"\nReturns: Food to customer (HTTP response)\n\nSERVICE (The chef):\nPrepares the food (business logic)\nLike: Checks if ingredients available\n      Follows recipe (business rules)\n      Quality control\n\nREPOSITORY (The pantry/storage):\nStores and retrieves ingredients\nLike: Get cheese, get buns, store leftovers\n\nDTO (The menu item description):\nCustomer sees \"Cheeseburger - $10\"\nNOT: \"Ground beef (cost: $3), bun (cost: $0.50)...\"\nDTOs hide internal details!\n\nWORKFLOW:\n1. Customer orders via waiter (Controller)\n2. Waiter tells chef (Service)\n3. Chef gets ingredients from pantry (Repository)\n4. Chef prepares food (Business logic)\n5. Waiter serves customer (Response)"
            },
            {
              "type": "THEORY",
              "title": "Step 1: Create DTOs (Data Transfer Objects)",
              "content": "WHY DTOs?\n❌ DON'T return entities from REST API:\n- Exposes database structure\n- May leak sensitive data (passwords!)\n- Tight coupling\n- Circular reference issues (User → Task → User)\n\n✓ DO use DTOs:\n- Control exactly what data is sent/received\n- Hide sensitive fields\n- Validation annotations\n- Decouple API from database\n\nCreate: src/main/java/com/yourname/taskmanager/dto/UserDTO.java\n\npackage com.yourname.taskmanager.dto;\n\nimport jakarta.validation.constraints.Email;\nimport jakarta.validation.constraints.NotBlank;\nimport jakarta.validation.constraints.Size;\nimport java.time.LocalDateTime;\n\n// Response DTO - What we send to client\npublic class UserDTO {\n    private Long id;\n    private String email;\n    private String name;\n    private LocalDateTime createdAt;\n    // No password field! Security!\n    \n    // Constructors\n    public UserDTO() {}\n    \n    public UserDTO(Long id, String email, String name, LocalDateTime createdAt) {\n        this.id = id;\n        this.email = email;\n        this.name = name;\n        this.createdAt = createdAt;\n    }\n    \n    // Getters and Setters\n    public Long getId() { return id; }\n    public void setId(Long id) { this.id = id; }\n    \n    public String getEmail() { return email; }\n    public void setEmail(String email) { this.email = email; }\n    \n    public String getName() { return name; }\n    public void setName(String name) { this.name = name; }\n    \n    public LocalDateTime getCreatedAt() { return createdAt; }\n    public void setCreatedAt(LocalDateTime createdAt) { \n        this.createdAt = createdAt; \n    }\n}\n\n// Request DTO - What we receive from client\npublic class CreateUserRequest {\n    \n    @NotBlank(message = \"Email is required\")\n    @Email(message = \"Email must be valid\")\n    private String email;\n    \n    @NotBlank(message = \"Password is required\")\n    @Size(min = 8, message = \"Password must be at least 8 characters\")\n    private String password;\n    \n    @NotBlank(message = \"Name is required\")\n    @Size(max = 100, message = \"Name must be less than 100 characters\")\n    private String name;\n    \n    // Getters and Setters\n    public String getEmail() { return email; }\n    public void setEmail(String email) { this.email = email; }\n    \n    public String getPassword() { return password; }\n    public void setPassword(String password) { this.password = password; }\n    \n    public String getName() { return name; }\n    public void setName(String name) { this.name = name; }\n}"
            },
            {
              "type": "THEORY",
              "title": "Step 2: Create TaskDTO",
              "content": "Create: src/main/java/com/yourname/taskmanager/dto/TaskDTO.java\n\npackage com.yourname.taskmanager.dto;\n\nimport jakarta.validation.constraints.NotBlank;\nimport jakarta.validation.constraints.Size;\nimport java.time.LocalDateTime;\n\n// Response DTO\npublic class TaskDTO {\n    private Long id;\n    private String title;\n    private String description;\n    private Boolean completed;\n    private Long userId;\n    private LocalDateTime createdAt;\n    private LocalDateTime updatedAt;\n    \n    // Constructors\n    public TaskDTO() {}\n    \n    public TaskDTO(Long id, String title, String description, \n                   Boolean completed, Long userId,\n                   LocalDateTime createdAt, LocalDateTime updatedAt) {\n        this.id = id;\n        this.title = title;\n        this.description = description;\n        this.completed = completed;\n        this.userId = userId;\n        this.createdAt = createdAt;\n        this.updatedAt = updatedAt;\n    }\n    \n    // Getters and Setters (all fields)\n}\n\n// Request DTO for creating/updating tasks\npublic class TaskRequest {\n    \n    @NotBlank(message = \"Title is required\")\n    @Size(max = 255, message = \"Title must be less than 255 characters\")\n    private String title;\n    \n    @Size(max = 5000, message = \"Description too long\")\n    private String description;\n    \n    private Boolean completed;\n    \n    // Getters and Setters\n    public String getTitle() { return title; }\n    public void setTitle(String title) { this.title = title; }\n    \n    public String getDescription() { return description; }\n    public void setDescription(String description) { \n        this.description = description; \n    }\n    \n    public Boolean getCompleted() { return completed; }\n    public void setCompleted(Boolean completed) { \n        this.completed = completed; \n    }\n}\n\nVALIDATION ANNOTATIONS (2024-2025):\n@NotBlank - String cannot be null or empty\n@NotNull - Value cannot be null (but can be empty)\n@Email - Must be valid email format\n@Size(min=x, max=y) - Length constraints\n@Min(x) / @Max(y) - Number constraints\n@Pattern(regexp=\"...\") - Regex validation\n@Past / @Future - Date constraints"
            },
            {
              "type": "THEORY",
              "title": "Step 3: Create TaskService",
              "content": "Create: src/main/java/com/yourname/taskmanager/service/TaskService.java\n\npackage com.yourname.taskmanager.service;\n\nimport com.yourname.taskmanager.dto.TaskDTO;\nimport com.yourname.taskmanager.dto.TaskRequest;\nimport com.yourname.taskmanager.model.Task;\nimport com.yourname.taskmanager.model.User;\nimport com.yourname.taskmanager.repository.TaskRepository;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\n@Service\n@Transactional\npublic class TaskService {\n    \n    private final TaskRepository taskRepository;\n    \n    // Constructor injection (best practice)\n    public TaskService(TaskRepository taskRepository) {\n        this.taskRepository = taskRepository;\n    }\n    \n    // Get all tasks for user\n    public List<TaskDTO> getAllTasksForUser(Long userId) {\n        return taskRepository.findByUserId(userId)\n            .stream()\n            .map(this::convertToDTO)\n            .collect(Collectors.toList());\n    }\n    \n    // Get single task by ID\n    public TaskDTO getTaskById(Long taskId, Long userId) {\n        Task task = taskRepository.findById(taskId)\n            .orElseThrow(() -> new ResourceNotFoundException(\n                \"Task not found with id: \" + taskId));\n        \n        // Security check: ensure task belongs to user\n        if (!task.getUser().getId().equals(userId)) {\n            throw new ForbiddenException(\n                \"You don't have permission to access this task\");\n        }\n        \n        return convertToDTO(task);\n    }\n    \n    // Create new task\n    public TaskDTO createTask(TaskRequest request, Long userId) {\n        // Validation already done by @Valid in controller\n        \n        // Create entity\n        User user = new User();\n        user.setId(userId);  // In real app, fetch from UserService\n        \n        Task task = new Task();\n        task.setTitle(request.getTitle());\n        task.setDescription(request.getDescription());\n        task.setCompleted(false);  // Always false for new tasks\n        task.setUser(user);\n        \n        // Save to database\n        Task saved = taskRepository.save(task);\n        \n        return convertToDTO(saved);\n    }\n    \n    // Update existing task\n    public TaskDTO updateTask(Long taskId, TaskRequest request, Long userId) {\n        Task task = taskRepository.findById(taskId)\n            .orElseThrow(() -> new ResourceNotFoundException(\n                \"Task not found with id: \" + taskId));\n        \n        // Security check\n        if (!task.getUser().getId().equals(userId)) {\n            throw new ForbiddenException(\n                \"You don't have permission to update this task\");\n        }\n        \n        // Update fields (only if provided)\n        if (request.getTitle() != null) {\n            task.setTitle(request.getTitle());\n        }\n        if (request.getDescription() != null) {\n            task.setDescription(request.getDescription());\n        }\n        if (request.getCompleted() != null) {\n            task.setCompleted(request.getCompleted());\n        }\n        \n        // Save (triggers @PreUpdate)\n        Task updated = taskRepository.save(task);\n        \n        return convertToDTO(updated);\n    }\n    \n    // Delete task\n    public void deleteTask(Long taskId, Long userId) {\n        Task task = taskRepository.findById(taskId)\n            .orElseThrow(() -> new ResourceNotFoundException(\n                \"Task not found with id: \" + taskId));\n        \n        // Security check\n        if (!task.getUser().getId().equals(userId)) {\n            throw new ForbiddenException(\n                \"You don't have permission to delete this task\");\n        }\n        \n        taskRepository.delete(task);\n    }\n    \n    // Helper: Convert Entity to DTO\n    private TaskDTO convertToDTO(Task task) {\n        return new TaskDTO(\n            task.getId(),\n            task.getTitle(),\n            task.getDescription(),\n            task.getCompleted(),\n            task.getUser().getId(),\n            task.getCreatedAt(),\n            task.getUpdatedAt()\n        );\n    }\n}"
            },
            {
              "type": "KEY_POINT",
              "title": "Understanding @Transactional",
              "content": "@Transactional on class or method:\n\nWHAT IT DOES:\n- Opens database transaction at method start\n- Commits transaction if method succeeds\n- Rolls back transaction if exception thrown\n\nEXAMPLE:\n@Transactional\npublic void updateTask(...) {\n    Task task = taskRepository.findById(id);  // Query 1\n    task.setTitle(\"New title\");\n    taskRepository.save(task);                // Query 2\n    \n    // If this throws exception, both queries rollback!\n    sendNotification(task);\n}\n\nWITHOUT @Transactional:\n- Each query commits immediately\n- Can't rollback if something fails\n- LazyInitializationException errors\n\nBEST PRACTICE:\n✓ Put @Transactional on service methods (not repository)\n✓ Service methods = business logic boundaries\n✓ Keep transactions short (performance)\n✓ Use readOnly=true for read-only methods:\n  @Transactional(readOnly = true)"
            },
            {
              "type": "THEORY",
              "title": "Step 4: Create TaskController",
              "content": "Create: src/main/java/com/yourname/taskmanager/controller/TaskController.java\n\npackage com.yourname.taskmanager.controller;\n\nimport com.yourname.taskmanager.dto.TaskDTO;\nimport com.yourname.taskmanager.dto.TaskRequest;\nimport com.yourname.taskmanager.service.TaskService;\nimport jakarta.validation.Valid;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\nimport java.util.List;\n\n@RestController\n@RequestMapping(\"/api/tasks\")\n@CrossOrigin(origins = \"http://localhost:3000\")  // Allow frontend\npublic class TaskController {\n    \n    private final TaskService taskService;\n    \n    // Constructor injection\n    public TaskController(TaskService taskService) {\n        this.taskService = taskService;\n    }\n    \n    // GET /api/tasks - Get all tasks for current user\n    @GetMapping\n    public ResponseEntity<List<TaskDTO>> getAllTasks() {\n        // TODO: Get userId from authenticated user (Spring Security)\n        Long userId = 1L;  // Hardcoded for now\n        \n        List<TaskDTO> tasks = taskService.getAllTasksForUser(userId);\n        return ResponseEntity.ok(tasks);\n    }\n    \n    // GET /api/tasks/{id} - Get single task\n    @GetMapping(\"/{id}\")\n    public ResponseEntity<TaskDTO> getTaskById(@PathVariable Long id) {\n        Long userId = 1L;  // TODO: From auth\n        \n        TaskDTO task = taskService.getTaskById(id, userId);\n        return ResponseEntity.ok(task);\n    }\n    \n    // POST /api/tasks - Create new task\n    @PostMapping\n    public ResponseEntity<TaskDTO> createTask(\n            @Valid @RequestBody TaskRequest request) {\n        Long userId = 1L;  // TODO: From auth\n        \n        TaskDTO created = taskService.createTask(request, userId);\n        return ResponseEntity.status(HttpStatus.CREATED).body(created);\n    }\n    \n    // PUT /api/tasks/{id} - Update task\n    @PutMapping(\"/{id}\")\n    public ResponseEntity<TaskDTO> updateTask(\n            @PathVariable Long id,\n            @Valid @RequestBody TaskRequest request) {\n        Long userId = 1L;  // TODO: From auth\n        \n        TaskDTO updated = taskService.updateTask(id, request, userId);\n        return ResponseEntity.ok(updated);\n    }\n    \n    // DELETE /api/tasks/{id} - Delete task\n    @DeleteMapping(\"/{id}\")\n    public ResponseEntity<Void> deleteTask(@PathVariable Long id) {\n        Long userId = 1L;  // TODO: From auth\n        \n        taskService.deleteTask(id, userId);\n        return ResponseEntity.noContent().build();\n    }\n}\n\nKEY ANNOTATIONS:\n@RestController = @Controller + @ResponseBody\n@RequestMapping(\"/api/tasks\") = Base URL for all endpoints\n@GetMapping = Handle GET requests\n@PostMapping = Handle POST requests\n@PutMapping = Handle PUT requests\n@DeleteMapping = Handle DELETE requests\n@PathVariable = Extract from URL (/api/tasks/{id})\n@RequestBody = Parse JSON from request body\n@Valid = Trigger DTO validation\n@CrossOrigin = Allow requests from frontend domain"
            },
            {
              "type": "THEORY",
              "title": "Step 5: Create Custom Exceptions",
              "content": "Create: src/main/java/com/yourname/taskmanager/exception/ResourceNotFoundException.java\n\npackage com.yourname.taskmanager.exception;\n\npublic class ResourceNotFoundException extends RuntimeException {\n    public ResourceNotFoundException(String message) {\n        super(message);\n    }\n}\n\nCreate: src/main/java/com/yourname/taskmanager/exception/ForbiddenException.java\n\npackage com.yourname.taskmanager.exception;\n\npublic class ForbiddenException extends RuntimeException {\n    public ForbiddenException(String message) {\n        super(message);\n    }\n}\n\nCreate: src/main/java/com/yourname/taskmanager/exception/GlobalExceptionHandler.java\n\npackage com.yourname.taskmanager.exception;\n\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ProblemDetail;\nimport org.springframework.validation.FieldError;\nimport org.springframework.web.bind.MethodArgumentNotValidException;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.bind.annotation.RestControllerAdvice;\nimport java.util.HashMap;\nimport java.util.Map;\n\n@RestControllerAdvice\npublic class GlobalExceptionHandler {\n    \n    // Handle ResourceNotFoundException (404)\n    @ExceptionHandler(ResourceNotFoundException.class)\n    public ProblemDetail handleNotFound(ResourceNotFoundException ex) {\n        ProblemDetail problem = ProblemDetail.forStatusAndDetail(\n            HttpStatus.NOT_FOUND,\n            ex.getMessage()\n        );\n        problem.setTitle(\"Resource Not Found\");\n        return problem;\n    }\n    \n    // Handle ForbiddenException (403)\n    @ExceptionHandler(ForbiddenException.class)\n    public ProblemDetail handleForbidden(ForbiddenException ex) {\n        ProblemDetail problem = ProblemDetail.forStatusAndDetail(\n            HttpStatus.FORBIDDEN,\n            ex.getMessage()\n        );\n        problem.setTitle(\"Access Forbidden\");\n        return problem;\n    }\n    \n    // Handle validation errors (400)\n    @ExceptionHandler(MethodArgumentNotValidException.class)\n    public ProblemDetail handleValidation(\n            MethodArgumentNotValidException ex) {\n        Map<String, String> errors = new HashMap<>();\n        ex.getBindingResult().getAllErrors().forEach(error -> {\n            String fieldName = ((FieldError) error).getField();\n            String errorMessage = error.getDefaultMessage();\n            errors.put(fieldName, errorMessage);\n        });\n        \n        ProblemDetail problem = ProblemDetail.forStatusAndDetail(\n            HttpStatus.BAD_REQUEST,\n            \"Validation failed\"\n        );\n        problem.setTitle(\"Invalid Request\");\n        problem.setProperty(\"errors\", errors);\n        return problem;\n    }\n}"
            },
            {
              "type": "THEORY",
              "title": "💻 Testing Your API with Postman",
              "content": "```java\nNow test your complete backend!\n\n1. START APPLICATION:\n   Run TaskmanagerApplication.java\n   Check console: \"Started TaskmanagerApplication\"\n\n2. TEST CREATE TASK:\n   POST http://localhost:8080/api/tasks\n   Headers: Content-Type: application/json\n   Body:\n   {\n     \"title\": \"Buy groceries\",\n     \"description\": \"Milk, eggs, bread\"\n   }\n   \n   Expected: 201 Created\n   Response:\n   {\n     \"id\": 1,\n     \"title\": \"Buy groceries\",\n     \"description\": \"Milk, eggs, bread\",\n     \"completed\": false,\n     \"userId\": 1,\n     \"createdAt\": \"2025-01-15T10:30:00\",\n     \"updatedAt\": \"2025-01-15T10:30:00\"\n   }\n\n3. TEST GET ALL TASKS:\n   GET http://localhost:8080/api/tasks\n   \n   Expected: 200 OK\n   Response: Array of tasks\n\n4. TEST UPDATE TASK:\n   PUT http://localhost:8080/api/tasks/1\n   Body:\n   {\n     \"title\": \"Buy groceries\",\n     \"completed\": true\n   }\n   \n   Expected: 200 OK\n   Response: Updated task with completed=true\n\n5. TEST VALIDATION:\n   POST http://localhost:8080/api/tasks\n   Body:\n   {\n     \"title\": \"\"\n   }\n   \n   Expected: 400 Bad Request\n   Response:\n   {\n     \"status\": 400,\n     \"title\": \"Invalid Request\",\n     \"detail\": \"Validation failed\",\n     \"errors\": {\n       \"title\": \"Title is required\"\n     }\n   }\n\n6. TEST DELETE:\n   DELETE http://localhost:8080/api/tasks/1\n   \n   Expected: 204 No Content\n   (No response body)\n\n✓ ALL TESTS PASS = Backend is working!\n```"
            },
            {
              "type": "THEORY",
              "title": "⚠️ Common Service and Controller Mistakes",
              "content": "❌ MISTAKE 1: Business logic in controller\n@PostMapping\npublic Task create(@RequestBody Task task) {\n    if (taskRepository.existsByTitle(task.getTitle())) {\n        throw new Exception(\"Duplicate\");\n    }\n    return taskRepository.save(task);  // Logic in controller!\n}\nFIX: Move ALL business logic to service layer\n\n❌ MISTAKE 2: Returning entities from controller\nreturn userRepository.findAll();  // Exposes password!\nFIX: Always use DTOs\n\n❌ MISTAKE 3: No @Valid on @RequestBody\n@PostMapping\npublic Task create(@RequestBody TaskRequest request) {\n    // Validation annotations ignored!\n}\nFIX: @Valid @RequestBody TaskRequest request\n\n❌ MISTAKE 4: Not checking authorization\npublic void deleteTask(Long taskId) {\n    taskRepository.deleteById(taskId);  // Anyone can delete!\n}\nFIX: Check if task belongs to current user\n\n❌ MISTAKE 5: Wrong HTTP status codes\nreturn ResponseEntity.ok(created);  // Should be 201 Created\nFIX: Use appropriate status codes:\n- 200 OK (GET, PUT)\n- 201 Created (POST)\n- 204 No Content (DELETE)\n- 400 Bad Request (validation)\n- 404 Not Found\n- 403 Forbidden\n\n❌ MISTAKE 6: Not handling Optional\nTask task = taskRepository.findById(id);  // Compile error!\nFIX: .orElseThrow(() -> new ResourceNotFoundException(...))\n\n❌ MISTAKE 7: Swallowing exceptions\ntry {\n    taskService.delete(id);\n} catch (Exception e) {\n    // Silent failure - user never knows!\n}\nFIX: Let exceptions propagate to GlobalExceptionHandler"
            },
            {
              "type": "KEY_POINT",
              "title": "Best Practices Summary",
              "content": "SERVICE LAYER:\n✓ ALL business logic goes here\n✓ Validation, authorization, data transformation\n✓ Use @Service annotation\n✓ Use @Transactional for database operations\n✓ Convert entities to DTOs\n✓ Throw meaningful exceptions\n\nCONTROLLER LAYER:\n✓ Handle HTTP requests/responses only\n✓ Use @RestController\n✓ Use @Valid for DTO validation\n✓ Return DTOs, never entities\n✓ Use proper HTTP status codes\n✓ Keep methods thin (delegate to service)\n\nDTOs:\n✓ Separate DTOs for request and response\n✓ Add validation annotations (@NotBlank, @Email, etc.)\n✓ Never include sensitive data in response DTOs\n✓ Use meaningful names (CreateUserRequest, UserDTO)\n\nEXCEPTION HANDLING:\n✓ Create custom exceptions\n✓ Use @RestControllerAdvice for global handling\n✓ Use ProblemDetail (Spring 6+, RFC 7807)\n✓ Return consistent error format\n✓ Never expose stack traces to clients"
            }
          ],
          "challenges": []
        },
        {
          "id": "epoch-9-lesson-6",
          "title": "Lesson 9.6: Authentication - Securing Your API",
          "moduleId": "module-10",
          "order": 6,
          "estimatedMinutes": 60,
          "difficulty": "advanced",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "Why Authentication Matters",
              "content": "Right now, ANYONE can access your API!\n\nCURRENT PROBLEM:\nGET /api/tasks → Returns ALL tasks\nDELETE /api/tasks/123 → Deletes ANYONE's task\nNo login required!\n\nAUTHENTICATION = Who are you?\nAUTHORIZATION = What can you do?\n\nSPRING SECURITY 6 provides:\n✓ User registration and login\n✓ Password hashing (BCrypt)\n✓ Session management\n✓ Protection against common attacks\n✓ JWT token support (stateless auth)\n\nTWO APPROACHES:\n1. SESSION-BASED (Simpler, for beginners)\n   - Login creates session\n   - Session stored on server\n   - Good for traditional web apps\n\n2. TOKEN-BASED (JWT)\n   - Login returns JWT token\n   - Client sends token with each request\n   - Stateless, good for APIs\n\nLEARNING PATH:\nThis lesson: HTTP Basic Auth (simple, for testing)\nLater lessons: JWT tokens (production-ready)\n\nNOTE: Basic Auth is NOT recommended for production.\nWe use it here to understand Spring Security fundamentals.\nYou'll learn JWT (the production standard) in upcoming lessons!"
            },
            {
              "type": "KEY_POINT",
              "title": "Authentication is Like Airport Security",
              "content": "WITHOUT AUTHENTICATION (Current state):\nAnyone walks onto any airplane\nLike: Anyone can access /api/tasks\n\nWITH AUTHENTICATION:\n\n1. REGISTRATION (Create account):\n   Get a passport (one time)\n   Like: POST /api/auth/register\n   Stores: email, hashed password, name\n\n2. LOGIN (Authenticate):\n   Show passport at security\n   Like: POST /api/auth/login\n   Receives: Boarding pass (session/JWT)\n\n3. ACCESS PROTECTED RESOURCE:\n   Show boarding pass to board plane\n   Like: Send session cookie/JWT with request\n   Server checks: Is boarding pass valid?\n\n4. LOGOUT:\n   Destroy boarding pass\n   Like: POST /api/auth/logout\n   Session invalidated\n\nSECURITY CHECKPOINT = Spring Security Filter\nChecks every request before allowing access"
            },
            {
              "type": "THEORY",
              "title": "Step 1: Add Spring Security Dependency",
              "content": "Add to pom.xml:\n\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-security</artifactId>\n</dependency>\n\n<!-- For JWT (optional, advanced) -->\n<dependency>\n    <groupId>io.jsonwebtoken</groupId>\n    <artifactId>jjwt-api</artifactId>\n    <version>0.12.5</version>\n</dependency>\n<dependency>\n    <groupId>io.jsonwebtoken</groupId>\n    <artifactId>jjwt-impl</artifactId>\n    <version>0.12.5</version>\n    <scope>runtime</scope>\n</dependency>\n<dependency>\n    <groupId>io.jsonwebtoken</groupId>\n    <artifactId>jjwt-jackson</artifactId>\n    <version>0.12.5</version>\n    <scope>runtime</scope>\n</dependency>\n\nRESTART APPLICATION:\n./mvnw spring-boot:run\n\nWHAT CHANGED?\n- All endpoints now require authentication!\n- GET http://localhost:8080/api/tasks → 401 Unauthorized\n- Default user: \"user\"\n- Password: Printed in console logs\n  \"Using generated security password: abc123-def456-...\"\n\nTest with curl:\ncurl -u user:abc123-def456 http://localhost:8080/api/tasks"
            },
            {
              "type": "THEORY",
              "title": "Step 2: Update User Entity for Authentication",
              "content": "Modify User.java to implement UserDetails:\n\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport java.util.Collection;\nimport java.util.Collections;\n\n@Entity\n@Table(name = \"users\")\npublic class User implements UserDetails {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    \n    @Column(nullable = false, unique = true)\n    private String email;\n    \n    @Column(nullable = false)\n    private String password;  // Will be hashed!\n    \n    private String name;\n    \n    @Column(name = \"created_at\")\n    private LocalDateTime createdAt;\n    \n    @OneToMany(mappedBy = \"user\", cascade = CascadeType.ALL)\n    private List<Task> tasks = new ArrayList<>();\n    \n    // UserDetails methods (required by Spring Security)\n    @Override\n    public Collection<? extends GrantedAuthority> getAuthorities() {\n        return Collections.emptyList();  // No roles for now\n    }\n    \n    @Override\n    public String getUsername() {\n        return email;  // Use email as username\n    }\n    \n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n    \n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n    \n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n    \n    @Override\n    public boolean isEnabled() {\n        return true;\n    }\n    \n    // Regular getters/setters...\n}"
            },
            {
              "type": "THEORY",
              "title": "Step 3: Create UserService for Authentication",
              "content": "Create custom UserDetailsService:\n\npackage com.yourname.taskmanager.service;\n\nimport com.yourname.taskmanager.model.User;\nimport com.yourname.taskmanager.repository.UserRepository;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class UserService implements UserDetailsService {\n    \n    private final UserRepository userRepository;\n    private final PasswordEncoder passwordEncoder;\n    \n    public UserService(UserRepository userRepository,\n                      PasswordEncoder passwordEncoder) {\n        this.userRepository = userRepository;\n        this.passwordEncoder = passwordEncoder;\n    }\n    \n    // Required by Spring Security\n    @Override\n    public UserDetails loadUserByUsername(String email) \n            throws UsernameNotFoundException {\n        return userRepository.findByEmail(email)\n            .orElseThrow(() -> new UsernameNotFoundException(\n                \"User not found with email: \" + email));\n    }\n    \n    // Register new user\n    public User registerUser(String email, String password, String name) {\n        // Check if email already exists\n        if (userRepository.existsByEmail(email)) {\n            throw new IllegalArgumentException(\n                \"Email already registered: \" + email);\n        }\n        \n        // Hash password\n        String hashedPassword = passwordEncoder.encode(password);\n        \n        // Create user\n        User user = new User();\n        user.setEmail(email);\n        user.setPassword(hashedPassword);\n        user.setName(name);\n        \n        return userRepository.save(user);\n    }\n}"
            },
            {
              "type": "KEY_POINT",
              "title": "Step 4: Configure Spring Security",
              "content": "Create SecurityConfig.java:\n\npackage com.yourname.taskmanager.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n    \n    private final UserDetailsService userDetailsService;\n    \n    public SecurityConfig(UserDetailsService userDetailsService) {\n        this.userDetailsService = userDetailsService;\n    }\n    \n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) \n            throws Exception {\n        http\n            .csrf(csrf -> csrf.disable())  // Disable for API\n            .authorizeHttpRequests(auth -> auth\n                .requestMatchers(\"/api/auth/**\").permitAll()  // Public\n                .anyRequest().authenticated()  // Everything else requires auth\n            )\n            .sessionManagement(session -> session\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            )\n            .httpBasic();  // For testing with Postman\n        \n        return http.build();\n    }\n    \n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n    \n    @Bean\n    public AuthenticationManager authenticationManager(\n            AuthenticationConfiguration config) throws Exception {\n        return config.getAuthenticationManager();\n    }\n    \n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\n        provider.setUserDetailsService(userDetailsService);\n        provider.setPasswordEncoder(passwordEncoder());\n        return provider;\n    }\n}\n\nKEY CONCEPTS:\n- SecurityFilterChain: New in Spring Security 6 (replaces WebSecurityConfigurerAdapter)\n- .csrf().disable(): OK for stateless APIs\n- .permitAll(): No authentication required\n- .authenticated(): Must be logged in\n- SessionCreationPolicy.STATELESS: No sessions, use tokens\n- BCryptPasswordEncoder: Securely hash passwords"
            },
            {
              "type": "THEORY",
              "title": "Step 5: Create AuthController",
              "content": "Create authentication endpoints:\n\npackage com.yourname.taskmanager.controller;\n\nimport com.yourname.taskmanager.dto.LoginRequest;\nimport com.yourname.taskmanager.dto.RegisterRequest;\nimport com.yourname.taskmanager.dto.AuthResponse;\nimport com.yourname.taskmanager.service.UserService;\nimport com.yourname.taskmanager.model.User;\nimport jakarta.validation.Valid;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.web.bind.annotation.*;\n\n@RestController\n@RequestMapping(\"/api/auth\")\n@CrossOrigin(origins = \"http://localhost:3000\")\npublic class AuthController {\n    \n    private final UserService userService;\n    private final AuthenticationManager authenticationManager;\n    \n    public AuthController(UserService userService,\n                         AuthenticationManager authenticationManager) {\n        this.userService = userService;\n        this.authenticationManager = authenticationManager;\n    }\n    \n    // POST /api/auth/register\n    @PostMapping(\"/register\")\n    public ResponseEntity<AuthResponse> register(\n            @Valid @RequestBody RegisterRequest request) {\n        \n        User user = userService.registerUser(\n            request.getEmail(),\n            request.getPassword(),\n            request.getName()\n        );\n        \n        return ResponseEntity.ok(\n            new AuthResponse(\"User registered successfully\", user.getEmail())\n        );\n    }\n    \n    // POST /api/auth/login\n    @PostMapping(\"/login\")\n    public ResponseEntity<AuthResponse> login(\n            @Valid @RequestBody LoginRequest request) {\n        \n        // Authenticate user\n        Authentication authentication = authenticationManager.authenticate(\n            new UsernamePasswordAuthenticationToken(\n                request.getEmail(),\n                request.getPassword()\n            )\n        );\n        \n        // If we reach here, authentication succeeded\n        return ResponseEntity.ok(\n            new AuthResponse(\"Login successful\", request.getEmail())\n        );\n    }\n}\n\nCREATE DTOs:\n\n// RegisterRequest.java\npublic class RegisterRequest {\n    @NotBlank @Email\n    private String email;\n    \n    @NotBlank @Size(min = 8)\n    private String password;\n    \n    @NotBlank\n    private String name;\n    \n    // Getters/Setters\n}\n\n// LoginRequest.java\npublic class LoginRequest {\n    @NotBlank @Email\n    private String email;\n    \n    @NotBlank\n    private String password;\n    \n    // Getters/Setters\n}\n\n// AuthResponse.java\npublic class AuthResponse {\n    private String message;\n    private String email;\n    \n    // Constructor, Getters/Setters\n}"
            },
            {
              "type": "THEORY",
              "title": "💻 Step 6: Get Current User in Controllers",
              "content": "```java\nUpdate TaskController to use authenticated user:\n\nimport org.springframework.security.core.annotation.AuthenticationPrincipal;\nimport org.springframework.security.core.userdetails.UserDetails;\n\n@RestController\n@RequestMapping(\"/api/tasks\")\npublic class TaskController {\n    \n    private final TaskService taskService;\n    private final UserRepository userRepository;\n    \n    @GetMapping\n    public ResponseEntity<List<TaskDTO>> getAllTasks(\n            @AuthenticationPrincipal UserDetails userDetails) {\n        \n        // Get current user's ID\n        User user = userRepository.findByEmail(userDetails.getUsername())\n            .orElseThrow();\n        \n        List<TaskDTO> tasks = taskService.getAllTasksForUser(user.getId());\n        return ResponseEntity.ok(tasks);\n    }\n    \n    @PostMapping\n    public ResponseEntity<TaskDTO> createTask(\n            @Valid @RequestBody TaskRequest request,\n            @AuthenticationPrincipal UserDetails userDetails) {\n        \n        User user = userRepository.findByEmail(userDetails.getUsername())\n            .orElseThrow();\n        \n        TaskDTO created = taskService.createTask(request, user.getId());\n        return ResponseEntity.status(HttpStatus.CREATED).body(created);\n    }\n    \n    // Similar for other endpoints...\n}\n\n@AuthenticationPrincipal = Get currently logged-in user\nUserDetails = Spring Security interface\nuserDetails.getUsername() = Email (we set this in User.getUsername())\n```"
            },
            {
              "type": "THEORY",
              "title": "Testing Authentication with Postman",
              "content": "1. REGISTER USER:\n   POST http://localhost:8080/api/auth/register\n   Body:\n   {\n     \"email\": \"alice@email.com\",\n     \"password\": \"password123\",\n     \"name\": \"Alice\"\n   }\n   \n   Expected: 200 OK\n   Response: {\"message\": \"User registered successfully\"}\n\n2. LOGIN:\n   POST http://localhost:8080/api/auth/login\n   Body:\n   {\n     \"email\": \"alice@email.com\",\n     \"password\": \"password123\"\n   }\n   \n   Expected: 200 OK\n\n3. ACCESS PROTECTED ENDPOINT (with HTTP Basic Auth):\n   GET http://localhost:8080/api/tasks\n   \n   In Postman:\n   - Go to Authorization tab\n   - Type: Basic Auth\n   - Username: alice@email.com\n   - Password: password123\n   \n   Expected: 200 OK + your tasks\n\n4. WITHOUT AUTH:\n   GET http://localhost:8080/api/tasks\n   (No Authorization header)\n   \n   Expected: 401 Unauthorized"
            },
            {
              "type": "THEORY",
              "title": "⚠️ Common Authentication Mistakes",
              "content": "❌ MISTAKE 1: Storing plain passwords\nuser.setPassword(\"password123\");  // NEVER!\nFIX: Always use PasswordEncoder\n\n❌ MISTAKE 2: Comparing hashed passwords with ==\nif (user.getPassword().equals(inputPassword)) { }  // Wrong!\nFIX: Use passwordEncoder.matches(inputPassword, user.getPassword())\n\n❌ MISTAKE 3: Not disabling CSRF for APIs\nFor stateless APIs, CSRF protection causes issues\nFIX: .csrf().disable() in SecurityFilterChain\n\n❌ MISTAKE 4: Returning password in API responses\nreturn userRepository.findAll();  // Exposes passwords!\nFIX: Use DTOs without password field\n\n❌ MISTAKE 5: Weak passwords allowed\nNo validation on password strength\nFIX: @Size(min = 8) on DTO, consider regex pattern\n\n❌ MISTAKE 6: Not handling authentication failures\nUser gets generic \"401 Unauthorized\"\nFIX: Custom error messages in exception handler\n\n❌ MISTAKE 7: Hard-coding user IDs\nLong userId = 1L;  // Always user 1!\nFIX: Get from @AuthenticationPrincipal"
            },
            {
              "type": "KEY_POINT",
              "title": "Best Practices Summary",
              "content": "SECURITY:\n✓ ALWAYS hash passwords with BCryptPasswordEncoder\n✓ Never store passwords in plain text\n✓ Never return passwords in API responses\n✓ Use HTTPS in production (not HTTP)\n✓ Implement rate limiting on login endpoint\n✓ Add account lockout after failed attempts\n\nSPRING SECURITY 6:\n✓ Use SecurityFilterChain (not WebSecurityConfigurerAdapter)\n✓ SessionCreationPolicy.STATELESS for APIs\n✓ Implement UserDetailsService\n✓ Use @AuthenticationPrincipal to get current user\n✓ Disable CSRF for stateless APIs\n\nAUTHENTICATION FLOW:\n1. User registers → Password hashed → Stored in DB\n2. User logs in → AuthenticationManager validates\n3. If valid → User authenticated\n4. Protected endpoints → Check authentication\n5. @AuthenticationPrincipal → Get current user\n\nNEXT STEPS (Advanced):\n- Implement JWT tokens (stateless)\n- Add refresh tokens\n- Implement remember-me functionality\n- Add OAuth2 (Google, GitHub login)\n- Add role-based authorization (ADMIN, USER)"
            }
          ],
          "challenges": []
        },
        {
          "id": "epoch-9-lesson-7",
          "title": "Lesson 9.7: Frontend - Connecting to Your API",
          "moduleId": "module-10",
          "order": 7,
          "estimatedMinutes": 65,
          "difficulty": "advanced",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Frontend Layer",
              "content": "You have a complete backend API. Now build the UI!\n\nFRONTEND STACK (Modern 2024-2025):\n✓ HTML5 - Structure\n✓ CSS3 - Styling (Flexbox, Grid)\n✓ JavaScript ES6+ - Logic\n✓ Fetch API - HTTP requests (async/await)\n\nFILE STRUCTURE:\nsrc/main/resources/static/\n├── index.html        (Main page)\n├── login.html        (Login page)\n├── register.html     (Registration page)\n├── css/\n│   └── style.css     (All styles)\n└── js/\n    ├── auth.js       (Authentication logic)\n    ├── tasks.js      (Task CRUD operations)\n    └── api.js        (API helper functions)\n\nGOAL: Build a complete, working task manager UI!"
            },
            {
              "type": "KEY_POINT",
              "title": "Frontend is Like a Restaurant's Dining Room",
              "content": "BACKEND (Kitchen):\nPrepares food (processes data)\nHidden from customers\nLike: Spring Boot API\n\nFRONTEND (Dining room):\nWhat customers see and interact with\nBeautiful presentation\nEasy to use\nLike: HTML/CSS/JavaScript UI\n\nCOMMUNICATION:\nWaiter takes order (Fetch API)\nBrings to kitchen (POST /api/tasks)\nReturns food (JSON response)\nCustomer eats (UI displays data)\n\nBOTH NEEDED:\nKitchen without dining room = No customers\nDining room without kitchen = No food\nBackend without frontend = No users\nFrontend without backend = No data"
            },
            {
              "type": "THEORY",
              "title": "Step 1: Create Registration Page",
              "content": "Create: src/main/resources/static/register.html\n\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Register - Task Manager</title>\n    <link rel=\"stylesheet\" href=\"css/style.css\">\n</head>\n<body>\n    <div class=\"container\">\n        <div class=\"auth-box\">\n            <h1>Create Account</h1>\n            \n            <form id=\"registerForm\">\n                <div class=\"form-group\">\n                    <label for=\"name\">Name</label>\n                    <input type=\"text\" id=\"name\" required>\n                </div>\n                \n                <div class=\"form-group\">\n                    <label for=\"email\">Email</label>\n                    <input type=\"email\" id=\"email\" required>\n                </div>\n                \n                <div class=\"form-group\">\n                    <label for=\"password\">Password</label>\n                    <input type=\"password\" id=\"password\" required minlength=\"8\">\n                    <small>At least 8 characters</small>\n                </div>\n                \n                <button type=\"submit\" class=\"btn btn-primary\">Register</button>\n            </form>\n            \n            <p class=\"auth-link\">\n                Already have an account? <a href=\"login.html\">Login</a>\n            </p>\n            \n            <div id=\"message\" class=\"message\" style=\"display: none;\"></div>\n        </div>\n    </div>\n    \n    <script src=\"js/api.js\"></script>\n    <script src=\"js/auth.js\"></script>\n</body>\n</html>\n\nKEY HTML5 FEATURES:\n- <!DOCTYPE html> - HTML5 doctype\n- <meta charset=\"UTF-8\"> - Character encoding\n- <meta name=\"viewport\"> - Responsive design\n- type=\"email\" - Email validation\n- required - Field validation\n- minlength=\"8\" - Password strength"
            },
            {
              "type": "THEORY",
              "title": "Step 2: Create Login Page",
              "content": "Create: src/main/resources/static/login.html\n\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Login - Task Manager</title>\n    <link rel=\"stylesheet\" href=\"css/style.css\">\n</head>\n<body>\n    <div class=\"container\">\n        <div class=\"auth-box\">\n            <h1>Welcome Back</h1>\n            \n            <form id=\"loginForm\">\n                <div class=\"form-group\">\n                    <label for=\"email\">Email</label>\n                    <input type=\"email\" id=\"email\" required>\n                </div>\n                \n                <div class=\"form-group\">\n                    <label for=\"password\">Password</label>\n                    <input type=\"password\" id=\"password\" required>\n                </div>\n                \n                <button type=\"submit\" class=\"btn btn-primary\">Login</button>\n            </form>\n            \n            <p class=\"auth-link\">\n                Don't have an account? <a href=\"register.html\">Register</a>\n            </p>\n            \n            <div id=\"message\" class=\"message\" style=\"display: none;\"></div>\n        </div>\n    </div>\n    \n    <script src=\"js/api.js\"></script>\n    <script src=\"js/auth.js\"></script>\n</body>\n</html>"
            },
            {
              "type": "THEORY",
              "title": "Step 3: Create Main Task Page",
              "content": "Create: src/main/resources/static/index.html\n\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>My Tasks - Task Manager</title>\n    <link rel=\"stylesheet\" href=\"css/style.css\">\n</head>\n<body>\n    <nav class=\"navbar\">\n        <div class=\"container\">\n            <h1>Task Manager</h1>\n            <div>\n                <span id=\"userEmail\"></span>\n                <button onclick=\"logout()\" class=\"btn btn-secondary\">Logout</button>\n            </div>\n        </div>\n    </nav>\n    \n    <div class=\"container\">\n        <!-- Create Task Form -->\n        <div class=\"task-form\">\n            <h2>Create New Task</h2>\n            <form id=\"createTaskForm\">\n                <div class=\"form-group\">\n                    <label for=\"title\">Title</label>\n                    <input type=\"text\" id=\"title\" required>\n                </div>\n                \n                <div class=\"form-group\">\n                    <label for=\"description\">Description</label>\n                    <textarea id=\"description\" rows=\"3\"></textarea>\n                </div>\n                \n                <button type=\"submit\" class=\"btn btn-primary\">Add Task</button>\n            </form>\n        </div>\n        \n        <!-- Messages -->\n        <div id=\"message\" class=\"message\" style=\"display: none;\"></div>\n        \n        <!-- Task List -->\n        <div class=\"task-list\">\n            <h2>My Tasks</h2>\n            <div id=\"tasks\">\n                <div class=\"loading\">Loading tasks...</div>\n            </div>\n        </div>\n    </div>\n    \n    <script src=\"js/api.js\"></script>\n    <script src=\"js/tasks.js\"></script>\n</body>\n</html>\n\nSEMANTIC HTML:\n<nav> - Navigation bar\n<form> - User input\n<button> - Interactive elements\n<div class=\"task-list\"> - Content sections"
            },
            {
              "type": "THEORY",
              "title": "Step 4: Add Modern CSS Styling",
              "content": "Create: src/main/resources/static/css/style.css\n\n/* Modern CSS Reset */\n* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\n/* CSS Variables (2024 best practice) */\n:root {\n    --primary-color: #3b82f6;\n    --secondary-color: #6b7280;\n    --success-color: #10b981;\n    --danger-color: #ef4444;\n    --bg-color: #f9fafb;\n    --text-color: #1f2937;\n    --border-color: #e5e7eb;\n    --shadow: 0 1px 3px rgba(0,0,0,0.1);\n}\n\nbody {\n    font-family: system-ui, -apple-system, sans-serif;\n    background-color: var(--bg-color);\n    color: var(--text-color);\n    line-height: 1.6;\n}\n\n/* Container with max-width */\n.container {\n    max-width: 800px;\n    margin: 0 auto;\n    padding: 20px;\n}\n\n/* Modern Flexbox navbar */\n.navbar {\n    background: white;\n    box-shadow: var(--shadow);\n    padding: 1rem 0;\n    margin-bottom: 2rem;\n}\n\n.navbar .container {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n\n/* Form styling */\n.form-group {\n    margin-bottom: 1rem;\n}\n\n.form-group label {\n    display: block;\n    margin-bottom: 0.5rem;\n    font-weight: 500;\n}\n\n.form-group input,\n.form-group textarea {\n    width: 100%;\n    padding: 0.75rem;\n    border: 1px solid var(--border-color);\n    border-radius: 6px;\n    font-size: 1rem;\n}\n\n.form-group input:focus,\n.form-group textarea:focus {\n    outline: none;\n    border-color: var(--primary-color);\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n\n/* Button styles */\n.btn {\n    padding: 0.75rem 1.5rem;\n    border: none;\n    border-radius: 6px;\n    font-size: 1rem;\n    cursor: pointer;\n    transition: all 0.2s;\n}\n\n.btn-primary {\n    background: var(--primary-color);\n    color: white;\n}\n\n.btn-primary:hover {\n    background: #2563eb;\n}\n\n/* Task card with CSS Grid */\n.task-card {\n    background: white;\n    padding: 1.5rem;\n    margin-bottom: 1rem;\n    border-radius: 8px;\n    box-shadow: var(--shadow);\n    display: grid;\n    grid-template-columns: 1fr auto;\n    gap: 1rem;\n}\n\n.task-card.completed {\n    opacity: 0.6;\n}\n\n.task-card h3 {\n    margin-bottom: 0.5rem;\n}\n\n.task-actions {\n    display: flex;\n    gap: 0.5rem;\n    align-items: center;\n}\n\n/* Responsive design */\n@media (max-width: 768px) {\n    .task-card {\n        grid-template-columns: 1fr;\n    }\n}"
            },
            {
              "type": "KEY_POINT",
              "title": "Step 5: Create API Helper Module (Modern ES6+)",
              "content": "Create: src/main/resources/static/js/api.js\n\n// API Configuration\nconst API_BASE_URL = 'http://localhost:8080/api';\n\n// Get auth credentials from localStorage\nfunction getAuthHeader() {\n    const email = localStorage.getItem('userEmail');\n    const password = localStorage.getItem('userPassword');\n    \n    if (!email || !password) {\n        return null;\n    }\n    \n    // Basic Auth: base64(email:password)\n    const credentials = btoa(`${email}:${password}`);\n    return `Basic ${credentials}`;\n}\n\n// Generic API request function (2024 best practice)\nasync function apiRequest(endpoint, options = {}) {\n    const authHeader = getAuthHeader();\n    \n    const config = {\n        headers: {\n            'Content-Type': 'application/json',\n            ...(authHeader && { 'Authorization': authHeader }),\n            ...options.headers\n        },\n        ...options\n    };\n    \n    try {\n        const response = await fetch(`${API_BASE_URL}${endpoint}`, config);\n        \n        // Check for authentication errors\n        if (response.status === 401) {\n            localStorage.clear();\n            window.location.href = '/login.html';\n            throw new Error('Authentication failed');\n        }\n        \n        // Parse response\n        const data = response.status !== 204 ? await response.json() : null;\n        \n        if (!response.ok) {\n            throw new Error(data?.detail || data?.message || 'Request failed');\n        }\n        \n        return data;\n    } catch (error) {\n        console.error('API Error:', error);\n        throw error;\n    }\n}\n\n// Check if user is authenticated\nfunction isAuthenticated() {\n    return localStorage.getItem('userEmail') !== null;\n}\n\n// Redirect to login if not authenticated\nfunction requireAuth() {\n    if (!isAuthenticated()) {\n        window.location.href = '/login.html';\n    }\n}\n\nMODERN JAVASCRIPT FEATURES:\n- async/await (ES2017) - Clean asynchronous code\n- Template literals (`${var}`) - String interpolation\n- Arrow functions (() => {}) - Concise syntax\n- Destructuring ({...options}) - Spread operator\n- Optional chaining (data?.detail) - Null safety"
            },
            {
              "type": "THEORY",
              "title": "Step 6: Authentication Logic (Modern Async/Await)",
              "content": "Create: src/main/resources/static/js/auth.js\n\n// Register user\nasync function register(event) {\n    event.preventDefault();\n    \n    const name = document.getElementById('name').value;\n    const email = document.getElementById('email').value;\n    const password = document.getElementById('password').value;\n    \n    try {\n        const data = await apiRequest('/auth/register', {\n            method: 'POST',\n            body: JSON.stringify({ name, email, password })\n        });\n        \n        showMessage('Registration successful! Please login.', 'success');\n        \n        // Redirect to login after 2 seconds\n        setTimeout(() => {\n            window.location.href = '/login.html';\n        }, 2000);\n        \n    } catch (error) {\n        showMessage(error.message, 'error');\n    }\n}\n\n// Login user\nasync function login(event) {\n    event.preventDefault();\n    \n    const email = document.getElementById('email').value;\n    const password = document.getElementById('password').value;\n    \n    try {\n        const data = await apiRequest('/auth/login', {\n            method: 'POST',\n            body: JSON.stringify({ email, password })\n        });\n        \n        // Store credentials (Note: Use JWT in production!)\n        localStorage.setItem('userEmail', email);\n        localStorage.setItem('userPassword', password);\n        \n        // Redirect to tasks page\n        window.location.href = '/index.html';\n        \n    } catch (error) {\n        showMessage(error.message, 'error');\n    }\n}\n\n// Logout\nfunction logout() {\n    localStorage.clear();\n    window.location.href = '/login.html';\n}\n\n// Show message to user\nfunction showMessage(text, type) {\n    const messageEl = document.getElementById('message');\n    messageEl.textContent = text;\n    messageEl.className = `message ${type}`;\n    messageEl.style.display = 'block';\n    \n    setTimeout(() => {\n        messageEl.style.display = 'none';\n    }, 5000);\n}\n\n// Attach event listeners when page loads\ndocument.addEventListener('DOMContentLoaded', () => {\n    const registerForm = document.getElementById('registerForm');\n    const loginForm = document.getElementById('loginForm');\n    \n    if (registerForm) {\n        registerForm.addEventListener('submit', register);\n    }\n    \n    if (loginForm) {\n        loginForm.addEventListener('submit', login);\n    }\n});\n\nKEY PATTERNS:\n- async/await for cleaner code\n- try-catch for error handling\n- localStorage for session management\n- DOMContentLoaded for initialization"
            },
            {
              "type": "THEORY",
              "title": "💻 Step 7: Task Management Logic",
              "content": "```java\nCreate: src/main/resources/static/js/tasks.js\n\n// Load tasks when page loads\ndocument.addEventListener('DOMContentLoaded', async () => {\n    requireAuth();  // Redirect if not logged in\n    \n    // Display user email\n    const userEmail = localStorage.getItem('userEmail');\n    document.getElementById('userEmail').textContent = userEmail;\n    \n    // Load tasks\n    await loadTasks();\n    \n    // Attach form listener\n    document.getElementById('createTaskForm')\n        .addEventListener('submit', createTask);\n});\n\n// Load all tasks\nasync function loadTasks() {\n    try {\n        const tasks = await apiRequest('/tasks');\n        displayTasks(tasks);\n    } catch (error) {\n        showMessage('Failed to load tasks', 'error');\n    }\n}\n\n// Display tasks in UI\nfunction displayTasks(tasks) {\n    const container = document.getElementById('tasks');\n    \n    if (tasks.length === 0) {\n        container.innerHTML = '<p>No tasks yet. Create one above!</p>';\n        return;\n    }\n    \n    // Modern template literals and map\n    container.innerHTML = tasks.map(task => `\n        <div class=\"task-card ${task.completed ? 'completed' : ''}\">\n            <div class=\"task-content\">\n                <h3>${escapeHtml(task.title)}</h3>\n                <p>${escapeHtml(task.description || '')}</p>\n                <small>Created: ${new Date(task.createdAt).toLocaleDateString()}</small>\n            </div>\n            <div class=\"task-actions\">\n                <button onclick=\"toggleComplete(${task.id}, ${!task.completed})\" \n                        class=\"btn ${task.completed ? 'btn-secondary' : 'btn-success'}\">\n                    ${task.completed ? 'Undo' : 'Complete'}\n                </button>\n                <button onclick=\"deleteTask(${task.id})\" class=\"btn btn-danger\">\n                    Delete\n                </button>\n            </div>\n        </div>\n    `).join('');\n}\n\n// Create new task\nasync function createTask(event) {\n    event.preventDefault();\n    \n    const title = document.getElementById('title').value;\n    const description = document.getElementById('description').value;\n    \n    try {\n        await apiRequest('/tasks', {\n            method: 'POST',\n            body: JSON.stringify({ title, description })\n        });\n        \n        // Clear form\n        document.getElementById('createTaskForm').reset();\n        \n        showMessage('Task created!', 'success');\n        await loadTasks();  // Reload tasks\n        \n    } catch (error) {\n        showMessage(error.message, 'error');\n    }\n}\n\n// Toggle task completion\nasync function toggleComplete(taskId, completed) {\n    try {\n        await apiRequest(`/tasks/${taskId}`, {\n            method: 'PUT',\n            body: JSON.stringify({ completed })\n        });\n        \n        await loadTasks();\n    } catch (error) {\n        showMessage(error.message, 'error');\n    }\n}\n\n// Delete task\nasync function deleteTask(taskId) {\n    if (!confirm('Delete this task?')) return;\n    \n    try {\n        await apiRequest(`/tasks/${taskId}`, {\n            method: 'DELETE'\n        });\n        \n        showMessage('Task deleted', 'success');\n        await loadTasks();\n    } catch (error) {\n        showMessage(error.message, 'error');\n    }\n}\n\n// Prevent XSS attacks\nfunction escapeHtml(text) {\n    const div = document.createElement('div');\n    div.textContent = text;\n    return div.innerHTML;\n}\n\nfunction showMessage(text, type) {\n    const messageEl = document.getElementById('message');\n    messageEl.textContent = text;\n    messageEl.className = `message ${type}`;\n    messageEl.style.display = 'block';\n    setTimeout(() => messageEl.style.display = 'none', 3000);\n}\n```"
            },
            {
              "type": "THEORY",
              "title": "⚠️ Common Frontend Mistakes",
              "content": "❌ MISTAKE 1: Not escaping user input\ninnerHTML = task.title;  // XSS vulnerability!\nFIX: Use textContent or escapeHtml() function\n\n❌ MISTAKE 2: Not handling errors\nconst data = await fetch('/api/tasks');  // No try-catch!\nFIX: Always wrap fetch in try-catch\n\n❌ MISTAKE 3: Storing passwords in localStorage\nlocalStorage is NOT secure!\nFIX: Use JWT tokens instead (better security)\n\n❌ MISTAKE 4: Not checking response.ok\nconst data = await response.json();  // Might be error!\nFIX: Check if (!response.ok) throw error\n\n❌ MISTAKE 5: Forgetting async on function\nfunction loadTasks() { await fetch(...) }  // Error!\nFIX: async function loadTasks()\n\n❌ MISTAKE 6: Not clearing forms after submit\nForm still has old data\nFIX: form.reset() after successful submit\n\n❌ MISTAKE 7: Hardcoding URLs\nfetch('http://localhost:8080/api/tasks')\nFIX: Use const API_BASE_URL"
            },
            {
              "type": "KEY_POINT",
              "title": "Best Practices Summary (2024-2025)",
              "content": "MODERN JAVASCRIPT:\n✓ Use async/await (not .then() chains)\n✓ Use const/let (never var)\n✓ Use arrow functions\n✓ Use template literals for strings\n✓ Use ES6 modules (import/export)\n\nFETCH API:\n✓ Always wrap in try-catch\n✓ Check response.ok before parsing\n✓ Handle 401 (redirect to login)\n✓ Show user-friendly error messages\n\nSECURITY:\n✓ Escape all user input (prevent XSS)\n✓ Use HTTPS in production\n✓ Don't store sensitive data in localStorage\n✓ Implement CORS properly\n✓ Validate input on frontend AND backend\n\nCSS:\n✓ Use CSS variables for colors\n✓ Use Flexbox/Grid for layout\n✓ Make responsive with media queries\n✓ Use semantic HTML\n\nUX:\n✓ Show loading states\n✓ Display error messages clearly\n✓ Confirm destructive actions (delete)\n✓ Clear forms after submission\n✓ Provide feedback for all actions"
            }
          ],
          "challenges": []
        },
        {
          "id": "epoch-9-lesson-8",
          "title": "Lesson 9.8: Testing - Making Sure Everything Works",
          "moduleId": "module-10",
          "order": 8,
          "estimatedMinutes": 55,
          "difficulty": "advanced",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "Why Testing Matters",
              "content": "Your app works on your machine. But will it work tomorrow?\n\nWITHOUT TESTS:\n❌ Change breaks existing features (regression)\n❌ Don't know until users complain\n❌ Afraid to refactor code\n❌ Manual testing every time (slow!)\n\nWITH TESTS:\n✓ Catch bugs immediately\n✓ Refactor with confidence\n✓ Document how code should work\n✓ Run tests in seconds\n\nTESTING PYRAMID (2024-2025 Best Practice):\n       /\\\n      /  \\  End-to-End Tests (Few)\n     /    \\  - Full app + browser\n    /──────\\\n   /        \\  Integration Tests (Some)\n  /          \\  - Multiple layers together\n /────────────\\\n/              \\  Unit Tests (Many)\n────────────────  - Single class/method\n\nFOCUS: Unit and integration tests (fastest, most valuable)"
            },
            {
              "type": "KEY_POINT",
              "title": "Testing is Like Quality Control in Manufacturing",
              "content": "UNIT TESTS (Individual part inspection):\nTest each screw, bolt, wire individually\nLike: Test UserService.registerUser() method\nFast: Thousands per second\nIsolated: Doesn't need database\n\nINTEGRATION TESTS (Assembly line testing):\nTest parts working together\nLike: Test API endpoint → Service → Repository → Database\nSlower: Needs real database\nRealistic: Tests actual workflow\n\nEND-TO-END TESTS (Final product testing):\nTest complete car on road\nLike: Test frontend + backend + database together\nSlowest: Requires browser automation\nComprehensive: Tests user experience\n\nGOAL: Find defects before shipping!"
            },
            {
              "type": "THEORY",
              "title": "Step 1: Repository Testing with @DataJpaTest",
              "content": "Test database operations in isolation:\n\nCreate: src/test/java/com/yourname/taskmanager/repository/TaskRepositoryTest.java\n\npackage com.yourname.taskmanager.repository;\n\nimport com.yourname.taskmanager.model.Task;\nimport com.yourname.taskmanager.model.User;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\nimport org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManager;\nimport java.util.List;\nimport static org.assertj.core.api.Assertions.assertThat;\n\n@DataJpaTest  // Configures in-memory database\nclass TaskRepositoryTest {\n    \n    @Autowired\n    private TaskRepository taskRepository;\n    \n    @Autowired\n    private TestEntityManager entityManager;\n    \n    private User testUser;\n    \n    @BeforeEach\n    void setUp() {\n        // Create test user\n        testUser = new User();\n        testUser.setEmail(\"test@email.com\");\n        testUser.setPassword(\"password\");\n        testUser.setName(\"Test User\");\n        entityManager.persist(testUser);\n        entityManager.flush();\n    }\n    \n    @Test\n    void shouldSaveTask() {\n        // Given\n        Task task = new Task(\"Buy milk\", \"From store\", testUser);\n        \n        // When\n        Task saved = taskRepository.save(task);\n        \n        // Then\n        assertThat(saved.getId()).isNotNull();\n        assertThat(saved.getTitle()).isEqualTo(\"Buy milk\");\n        assertThat(saved.getCompleted()).isFalse();\n    }\n    \n    @Test\n    void shouldFindTasksByUserId() {\n        // Given\n        Task task1 = new Task(\"Task 1\", \"Desc 1\", testUser);\n        Task task2 = new Task(\"Task 2\", \"Desc 2\", testUser);\n        entityManager.persist(task1);\n        entityManager.persist(task2);\n        entityManager.flush();\n        \n        // When\n        List<Task> tasks = taskRepository.findByUserId(testUser.getId());\n        \n        // Then\n        assertThat(tasks).hasSize(2);\n        assertThat(tasks).extracting(Task::getTitle)\n            .containsExactlyInAnyOrder(\"Task 1\", \"Task 2\");\n    }\n    \n    @Test\n    void shouldCountIncompleteTasks() {\n        // Given\n        Task completed = new Task(\"Done\", \"Finished\", testUser);\n        completed.setCompleted(true);\n        Task incomplete = new Task(\"Todo\", \"Not done\", testUser);\n        entityManager.persist(completed);\n        entityManager.persist(incomplete);\n        entityManager.flush();\n        \n        // When\n        Long count = taskRepository.countByUserIdAndCompletedFalse(testUser.getId());\n        \n        // Then\n        assertThat(count).isEqualTo(1);\n    }\n}\n\nKEY CONCEPTS:\n@DataJpaTest - Auto-configures in-memory H2 database\nTestEntityManager - Helps create test data\n@BeforeEach - Runs before each test method\nassertThat() - AssertJ fluent assertions (modern style)"
            },
            {
              "type": "THEORY",
              "title": "Step 2: Service Testing with @SpringBootTest",
              "content": "Test business logic with mocked dependencies:\n\nCreate: src/test/java/com/yourname/taskmanager/service/TaskServiceTest.java\n\npackage com.yourname.taskmanager.service;\n\nimport com.yourname.taskmanager.dto.TaskDTO;\nimport com.yourname.taskmanager.dto.TaskRequest;\nimport com.yourname.taskmanager.exception.ForbiddenException;\nimport com.yourname.taskmanager.exception.ResourceNotFoundException;\nimport com.yourname.taskmanager.model.Task;\nimport com.yourname.taskmanager.model.User;\nimport com.yourname.taskmanager.repository.TaskRepository;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.junit.jupiter.MockitoExtension;\nimport java.util.Optional;\nimport static org.assertj.core.api.Assertions.assertThat;\nimport static org.assertj.core.api.Assertions.assertThatThrownBy;\nimport static org.mockito.ArgumentMatchers.any;\nimport static org.mockito.Mockito.*;\n\n@ExtendWith(MockitoExtension.class)\nclass TaskServiceTest {\n    \n    @Mock\n    private TaskRepository taskRepository;\n    \n    @InjectMocks\n    private TaskService taskService;\n    \n    @Test\n    void shouldCreateTask() {\n        // Given\n        TaskRequest request = new TaskRequest();\n        request.setTitle(\"Buy milk\");\n        request.setDescription(\"From store\");\n        \n        User user = new User();\n        user.setId(1L);\n        \n        Task savedTask = new Task(\"Buy milk\", \"From store\", user);\n        savedTask.setId(1L);\n        \n        when(taskRepository.save(any(Task.class))).thenReturn(savedTask);\n        \n        // When\n        TaskDTO result = taskService.createTask(request, 1L);\n        \n        // Then\n        assertThat(result.getTitle()).isEqualTo(\"Buy milk\");\n        assertThat(result.getCompleted()).isFalse();\n        verify(taskRepository).save(any(Task.class));\n    }\n    \n    @Test\n    void shouldThrowExceptionWhenTaskNotFound() {\n        // Given\n        when(taskRepository.findById(999L)).thenReturn(Optional.empty());\n        \n        // When/Then\n        assertThatThrownBy(() -> taskService.getTaskById(999L, 1L))\n            .isInstanceOf(ResourceNotFoundException.class)\n            .hasMessageContaining(\"Task not found\");\n    }\n    \n    @Test\n    void shouldThrowExceptionWhenUserNotOwner() {\n        // Given\n        User owner = new User();\n        owner.setId(1L);\n        \n        Task task = new Task(\"Task\", \"Desc\", owner);\n        task.setId(1L);\n        \n        when(taskRepository.findById(1L)).thenReturn(Optional.of(task));\n        \n        // When/Then\n        assertThatThrownBy(() -> taskService.getTaskById(1L, 2L))  // Different user!\n            .isInstanceOf(ForbiddenException.class)\n            .hasMessageContaining(\"permission\");\n    }\n}\n\nKEY CONCEPTS:\n@Mock - Creates mock object\n@InjectMocks - Injects mocks into tested class\nwhen().thenReturn() - Define mock behavior\nverify() - Check method was called\nassertThatThrownBy() - Test exceptions"
            },
            {
              "type": "KEY_POINT",
              "title": "Advanced Mockito: ArgumentCaptor - Capture & Inspect Arguments",
              "content": "ArgumentCaptor lets you CAPTURE arguments passed to mock methods and inspect them.\n\nWHEN TO USE:\n- Verify WHAT was passed to a method\n- Test complex object arguments\n- Verify multiple fields on argument objects\n\nEXAMPLE: Verify the exact Task object saved to database:\n\n@Test\nvoid shouldSetCorrectFieldsWhenCreatingTask() {\n    // Given\n    TaskRequest request = new TaskRequest();\n    request.setTitle(\"Buy groceries\");\n    request.setDescription(\"Milk, eggs, bread\");\n    \n    // Create ArgumentCaptor for Task class\n    ArgumentCaptor<Task> taskCaptor = ArgumentCaptor.forClass(Task.class);\n    \n    when(taskRepository.save(any(Task.class))).thenAnswer(invocation -> {\n        Task saved = invocation.getArgument(0);\n        saved.setId(1L);  // Simulate DB setting ID\n        return saved;\n    });\n    \n    // When\n    taskService.createTask(request, 1L);\n    \n    // Then - Capture what was actually passed to save()\n    verify(taskRepository).save(taskCaptor.capture());\n    \n    // Inspect the captured Task\n    Task capturedTask = taskCaptor.getValue();\n    assertThat(capturedTask.getTitle()).isEqualTo(\"Buy groceries\");\n    assertThat(capturedTask.getDescription()).isEqualTo(\"Milk, eggs, bread\");\n    assertThat(capturedTask.getCompleted()).isFalse();  // Default value\n    assertThat(capturedTask.getUser().getId()).isEqualTo(1L);\n}\n\nCAPTURE MULTIPLE CALLS:\n@Test\nvoid shouldSaveMultipleTasks() {\n    ArgumentCaptor<Task> captor = ArgumentCaptor.forClass(Task.class);\n    \n    // Method that calls save() multiple times\n    taskService.createBulkTasks(List.of(request1, request2, request3));\n    \n    // Capture ALL calls\n    verify(taskRepository, times(3)).save(captor.capture());\n    \n    // Get all captured values\n    List<Task> allCapturedTasks = captor.getAllValues();\n    assertThat(allCapturedTasks).hasSize(3);\n    assertThat(allCapturedTasks.get(0).getTitle()).isEqualTo(\"Task 1\");\n    assertThat(allCapturedTasks.get(1).getTitle()).isEqualTo(\"Task 2\");\n}"
            },
            {
              "type": "KEY_POINT",
              "title": "Advanced Mockito: @Spy - Partial Mocking",
              "content": "@Spy lets you mock SOME methods while keeping REAL behavior for others.\n\nMOCK vs SPY:\n@Mock: ALL methods return null/default (nothing is real)\n@Spy: ALL methods are REAL, but you can override specific ones\n\nWHEN TO USE:\n- Test real implementation with some behavior overridden\n- Test class with complex internal logic\n- Verify internal method calls\n\nEXAMPLE: Real service, but override external call:\n\n@ExtendWith(MockitoExtension.class)\nclass EmailServiceTest {\n    \n    @Spy  // Real EmailService, not mock!\n    private EmailService emailService;\n    \n    @Test\n    void shouldSendWelcomeEmailWithCorrectSubject() {\n        // Override only sendEmail() - keep everything else real!\n        doNothing().when(emailService).sendEmail(anyString(), anyString(), anyString());\n        \n        // Call real method\n        emailService.sendWelcomeEmail(\"user@email.com\", \"John\");\n        \n        // Verify sendEmail was called with correct subject\n        verify(emailService).sendEmail(\n            eq(\"user@email.com\"),\n            eq(\"Welcome, John!\"),\n            anyString()\n        );\n    }\n}\n\nSPY ON EXISTING OBJECT:\n// Create real object\nList<String> realList = new ArrayList<>();\n\n// Wrap with spy\nList<String> spyList = spy(realList);\n\n// Override specific behavior\nwhen(spyList.size()).thenReturn(100);  // Fake size\n\nspyList.add(\"hello\");  // Real add() is called\nspyList.add(\"world\");  // Real add() is called\n\nassertThat(spyList.size()).isEqualTo(100);  // Returns fake 100\nassertThat(spyList.get(0)).isEqualTo(\"hello\");  // Real data\n\n⚠️ GOTCHA with Spies:\n// This WON'T work on spy:\nwhen(spy.someMethod()).thenReturn(value);  // Calls real method!\n\n// Use this instead:\ndoReturn(value).when(spy).someMethod();  // Safe!"
            },
            {
              "type": "THEORY",
              "title": "Advanced Mockito: Answer & doAnswer for Dynamic Responses",
              "content": "Sometimes you need mock responses that depend on input arguments.\n\nANSWER - Return dynamic values based on input:\n\n@Test\nvoid shouldReturnTaskWithMatchingId() {\n    // Dynamic mock - returns Task with same ID as requested\n    when(taskRepository.findById(anyLong())).thenAnswer(invocation -> {\n        Long requestedId = invocation.getArgument(0);  // Get first argument\n        \n        Task task = new Task();\n        task.setId(requestedId);\n        task.setTitle(\"Task \" + requestedId);\n        return Optional.of(task);\n    });\n    \n    // Works for any ID!\n    Task task1 = taskService.getTaskById(1L, 1L);\n    Task task2 = taskService.getTaskById(42L, 1L);\n    \n    assertThat(task1.getId()).isEqualTo(1L);\n    assertThat(task2.getId()).isEqualTo(42L);\n}\n\nDO_ANSWER - For void methods:\n\n@Test\nvoid shouldLogDeletedTaskTitle() {\n    List<String> deletedTitles = new ArrayList<>();\n    \n    // Capture side effects of void method\n    doAnswer(invocation -> {\n        Task task = invocation.getArgument(0);\n        deletedTitles.add(task.getTitle());  // Record what was deleted\n        return null;\n    }).when(taskRepository).delete(any(Task.class));\n    \n    taskService.deleteTask(1L, 1L);\n    \n    assertThat(deletedTitles).contains(\"Task to delete\");\n}\n\nVERIFY CALL ORDER:\nInOrder inOrder = inOrder(taskRepository, auditService);\n\ntaskService.createTask(request, 1L);\n\n// Verify methods called in specific order\ninOrder.verify(taskRepository).save(any(Task.class));\ninOrder.verify(auditService).logTaskCreated(anyLong());"
            },
            {
              "type": "THEORY",
              "title": "Step 3: Controller Testing with @WebMvcTest",
              "content": "Test REST endpoints with MockMvc (2024-2025 best practice):\n\nCreate: src/test/java/com/yourname/taskmanager/controller/TaskControllerTest.java\n\npackage com.yourname.taskmanager.controller;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.yourname.taskmanager.dto.TaskDTO;\nimport com.yourname.taskmanager.dto.TaskRequest;\nimport com.yourname.taskmanager.service.TaskService;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\nimport org.springframework.boot.test.mock.mockito.MockBean;\nimport org.springframework.http.MediaType;\nimport org.springframework.security.test.context.support.WithMockUser;\nimport org.springframework.test.web.servlet.MockMvc;\nimport java.time.LocalDateTime;\nimport java.util.Arrays;\nimport java.util.List;\nimport static org.hamcrest.Matchers.hasSize;\nimport static org.mockito.ArgumentMatchers.any;\nimport static org.mockito.ArgumentMatchers.eq;\nimport static org.mockito.Mockito.when;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\n\n@WebMvcTest(TaskController.class)\nclass TaskControllerTest {\n    \n    @Autowired\n    private MockMvc mockMvc;\n    \n    @Autowired\n    private ObjectMapper objectMapper;\n    \n    @MockBean\n    private TaskService taskService;\n    \n    @Test\n    @WithMockUser(username = \"test@email.com\")\n    void shouldGetAllTasks() throws Exception {\n        // Given\n        TaskDTO task1 = new TaskDTO(1L, \"Task 1\", \"Desc 1\", \n                                     false, 1L, LocalDateTime.now(), LocalDateTime.now());\n        TaskDTO task2 = new TaskDTO(2L, \"Task 2\", \"Desc 2\", \n                                     true, 1L, LocalDateTime.now(), LocalDateTime.now());\n        List<TaskDTO> tasks = Arrays.asList(task1, task2);\n        \n        when(taskService.getAllTasksForUser(any())).thenReturn(tasks);\n        \n        // When/Then\n        mockMvc.perform(get(\"/api/tasks\"))\n            .andExpect(status().isOk())\n            .andExpect(jsonPath(\"$\", hasSize(2)))\n            .andExpect(jsonPath(\"$[0].title\").value(\"Task 1\"))\n            .andExpect(jsonPath(\"$[1].completed\").value(true));\n    }\n    \n    @Test\n    @WithMockUser\n    void shouldCreateTask() throws Exception {\n        // Given\n        TaskRequest request = new TaskRequest();\n        request.setTitle(\"New Task\");\n        request.setDescription(\"New Description\");\n        \n        TaskDTO created = new TaskDTO(1L, \"New Task\", \"New Description\",\n                                      false, 1L, LocalDateTime.now(), LocalDateTime.now());\n        \n        when(taskService.createTask(any(TaskRequest.class), any()))\n            .thenReturn(created);\n        \n        // When/Then\n        mockMvc.perform(post(\"/api/tasks\")\n                .contentType(MediaType.APPLICATION_JSON)\n                .content(objectMapper.writeValueAsString(request)))\n            .andExpect(status().isCreated())\n            .andExpect(jsonPath(\"$.title\").value(\"New Task\"))\n            .andExpect(jsonPath(\"$.completed\").value(false));\n    }\n    \n    @Test\n    @WithMockUser\n    void shouldReturnBadRequestForInvalidTask() throws Exception {\n        // Given - Invalid request (no title)\n        TaskRequest request = new TaskRequest();\n        request.setDescription(\"Only description\");\n        \n        // When/Then\n        mockMvc.perform(post(\"/api/tasks\")\n                .contentType(MediaType.APPLICATION_JSON)\n                .content(objectMapper.writeValueAsString(request)))\n            .andExpect(status().isBadRequest());\n    }\n    \n    @Test\n    void shouldReturn401WithoutAuthentication() throws Exception {\n        // When/Then - No @WithMockUser annotation\n        mockMvc.perform(get(\"/api/tasks\"))\n            .andExpect(status().isUnauthorized());\n    }\n}\n\nKEY CONCEPTS (2024-2025):\n@WebMvcTest - Test only web layer\nMockMvc - Simulate HTTP requests\n@WithMockUser - Mock authenticated user\njsonPath() - Test JSON response\nObjectMapper - Convert objects to JSON"
            },
            {
              "type": "KEY_POINT",
              "title": "Step 4: Integration Testing with @SpringBootTest",
              "content": "Test complete application with real database:\n\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@AutoConfigureTestDatabase\nclass TaskManagerIntegrationTest {\n    \n    @Autowired\n    private TestRestTemplate restTemplate;\n    \n    @Autowired\n    private TaskRepository taskRepository;\n    \n    @BeforeEach\n    void setUp() {\n        taskRepository.deleteAll();\n    }\n    \n    @Test\n    void shouldRegisterAndLoginUser() {\n        // Register\n        RegisterRequest register = new RegisterRequest();\n        register.setEmail(\"test@email.com\");\n        register.setPassword(\"password123\");\n        register.setName(\"Test User\");\n        \n        ResponseEntity<AuthResponse> registerResponse = \n            restTemplate.postForEntity(\"/api/auth/register\", \n                                      register, AuthResponse.class);\n        \n        assertThat(registerResponse.getStatusCode()).isEqualTo(HttpStatus.OK);\n        \n        // Login\n        LoginRequest login = new LoginRequest();\n        login.setEmail(\"test@email.com\");\n        login.setPassword(\"password123\");\n        \n        ResponseEntity<AuthResponse> loginResponse = \n            restTemplate.postForEntity(\"/api/auth/login\", \n                                      login, AuthResponse.class);\n        \n        assertThat(loginResponse.getStatusCode()).isEqualTo(HttpStatus.OK);\n    }\n    \n    @Test\n    void shouldCreateAndRetrieveTask() {\n        // Create authenticated request\n        HttpHeaders headers = new HttpHeaders();\n        headers.setBasicAuth(\"test@email.com\", \"password123\");\n        \n        TaskRequest request = new TaskRequest();\n        request.setTitle(\"Integration Test Task\");\n        \n        HttpEntity<TaskRequest> entity = new HttpEntity<>(request, headers);\n        \n        // Create task\n        ResponseEntity<TaskDTO> createResponse = \n            restTemplate.exchange(\"/api/tasks\", HttpMethod.POST, \n                                 entity, TaskDTO.class);\n        \n        assertThat(createResponse.getStatusCode()).isEqualTo(HttpStatus.CREATED);\n        \n        // Retrieve tasks\n        ResponseEntity<TaskDTO[]> getResponse = \n            restTemplate.exchange(\"/api/tasks\", HttpMethod.GET, \n                                 new HttpEntity<>(headers), TaskDTO[].class);\n        \n        assertThat(getResponse.getBody()).hasSize(1);\n        assertThat(getResponse.getBody()[0].getTitle())\n            .isEqualTo(\"Integration Test Task\");\n    }\n}\n\n@SpringBootTest - Loads entire application\nTestRestTemplate - Make real HTTP requests\nRANDOM_PORT - Avoid port conflicts"
            },
            {
              "type": "THEORY",
              "title": "Running Tests",
              "content": "RUN ALL TESTS:\n\nCommand line:\n./mvnw test\n\nIntelliJ IDEA:\n1. Right-click on src/test/java\n2. Select \"Run 'All Tests'\"\n\nVS Code:\n1. Click Testing icon in sidebar\n2. Click \"Run All Tests\"\n\nRUN SPECIFIC TEST:\n./mvnw test -Dtest=TaskServiceTest\n\nCONTINUOUS TESTING:\n./mvnw test --watch  # Reruns on file change\n\nTEST COVERAGE:\n./mvnw test jacoco:report\nOpen: target/site/jacoco/index.html\n\nEXPECTED OUTPUT:\n[INFO] Tests run: 15, Failures: 0, Errors: 0, Skipped: 0\n[INFO] BUILD SUCCESS\n\n✓ ALL GREEN = Ready to deploy!"
            },
            {
              "type": "THEORY",
              "title": "⚠️ Common Testing Mistakes",
              "content": "❌ MISTAKE 1: Not testing edge cases\nOnly testing happy path\nFIX: Test null, empty, invalid, boundary values\n\n❌ MISTAKE 2: Tests depend on each other\n@Test void test1() { ... }\n@Test void test2() { /* Assumes test1 ran */ }\nFIX: Each test should be independent\n\n❌ MISTAKE 3: Using real external services\nCalling real payment API in tests\nFIX: Mock external dependencies\n\n❌ MISTAKE 4: No assertions\n@Test void test() {\n    service.doSomething();  // What's being tested?\n}\nFIX: Always have assertions\n\n❌ MISTAKE 5: Testing too much in one test\n100-line test method testing everything\nFIX: One test per behavior\n\n❌ MISTAKE 6: Ignoring failing tests\n@Disabled  // \"Will fix later\" (never fixed)\nFIX: Fix or delete the test\n\n❌ MISTAKE 7: Not running tests before commit\nCommit broken code\nFIX: Always run ./mvnw test before git commit"
            },
            {
              "type": "KEY_POINT",
              "title": "Best Practices Summary (2024-2025)",
              "content": "TEST NAMING:\n✓ shouldDoSomethingWhenCondition()\n✓ givenCondition_whenAction_thenResult()\n✓ Clear, descriptive names\n\nTEST STRUCTURE (Given-When-Then):\n// Given - Set up test data\nTask task = new Task(...);\nwhen(repo.save(task)).thenReturn(task);\n\n// When - Execute action\nTaskDTO result = service.createTask(request, userId);\n\n// Then - Verify results\nassertThat(result.getTitle()).isEqualTo(\"Task\");\n\nANNOTATIONS:\n✓ @DataJpaTest - Repository tests\n✓ @WebMvcTest - Controller tests\n✓ @SpringBootTest - Integration tests\n✓ @BeforeEach - Setup before each test\n✓ @AfterEach - Cleanup after each test\n\nASSERTIONS:\n✓ Use AssertJ (assertThat) over JUnit assertions\n✓ Test one thing per assertion\n✓ Include clear failure messages\n\nCOVERAGE GOALS:\n✓ Aim for 70-80% code coverage\n✓ 100% on critical business logic\n✓ Focus on meaningful tests, not 100% coverage\n\nSPEED:\n✓ Unit tests: < 1 second\n✓ Integration tests: < 5 seconds\n✓ Use in-memory database (H2) for tests\n✓ Keep test suite under 30 seconds total"
            }
          ],
          "challenges": []
        },
        {
          "id": "epoch-9-lesson-9",
          "title": "Lesson 9.9: Deployment - From Local to Production",
          "moduleId": "module-10",
          "order": 9,
          "estimatedMinutes": 60,
          "difficulty": "advanced",
          "contentSections": [
            {
              "type": "THEORY",
              "title": "The Final Step: Deployment",
              "content": "Your app works locally. Now make it accessible to the world!\n\nDEPLOYMENT JOURNEY:\n\n1. LOCAL DEVELOPMENT:\n   - ./mvnw spring-boot:run\n   - Only you can access it\n   - Database on localhost\n\n2. CONTAINERIZATION (Docker):\n   - Package app + database together\n   - Runs the same everywhere\n   - Easy to deploy\n\n3. PRODUCTION ENVIRONMENT:\n   - Cloud server (AWS, Azure, Heroku)\n   - Real domain (taskmanager.com)\n   - HTTPS encryption\n   - Always available (99.9% uptime)\n\nGOAL: Deploy your task manager so others can use it!"
            },
            {
              "type": "KEY_POINT",
              "title": "Deployment is Like Publishing a Book",
              "content": "WRITING (Development):\nDraft on your computer\nOnly you can read it\nLike: Running on localhost:8080\n\nPRINTING (Building Docker image):\nConvert manuscript to printed books\nSame content, portable format\nLike: docker build creates image\n\nBOOKSTORE (Cloud server):\nPlace books on shelves\nAnyone can buy them\nLike: Deploy to AWS/Heroku\n\nISBN (Domain name):\ntaskmanager.com instead of localhost:8080\nLike: Custom domain\n\nDISTRIBUTION (CI/CD):\nAutomatic printing when you update draft\nLike: Auto-deploy on git push"
            },
            {
              "type": "THEORY",
              "title": "Step 1: Create Production-Ready Dockerfile",
              "content": "Create: Dockerfile (in project root)"
            },
            {
              "type": "THEORY",
              "title": "Multi-stage build for smaller image (2024-2025 best practice)",
              "content": "FROM eclipse-temurin:21-jdk-alpine AS builder\nWORKDIR /app"
            },
            {
              "type": "THEORY",
              "title": "Copy Maven wrapper and pom.xml first (for layer caching)",
              "content": "COPY .mvn/ .mvn/\nCOPY mvnw pom.xml ./"
            },
            {
              "type": "THEORY",
              "title": "Download dependencies (cached if pom.xml unchanged)",
              "content": "RUN ./mvnw dependency:go-offline"
            },
            {
              "type": "THEORY",
              "title": "Copy source code",
              "content": "COPY src ./src"
            },
            {
              "type": "THEORY",
              "title": "Build application",
              "content": "RUN ./mvnw clean package -DskipTests"
            },
            {
              "type": "THEORY",
              "title": "Production stage - smaller image",
              "content": "FROM eclipse-temurin:21-jre-alpine\nWORKDIR /app"
            },
            {
              "type": "THEORY",
              "title": "Create non-root user for security",
              "content": "RUN addgroup -S spring && adduser -S spring -G spring\nUSER spring:spring"
            },
            {
              "type": "THEORY",
              "title": "Copy JAR from builder",
              "content": "COPY --from=builder /app/target/*.jar app.jar"
            },
            {
              "type": "THEORY",
              "title": "Expose port",
              "content": "EXPOSE 8080"
            },
            {
              "type": "THEORY",
              "title": "Health check",
              "content": "HEALTHCHECK --interval=30s --timeout=3s --start-period=40s \\\n  CMD wget --no-verbose --tries=1 --spider http://localhost:8080/actuator/health || exit 1"
            },
            {
              "type": "THEORY",
              "title": "Run application",
              "content": "ENTRYPOINT [\"java\", \"-jar\", \"app.jar\"]\n\nKEY FEATURES:\n✓ Multi-stage build (smaller final image)\n✓ Layer caching (faster builds)\n✓ Non-root user (security)\n✓ Health check (monitoring)\n✓ Alpine Linux (lightweight)"
            },
            {
              "type": "THEORY",
              "title": "Step 2: Create Docker Compose Configuration",
              "content": "Create: docker-compose.yml\n\nversion: '3.8'\n\nservices:\n  # PostgreSQL Database\n  db:\n    image: postgres:15-alpine\n    container_name: taskmanager-db\n    environment:\n      POSTGRES_DB: taskmanager\n      POSTGRES_USER: ${DB_USER:-taskuser}\n      POSTGRES_PASSWORD: ${DB_PASSWORD:?Database password required}\n    volumes:\n      - postgres-data:/var/lib/postgresql/data\n    ports:\n      - \"5432:5432\"\n    healthcheck:\n      test: [\"CMD-SHELL\", \"pg_isready -U taskuser\"]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n    networks:\n      - taskmanager-network\n\n  # Spring Boot Application\n  app:\n    build:\n      context: .\n      dockerfile: Dockerfile\n    container_name: taskmanager-app\n    environment:\n      SPRING_PROFILES_ACTIVE: prod\n      SPRING_DATASOURCE_URL: jdbc:postgresql://db:5432/taskmanager\n      SPRING_DATASOURCE_USERNAME: ${DB_USER:-taskuser}\n      SPRING_DATASOURCE_PASSWORD: ${DB_PASSWORD:?Database password required}\n      SPRING_JPA_HIBERNATE_DDL_AUTO: validate\n      SERVER_PORT: 8080\n    ports:\n      - \"8080:8080\"\n    depends_on:\n      db:\n        condition: service_healthy\n    restart: unless-stopped\n    networks:\n      - taskmanager-network\n\nvolumes:\n  postgres-data:\n\nnetworks:\n  taskmanager-network:\n    driver: bridge\n\nKEY FEATURES:\n✓ Environment variables (secure secrets)\n✓ Health checks (wait for database)\n✓ Named volumes (persistent data)\n✓ Custom network (container communication)\n✓ Restart policy (automatic recovery)"
            },
            {
              "type": "KEY_POINT",
              "title": "Step 3: Environment Variables for Production",
              "content": "Create: .env (NEVER commit this file!)"
            },
            {
              "type": "THEORY",
              "title": "Database Configuration",
              "content": "DB_USER=taskuser\nDB_PASSWORD=super-secure-password-change-this"
            },
            {
              "type": "THEORY",
              "title": "Application Configuration",
              "content": "SPRING_PROFILES_ACTIVE=prod\n\nAdd to .gitignore:\n.env\n*.env\n\nCreate: .env.example (commit this one)"
            },
            {
              "type": "THEORY",
              "title": "Database Configuration",
              "content": "DB_USER=taskuser\nDB_PASSWORD=your-secure-password-here"
            },
            {
              "type": "THEORY",
              "title": "Application Configuration",
              "content": "SPRING_PROFILES_ACTIVE=prod\n\nWHY?\n✓ .env contains real secrets (never in Git)\n✓ .env.example shows what variables are needed\n✓ Team members copy .env.example to .env\n✓ Each environment has different .env file\n\nPRODUCTION SECRETS:\nOn AWS/Azure/Heroku:\n- Set environment variables in dashboard\n- Never hardcode in docker-compose.yml\n- Use secrets management (AWS Secrets Manager, etc.)"
            },
            {
              "type": "THEORY",
              "title": "Step 4: Deploy with Docker Compose",
              "content": "BUILD AND RUN:"
            },
            {
              "type": "THEORY",
              "title": "Build the Docker image",
              "content": "docker compose build"
            },
            {
              "type": "THEORY",
              "title": "Start all services (app + database)",
              "content": "docker compose up -d"
            },
            {
              "type": "THEORY",
              "title": "View logs",
              "content": "docker compose logs -f app"
            },
            {
              "type": "THEORY",
              "title": "Check status",
              "content": "docker compose ps\n\nExpected output:\nNAME                  IMAGE              STATUS\ntaskmanager-db        postgres:15-alpine  Up (healthy)\ntaskmanager-app       taskmanager_app     Up\n\nACCESS APPLICATION:\nhttp://localhost:8080\n\nVERIFY HEALTH:\ncurl http://localhost:8080/actuator/health\n{\n  \"status\": \"UP\",\n  \"components\": {\n    \"db\": {\"status\": \"UP\"},\n    \"diskSpace\": {\"status\": \"UP\"}\n  }\n}\n\nUSEFUL COMMANDS:\ndocker compose down          # Stop all services\ndocker compose down -v       # Stop and delete volumes\ndocker compose restart app   # Restart app only\ndocker compose exec app sh   # Shell into container\ndocker compose logs db       # Database logs"
            },
            {
              "type": "THEORY",
              "title": "Step 5: Cloud Deployment Options (2024-2025)",
              "content": "OPTION 1: HEROKU (Easiest, Paid Plans Only - Free Tier Discontinued 2022)\n\n1. Install Heroku CLI:\n   curl https://cli-assets.heroku.com/install.sh | sh\n\n2. Login:\n   heroku login\n\n3. Create app:\n   heroku create taskmanager-yourname\n\n4. Add PostgreSQL:\n   heroku addons:create heroku-postgresql:mini\n\n5. Set environment variables:\n   heroku config:set SPRING_PROFILES_ACTIVE=prod\n\n6. Deploy:\n   git push heroku main\n\n7. Open app:\n   heroku open\n\nURL: https://taskmanager-yourname.herokuapp.com\n\nOPTION 2: AWS (Professional, Scalable)\n\nUsing AWS Elastic Beanstalk:\n1. Package app: ./mvnw package\n2. Create Elastic Beanstalk application\n3. Upload JAR file\n4. Add RDS PostgreSQL database\n5. Configure environment variables\n\nOPTION 3: DIGITAL OCEAN (Simple, Affordable)\n\nUsing App Platform:\n1. Connect GitHub repository\n2. Configure build command: ./mvnw package\n3. Add managed PostgreSQL database\n4. Auto-deploys on git push\n\nOPTION 4: RAILWAY.APP (Modern, Developer-Friendly)\n\n1. Connect GitHub repo\n2. Add PostgreSQL service\n3. Auto-detects Spring Boot\n4. Deploys automatically\n\nCOST COMPARISON (2024-2025):\nHeroku: $5/month (Eco dyno) → $7/month (Basic)\nRailway: $5/month credit → $20+/month\nDigitalOcean: $5/month → $12+/month\nAWS: Pay-as-you-go (can be free tier eligible)"
            },
            {
              "type": "THEORY",
              "title": "Step 6: Production Checklist",
              "content": "BEFORE DEPLOYING TO PRODUCTION:\n\nSECURITY:\n☐ All passwords use BCrypt hashing\n☐ No secrets in Git repository\n☐ HTTPS enabled (not HTTP)\n☐ CORS configured for specific domain\n☐ SQL injection protection (JPA handles this)\n☐ XSS protection (frontend escapes HTML)\n☐ Rate limiting on login endpoint\n\nDATABASE:\n☐ ddl-auto set to 'validate' (NOT create-drop)\n☐ Database backups configured\n☐ Connection pool configured\n☐ Indexes on frequently queried columns\n\nMONITORING:\n☐ Spring Boot Actuator enabled\n☐ Health check endpoint working\n☐ Logging configured (not just console)\n☐ Error tracking (Sentry, Rollbar)\n☐ Uptime monitoring (UptimeRobot, Pingdom)\n\nPERFORMANCE:\n☐ Database queries optimized (no N+1)\n☐ Static files cached\n☐ Gzip compression enabled\n☐ Connection timeouts configured\n\nTESTING:\n☐ All tests passing (./mvnw test)\n☐ Manual testing in production-like environment\n☐ Load testing (optional but recommended)\n\nDOCUMENTATION:\n☐ README with setup instructions\n☐ API documentation (optional)\n☐ Environment variables documented"
            },
            {
              "type": "THEORY",
              "title": "💻 Step 7: CI/CD with GitHub Actions",
              "content": "```java\nAutomate deployment on every push to main:\n\nCreate: .github/workflows/deploy.yml\n\nname: Deploy to Production\n\non:\n  push:\n    branches: [ main ]\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      \n      - name: Set up JDK 21\n        uses: actions/setup-java@v4\n        with:\n          java-version: '21'\n          distribution: 'temurin'\n      \n      - name: Run tests\n        run: ./mvnw test\n\n  deploy:\n    needs: test\n    runs-on: ubuntu-latest\n    if: github.ref == 'refs/heads/main'\n    steps:\n      - uses: actions/checkout@v4\n      \n      - name: Deploy to Heroku\n        uses: akhileshns/heroku-deploy@v3.13.15\n        with:\n          heroku_api_key: ${{ secrets.HEROKU_API_KEY }}\n          heroku_app_name: \"taskmanager-yourname\"\n          heroku_email: \"your.email@example.com\"\n\nWORKFLOW:\n1. Push code to GitHub\n2. GitHub Actions runs tests\n3. If tests pass, deploys to Heroku\n4. Users see new version automatically\n\nADD HEROKU API KEY:\n1. Get key: heroku auth:token\n2. GitHub → Settings → Secrets → New secret\n3. Name: HEROKU_API_KEY\n4. Value: paste token\n```"
            },
            {
              "type": "THEORY",
              "title": "⚠️ Common Deployment Mistakes",
              "content": "❌ MISTAKE 1: Using development profile in production\nddl-auto: create-drop (deletes all data on restart!)\nFIX: SPRING_PROFILES_ACTIVE=prod, ddl-auto: validate\n\n❌ MISTAKE 2: Hardcoding database URL\nurl: jdbc:postgresql://localhost:5432/db\nFIX: Use environment variables\n\n❌ MISTAKE 3: No health checks\nContainer appears running but app is crashed\nFIX: Add HEALTHCHECK in Dockerfile\n\n❌ MISTAKE 4: Root user in container\nSecurity vulnerability\nFIX: Create non-root user in Dockerfile\n\n❌ MISTAKE 5: Exposing sensitive endpoints\n/actuator/env shows all environment variables!\nFIX: Restrict actuator endpoints in production\n\n❌ MISTAKE 6: No database backups\nData loss if server fails\nFIX: Configure automated backups\n\n❌ MISTAKE 7: Ignoring logs\nApp fails, no idea why\nFIX: Set up log monitoring (Papertrail, Loggly)\n\n❌ MISTAKE 8: No rollback plan\nDeployment breaks everything\nFIX: Keep previous version, test before full rollout"
            },
            {
              "type": "KEY_POINT",
              "title": "Best Practices Summary (2024-2025)",
              "content": "CONTAINERIZATION:\n✓ Use multi-stage Docker builds\n✓ Run as non-root user\n✓ Use Alpine Linux for smaller images\n✓ Add health checks\n✓ Use .dockerignore (exclude target/, node_modules/)\n\nCONFIGURATION:\n✓ Environment variables for all secrets\n✓ Different profiles (dev, test, prod)\n✓ Never commit .env files\n✓ Document required env vars in .env.example\n\nPRODUCTION:\n✓ Use managed database (don't self-host)\n✓ Enable HTTPS (Let's Encrypt is free)\n✓ Set up monitoring and alerts\n✓ Configure automated backups\n✓ Use CDN for static files\n\nCI/CD:\n✓ Automate testing (GitHub Actions, GitLab CI)\n✓ Auto-deploy on merge to main\n✓ Test before deploy\n✓ Easy rollback mechanism\n\nMONITORING:\n✓ Health check endpoints\n✓ Application performance monitoring (APM)\n✓ Error tracking (Sentry)\n✓ Uptime monitoring\n✓ Log aggregation (ELK, Papertrail)\n\nNEXT STEPS:\n- Add custom domain\n- Implement caching (Redis)\n- Add email notifications\n- Implement JWT for better auth\n- Add API rate limiting\n- Set up staging environment"
            }
          ],
          "challenges": []
        }
      ]
    }
  ]
}