{
  "type": "FREE_CODING",
  "id": "module-14-lesson-drf-challenge",
  "title": "Build a Task API with DRF",
  "description": "Create a REST API for a task management app using Django REST Framework. Implement serializers and viewsets for Task and Project models.",
  "instructions": "Build a Task API with DRF:\n1. Create a TaskSerializer with fields: id, title, completed, project (FK), project_name (computed), created_at\n2. Create a TaskViewSet that:\n   - Only shows the current user's tasks\n   - Sets the user automatically on create\n   - Has a custom action to mark a task as complete\n3. Register the viewset with a router",
  "language": "python",
  "testCases": [
    {
      "id": "test-1",
      "description": "Code runs without errors",
      "expectedOutput": "",
      "isVisible": true
    }
  ],
  "hints": [
    {
      "level": 1,
      "text": "Use serializers.CharField(source='project.name', read_only=True) to create a computed field from a related model."
    },
    {
      "level": 2,
      "text": "Override get_queryset() to filter: return Task.objects.filter(user=self.request.user)"
    },
    {
      "level": 3,
      "text": "For the complete action, use @action(detail=True, methods=['post']) - detail=True means it operates on a single object (requires pk)."
    }
  ],
  "commonMistakes": [
    {
      "mistake": "Forgetting to set basename in router.register()",
      "consequence": "Error when viewset doesn't have a queryset attribute",
      "correction": "router.register('tasks', TaskViewSet, basename='task')"
    },
    {
      "mistake": "Using detail=False for actions that operate on single objects",
      "consequence": "Action available at /tasks/complete/ instead of /tasks/{id}/complete/",
      "correction": "Use detail=True for actions that need a specific object"
    },
    {
      "mistake": "Not using select_related() in get_queryset()",
      "consequence": "N+1 query problem when accessing project.name",
      "correction": "Add .select_related('project') to eager-load the relationship"
    }
  ],
  "difficulty": "advanced"
}