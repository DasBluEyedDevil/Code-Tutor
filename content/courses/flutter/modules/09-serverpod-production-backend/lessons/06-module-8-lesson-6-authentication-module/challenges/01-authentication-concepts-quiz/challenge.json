{
  "type": "QUIZ",
  "id": "8.6-quiz-1",
  "title": "Authentication Concepts Quiz",
  "description": "Test your understanding of authentication concepts and Serverpod's auth module.",
  "questions": [
    {
      "id": "q1",
      "text": "What is the difference between authentication and authorization?",
      "options": [
        "They are the same thing",
        "Authentication verifies WHO you are, authorization verifies WHAT you can do",
        "Authentication is for mobile apps, authorization is for web apps",
        "Authentication uses passwords, authorization uses tokens"
      ],
      "correctAnswer": 1,
      "explanation": "Authentication (AuthN) verifies a user's identity - proving they are who they claim to be. Authorization (AuthZ) determines what actions an authenticated user is allowed to perform. You must authenticate first, then authorize specific actions."
    },
    {
      "id": "q2",
      "text": "Why should you use Serverpod's built-in auth module instead of building your own?",
      "options": [
        "It is faster to write code",
        "It handles security concerns like password hashing, secure tokens, and timing attacks",
        "It is required by Serverpod",
        "Custom auth is not possible in Dart"
      ],
      "correctAnswer": 1,
      "explanation": "Building authentication from scratch is dangerous because there are many subtle security concerns: proper password hashing, secure token generation, timing attack prevention, session management. Serverpod's auth module handles all of these with battle-tested implementations."
    },
    {
      "id": "q3",
      "text": "What special behavior does Apple Sign-In have regarding user email?",
      "options": [
        "It always provides the real email address",
        "It only provides the email on the first sign-in, not on subsequent logins",
        "It never provides the email address",
        "It requires a paid Apple Developer account to get email"
      ],
      "correctAnswer": 1,
      "explanation": "Apple only provides the user's email address on the FIRST sign-in. After that, subsequent sign-ins only include the user identifier. You must store the email when you first receive it, or you will lose access to it."
    },
    {
      "id": "q4",
      "text": "How do you check if a user is authenticated in a Serverpod endpoint?",
      "options": [
        "Check the HTTP headers manually",
        "Use session.auth.authenticatedUserId which returns null if not authenticated",
        "Call a separate authentication endpoint first",
        "Authentication is checked automatically for all endpoints"
      ],
      "correctAnswer": 1,
      "explanation": "The Session object passed to every endpoint method contains authentication information. Use session.auth.authenticatedUserId to get the user's ID - it returns null if the user is not authenticated."
    },
    {
      "id": "q5",
      "text": "What is a session token analogous to in the hotel key card analogy?",
      "options": [
        "The hotel lobby",
        "Your ID card that you show at check-in",
        "The key card you receive after check-in that grants access to your room",
        "The room itself"
      ],
      "correctAnswer": 2,
      "explanation": "A session token is like a hotel key card. You show your ID (password) at check-in (login), receive a key card (session token), and use that card to access your room (protected endpoints) without showing ID again until checkout (logout) or the card expires."
    }
  ],
  "difficulty": "intermediate"
}