{
  "type": "FREE_CODING",
  "id": "17.2-challenge-0",
  "title": "Build an Analytics Service",
  "description": "Create a comprehensive analytics service that wraps Firebase Analytics for clean, type-safe event tracking.",
  "instructions": "Create an AnalyticsService class that:\n\n1. Uses the singleton pattern with FirebaseAnalytics.instance\n2. Has a logScreenView() method that takes screenName and optional screenClass\n3. Has a logButtonTap() method that takes buttonName and optional screenName\n4. Has a logSearch() method that takes searchTerm and resultsCount\n5. Has a setUserTier() method that sets a 'user_tier' user property\n6. Has a logFeatureUsed() method that takes featureName and optional duration in seconds",
  "language": "dart",
  "testCases": [],
  "hints": [
    {
      "level": 1,
      "text": "Use a static final field for the singleton instance and a factory constructor"
    },
    {
      "level": 2,
      "text": "FirebaseAnalytics.instance gives you the analytics instance to work with"
    },
    {
      "level": 3,
      "text": "Use logEvent for custom events with name and parameters map"
    }
  ],
  "commonMistakes": [
    {
      "mistake": "Using spaces or hyphens in event names",
      "consequence": "Firebase rejects the event or it fails silently",
      "correction": "Use snake_case for event names (button_tap, not button-tap)"
    },
    {
      "mistake": "Forgetting to await async analytics calls",
      "consequence": "Events may not be logged if app closes quickly",
      "correction": "Always await logEvent, setUserProperty, and other analytics methods"
    }
  ],
  "difficulty": "intermediate"
}