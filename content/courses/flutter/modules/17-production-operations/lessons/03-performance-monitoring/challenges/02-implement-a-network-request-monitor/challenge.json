{
  "type": "FREE_CODING",
  "id": "17.3-challenge-1",
  "title": "Implement a Network Request Monitor",
  "description": "Create an HTTP client wrapper that automatically monitors all network requests with Firebase Performance.",
  "instructions": "Create a MonitoredApiClient class that:\n\n1. Takes an optional http.Client in its constructor (for testing)\n2. Has a get(url, headers) method that performs GET with monitoring\n3. Has a post(url, headers, body) method that performs POST with monitoring\n4. Each request should track: URL, HTTP method, response status code, response size\n5. Include a getRequestStats() method that returns total requests, successful requests, and average response time in milliseconds\n6. Track statistics internally (don't need Firebase for stats, just the HTTP metrics)",
  "language": "dart",
  "testCases": [],
  "hints": [
    {
      "level": 1,
      "text": "Use a Stopwatch to measure response time for your internal statistics"
    },
    {
      "level": 2,
      "text": "Create a shared _monitoredRequest method to avoid code duplication between get and post"
    },
    {
      "level": 3,
      "text": "Use try/catch/finally to ensure metrics are stopped and stats updated even on failure"
    }
  ],
  "commonMistakes": [
    {
      "mistake": "Not tracking failed requests in statistics",
      "consequence": "Statistics don't reflect actual performance including failures",
      "correction": "Increment totalRequests in both success and catch blocks"
    },
    {
      "mistake": "Forgetting to stop the HTTP metric on error",
      "consequence": "Metrics leak and performance data is incomplete",
      "correction": "Always call metric.stop() in a finally block"
    }
  ],
  "difficulty": "intermediate"
}