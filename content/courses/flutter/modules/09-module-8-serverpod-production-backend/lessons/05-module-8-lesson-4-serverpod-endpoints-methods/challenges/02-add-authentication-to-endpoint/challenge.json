{
  "type": "FREE_CODING",
  "id": "8.4-challenge-2",
  "title": "Add Authentication to Endpoint",
  "description": "Create a secure endpoint that requires user authentication.",
  "instructions": "Create a NoteEndpoint where:\n\n1. All methods require authentication (use requireLogin getter)\n2. getMyNotes() returns only notes belonging to the authenticated user\n3. createNote() automatically sets the authorId to the current user\n4. deleteNote() only allows deleting own notes (check authorId matches)\n\nHandle authentication errors with appropriate exceptions.",
  "language": "dart",
  "testCases": [],
  "hints": [
    {
      "level": 1,
      "text": "Override the requireLogin getter to return true"
    },
    {
      "level": 2,
      "text": "Use session.auth.authenticatedUserId to get the current user's ID"
    },
    {
      "level": 3,
      "text": "Before deleting, compare note.authorId with the authenticated user's ID"
    }
  ],
  "commonMistakes": [
    {
      "mistake": "Not checking ownership before delete/update operations",
      "consequence": "Users can modify or delete other users' data",
      "correction": "Always verify the resource's authorId matches the authenticated user"
    }
  ],
  "difficulty": "intermediate"
}