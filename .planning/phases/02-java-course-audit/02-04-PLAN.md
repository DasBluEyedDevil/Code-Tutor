---
phase: 02-java-course-audit
plan: 04
type: execute
wave: 2
depends_on: ["02-01"]
files_modified:
  - content/courses/java/modules/06-streams-functional-programming/**/content/*.md
  - content/courses/java/modules/06-streams-functional-programming/**/challenges/**
  - content/courses/java/modules/07-concurrency-virtual-threads/**/content/*.md
  - content/courses/java/modules/07-concurrency-virtual-threads/**/challenges/**
  - content/courses/java/modules/08-testing-and-build-tools/**/content/*.md
  - content/courses/java/modules/08-testing-and-build-tools/**/challenges/**
  - content/courses/java/modules/09-databases-and-sql/**/content/*.md
  - content/courses/java/modules/09-databases-and-sql/**/challenges/**
autonomous: true

must_haves:
  truths:
    - "Every content file in Modules 06-09 uses IO.println exclusively"
    - "Virtual threads lesson presents them as standard Java 25 (not 'Java 21 preview')"
    - "Testing module uses @MockitoBean instead of @MockBean"
    - "JDBC examples in Module 09 use IO.println and modern patterns"
    - "All version references in Modules 06-09 updated to Java 25"
  artifacts:
    - path: "content/courses/java/modules/07-concurrency-virtual-threads/lessons/05-lesson-c5-virtual-threads/"
      provides: "Virtual threads lesson without Java 21 version tag"
      contains: "IO.println"
    - path: "content/courses/java/modules/08-testing-and-build-tools/"
      provides: "Testing content with @MockitoBean"
      contains: "@MockitoBean"
  key_links:
    - from: "Module 08 testing content"
      to: "@MockitoBean annotation"
      via: "Spring Boot 4.0.x compatibility"
      pattern: "@MockitoBean"
---

<objective>
Migrate Modules 06-09 (Streams/FP, Concurrency, Testing/Build, Databases) to Java 25 standards. These are the "intermediate core" modules covering deeper Java topics before Spring Boot.

Purpose: These 4 modules contain 23 lessons and 35 challenges. Module 07 has critical virtual threads content that must be updated from "Java 21 feature" to "standard Java." Module 08 has @MockBean that must become @MockitoBean for Spring Boot 4.0.x compatibility.

Output: All content and challenge files in Modules 06-09 updated to Java 25 standards.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-java-course-audit/02-CONTEXT.md
@.planning/phases/02-java-course-audit/02-RESEARCH.md
@.planning/phases/02-java-course-audit/02-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate Modules 06-07 (Streams/FP, Concurrency) to Java 25</name>
  <files>
    content/courses/java/modules/06-streams-functional-programming/**/content/*.md
    content/courses/java/modules/06-streams-functional-programming/**/challenges/**
    content/courses/java/modules/07-concurrency-virtual-threads/**/content/*.md
    content/courses/java/modules/07-concurrency-virtual-threads/**/challenges/**
    content/courses/java/modules/07-concurrency-virtual-threads/module.json
  </files>
  <action>
    Module 06 has 5 lessons, 10 challenges. Module 07 has 5 lessons, 10 challenges.

    **Module 06 (Streams/Functional Programming):**
    For all 5 lessons:
    1. Replace all System.out.println with IO.println (this module has HEAVY usage -- every example file)
    2. Remove any "Java 8" framing for lambdas, functional interfaces, streams
    3. Present Optional, collectors, and advanced stream operations as standard Java patterns
    4. Ensure code examples use full class syntax

    For all 10 challenges:
    - Update solution.java: IO.println, remove version comments
    - Update challenge.json: remove any "Java 8" references in instructions

    **Module 07 (Concurrency/Virtual Threads) -- CRITICAL UPDATE:**

    Lessons 01-04 (traditional concurrency):
    1. Replace System.out.println with IO.println
    2. Thread, Runnable, ExecutorService examples should use IO.println
    3. CompletableFuture examples should use IO.println
    4. These remain conceptually the same -- just API modernization

    Lesson 05 (Virtual Threads) -- REFRAME:
    - Currently titled with "java-21" (directory rename handled in Plan 01)
    - Content must be reframed: virtual threads are STANDARD in Java 25, not a "Java 21 feature"
    - Remove any "introduced in Java 21" framing from the opening. Instead: "Virtual threads are lightweight threads managed by the JVM. They're the modern way to handle concurrent I/O in Java."
    - Brief historical note is OK: "Virtual threads were introduced in Java 21 and have become the standard approach for concurrent applications."
    - Update all code examples to use IO.println
    - If content references `--enable-preview` for virtual threads, REMOVE (finalized since Java 21, no preview flag needed even then)
    - Note that Spring Boot 4.0.x enables virtual threads BY DEFAULT (foreshadowing for Module 11)

    Module 07 module.json:
    - Update description to remove "Java 21" version reference if present

    For all 10 challenges in Module 07:
    - Update solutions and starters: IO.println, remove version comments

    Commit: "feat(02-04): migrate Modules 06-07 to Java 25 (streams, concurrency, virtual threads)"
  </action>
  <verify>
    - `grep -r "System.out.println" content/courses/java/modules/06-streams-functional-programming/ | wc -l` returns 0
    - `grep -r "System.out.println" content/courses/java/modules/07-concurrency-virtual-threads/ | wc -l` returns 0
    - `grep -r "enable-preview" content/courses/java/modules/07-concurrency-virtual-threads/ | wc -l` returns 0
    - Virtual threads lesson does not open with "Java 21 introduced..." framing
    - All challenge.json files are valid JSON
  </verify>
  <done>Modules 06-07 fully migrated. Streams/FP content has no Java 8 framing. Virtual threads presented as standard Java 25 feature, not Java 21 novelty. All System.out.println replaced.</done>
</task>

<task type="auto">
  <name>Task 2: Migrate Modules 08-09 (Testing/Build, Databases) to Java 25 and Spring Boot 4.0.x</name>
  <files>
    content/courses/java/modules/08-testing-and-build-tools/**/content/*.md
    content/courses/java/modules/08-testing-and-build-tools/**/challenges/**
    content/courses/java/modules/09-databases-and-sql/**/content/*.md
    content/courses/java/modules/09-databases-and-sql/**/challenges/**
  </files>
  <action>
    Module 08 has 6 lessons, 8 challenges. Module 09 has 7 lessons, 7 challenges.

    **Module 08 (Testing and Build Tools):**

    For all 6 lessons:
    1. Replace System.out.println with IO.println
    2. **Critical: Replace @MockBean with @MockitoBean** in ALL content
       - Known files: lesson 02 challenges (solution.java files), and content files referencing Spring testing
       - @MockBean was deprecated in Spring Boot 3.4 and replaced by @MockitoBean
       - Update the explanation text to use @MockitoBean throughout
       - If there's a mention of @MockBean, add a brief note: "Older tutorials may use @MockBean -- use @MockitoBean instead (it's the standard since Spring Boot 3.4)"
    3. Verify JUnit 5 patterns are current (assertAll, assertThrows, nested tests)
    4. If build tool content references Gradle, verify commands are current for Gradle 8.x

    For all 8 challenges:
    - Update solution.java files: IO.println, @MockitoBean
    - Update challenge.json if instructions reference @MockBean

    **Module 09 (Databases and SQL):**

    For all 7 lessons:
    1. Replace System.out.println with IO.println (JDBC examples use println heavily)
    2. Verify SQL syntax is standard (not MySQL-specific or outdated)
    3. JDBC examples: use try-with-resources for connections, use IO.println for output
    4. JPA/Hibernate content: verify patterns work with JPA 6.x (ships with Spring Boot 4.0.x)
    5. If content references H2 database for examples, verify H2 version compatibility

    For all 7 challenges:
    - Update solution.java files: IO.println
    - Update challenge.json if needed

    Commit: "feat(02-04): migrate Modules 08-09 to Java 25 (MockitoBean, JDBC modernization)"
  </action>
  <verify>
    - `grep -r "System.out.println" content/courses/java/modules/08-testing-and-build-tools/ | wc -l` returns 0
    - `grep -r "System.out.println" content/courses/java/modules/09-databases-and-sql/ | wc -l` returns 0
    - `grep -r "@MockBean" content/courses/java/modules/08-testing-and-build-tools/ | wc -l` returns 0 (all replaced with @MockitoBean)
    - `grep -r "@MockitoBean" content/courses/java/modules/08-testing-and-build-tools/ | wc -l` returns > 0
    - All challenge.json files are valid JSON
  </verify>
  <done>Modules 08-09 fully migrated. Testing content uses @MockitoBean. JDBC examples use IO.println and modern patterns. All System.out.println replaced.</done>
</task>

</tasks>

<verification>
After both tasks complete:
1. Zero System.out.println in Modules 06-09
2. Zero @MockBean references (all replaced with @MockitoBean)
3. Virtual threads presented as standard Java
4. No "Java 8" framing in streams content
5. All 35 challenges updated
</verification>

<success_criteria>
- JAVA-01 partially satisfied: Modules 06-09 use consistent IO.println and updated annotations
- The intermediate core modules are Java 25 ready
- @MockitoBean migration complete for Spring Boot 4.0.x compatibility
</success_criteria>

<output>
After completion, create `.planning/phases/02-java-course-audit/02-04-SUMMARY.md`
</output>
