---
phase: 04-csharp-course-audit
plan: 03
type: execute
wave: 2
depends_on: ["04-01"]
files_modified:
  - content/courses/csharp/modules/11-aspnet-core-web-apis/**/*.md
  - content/courses/csharp/modules/12-file-io-databases-caching/**/*.md
  - content/courses/csharp/modules/13-building-interactive-uis-with-blazor/**/*.md
  - content/courses/csharp/modules/14-blazor-net-aspire-deployment/**/*.md
  - content/courses/csharp/modules/15-unit-testing-with-xunit/**/*.md
autonomous: true

must_haves:
  truths:
    - "ASP.NET Core minimal API patterns are current for .NET 9"
    - "HybridCache in Module 12 is correctly described as a .NET 9 API"
    - "EF Core patterns use .NET 9 / EF Core 9 conventions"
    - "Blazor rendering modes (Server, WebAssembly, Auto) are accurately described for .NET 8+ (unchanged in .NET 9)"
    - ".NET Aspire patterns in Module 14 are valid for Aspire 9.x"
    - "xUnit patterns are current (2.x)"
    - "All 8 Module 12 lessons have WARNING sections added where natural pitfalls exist"
  artifacts:
    - path: ".planning/phases/04-csharp-course-audit/04-03-SUMMARY.md"
      provides: "Accuracy pass results for Modules 11-15"
  key_links:
    - from: "Module 11 minimal API content"
      to: "ASP.NET Core 9.0 patterns"
      via: "Framework accuracy"
      pattern: "MapGet|MapPost|AddOpenApi|MapOpenApi"
    - from: "Module 12 HybridCache content"
      to: ".NET 9 caching API"
      via: "API version accuracy"
      pattern: "HybridCache|\\.NET 9"
    - from: "Module 13 Blazor content"
      to: "Blazor .NET 8/9 rendering modes"
      via: "Framework accuracy"
      pattern: "InteractiveServer|InteractiveWebAssembly|InteractiveAuto"
---

<objective>
Accuracy pass across Modules 11-15 (31 lessons, ~135 content files): verify ASP.NET Core, Entity Framework Core, Blazor, .NET Aspire, and xUnit content against .NET 9 / C# 13. Add missing WARNING sections to Module 12 (all 8 lessons missing). Fix deprecated patterns and incorrect framework references.

Purpose: Modules 11-15 are the web framework core -- where students learn to build real applications. These modules reference APIs that cannot execute in the Roslyn scripting host, so accuracy must be verified through code review, not execution. Module 12 is the only module in the entire course with zero WARNING sections -- a critical gap for database content.

Output: Corrected content across 5 modules with framework-specific accuracy verified and Module 12 WARNING gap closed.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-csharp-course-audit/04-RESEARCH.md
@.planning/phases/04-csharp-course-audit/04-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Accuracy pass Modules 11-12 (ASP.NET Core + Databases/Caching)</name>
  <files>
    content/courses/csharp/modules/11-aspnet-core-web-apis/**/*.md
    content/courses/csharp/modules/12-file-io-databases-caching/**/*.md
  </files>
  <action>
    Read every content file in Modules 11-12 (14 lessons). For each lesson, verify:

    **1. Module 11 (ASP.NET Core Web APIs, 6 lessons):**
    - Minimal API pattern is the primary approach (not controllers-first)
    - `WebApplication.CreateBuilder(args)` is the standard entry point
    - `app.MapGet()`, `app.MapPost()`, etc. syntax is correct
    - Dependency injection via `builder.Services.Add*()` is current
    - Routing patterns current for .NET 9
    - If Module 11 references both ".NET 8" and ".NET 9" (per research), standardize to .NET 9 where it describes current behavior
    - Authentication/authorization basics (if introduced here) should forward-reference Modules 20-22

    **2. Module 12 (File I/O, Databases, Caching, 8 lessons) -- CRITICAL:**
    - EF Core 9 patterns: code-first migrations, DbContext configuration, LINQ queries
    - Connection string patterns current
    - HybridCache is a .NET 9 API -- lesson must clearly state this
    - HybridCache replaces IDistributedCache + IMemoryCache pattern (explain the migration path)
    - File I/O uses current patterns (File.ReadAllText, StreamReader, async file operations)
    - SQL injection prevention (parameterized queries, EF Core automatic parameterization)

    **3. Add WARNING sections to ALL 8 Module 12 lessons:**
    Module 12 is the only module with ZERO warnings. For database and caching content, warnings are essential. Create a new WARNING markdown file for each lesson with relevant pitfalls:

    Suggested warnings (adapt based on actual lesson content):
    - L01 (File I/O): File path injection, not disposing streams, encoding issues
    - L02 (EF Core intro): Not calling SaveChanges, tracking vs no-tracking confusion
    - L03 (Migrations): Running migrations in production without backup, migration ordering
    - L04 (Querying): N+1 query problem, loading entire tables into memory
    - L05 (Relationships): Circular references in JSON serialization, cascade delete behavior
    - L06 (Advanced queries): LINQ-to-SQL translation failures (client-side evaluation), raw SQL injection risk
    - L07 (Caching intro): Cache stampede, stale data, cache key collisions
    - L08 (HybridCache): HybridCache is .NET 9 only (won't compile on .NET 8), serialization overhead, cache invalidation complexity

    **WARNING file format:**
    ```markdown
    ---
    type: WARNING
    title: "[Relevant warning title]"
    ---

    [Warning content with specific pitfall, why it matters, and how to avoid it]
    ```

    Use the next available numeric prefix in each lesson's content directory (e.g., if last file is 05-theory.md, create 06-warning.md).

    **4. Version reference sweep:**
    - Update ".NET 8" to ".NET 9" where describing current behavior
    - Keep ".NET 8" only in historical context or Blazor rendering modes (which were introduced in .NET 8 and remain unchanged)

    Commit: "fix(04-03): accuracy pass M11-12 -- ASP.NET Core/.NET 9, EF Core 9, add 8 WARNING sections to M12"
  </action>
  <verify>
    - `find content/courses/csharp/modules/12-* -name '*-warning.md' | wc -l` returns 8 (one per lesson)
    - All new WARNING files have correct frontmatter (type: WARNING)
    - HybridCache lesson states ".NET 9" requirement
    - Minimal API patterns match .NET 9 conventions
    - EF Core patterns match EF Core 9 conventions
  </verify>
  <done>Modules 11-12 verified. ASP.NET Core and EF Core patterns current for .NET 9. All 8 Module 12 lessons now have WARNING sections.</done>
</task>

<task type="auto">
  <name>Task 2: Accuracy pass Modules 13-15 (Blazor + Aspire + Testing)</name>
  <files>
    content/courses/csharp/modules/13-building-interactive-uis-with-blazor/**/*.md
    content/courses/csharp/modules/14-blazor-net-aspire-deployment/**/*.md
    content/courses/csharp/modules/15-unit-testing-with-xunit/**/*.md
  </files>
  <action>
    Read every content file in Modules 13-15 (17 lessons). For each lesson, verify:

    **1. Module 13 (Blazor, 7 lessons):**
    - Blazor rendering modes: InteractiveServer, InteractiveWebAssembly, InteractiveAuto
    - These rendering modes were introduced in .NET 8 and remain the same in .NET 9
    - If lesson titles reference ".NET 8" (per research: "Blazor Rendering Modes .NET 8"), this is historically accurate but should be reframed as "Blazor rendering modes (introduced in .NET 8, current in .NET 9)"
    - Component lifecycle (OnInitialized, OnParametersSet, OnAfterRender) is correct
    - Data binding (@bind), event handling (@onclick), component parameters correct
    - QuickGrid component current
    - Blazor forms and validation current

    **2. Module 14 (Blazor + Aspire Deployment, 6 lessons):**
    - CRUD with Blazor patterns current
    - .NET Aspire 9.x patterns: `builder.AddProject<>()`, `builder.AddPostgres()`, service discovery
    - Aspire AppHost configuration current for 9.x
    - Git basics (if covered) are correct and not C#-specific
    - Azure deployment patterns current (or clearly marked as one deployment option)
    - This module contains the ONLY existing KEY_POINT (lesson 14-03) -- do not remove it
    - Check if .NET Aspire content mentions version -- should target Aspire 9.x for .NET 9

    **3. Module 15 (Unit Testing, 4 lessons):**
    - xUnit 2.x patterns: [Fact], [Theory], [InlineData], Assert.*
    - Mocking with Moq or NSubstitute (verify which library is used and it's current)
    - Integration testing with WebApplicationFactory<T> (ASP.NET Core test host)
    - TDD cycle explanation accurate
    - Test project setup (.csproj references) targets net9.0

    **4. Add WARNING sections where missing:**
    - Module 14: 2 lessons missing WARNING (identify which and add if natural pitfalls exist)
    - If warnings aren't natural for those specific lessons, skip (not every lesson needs a WARNING)

    **5. Version reference sweep:**
    - Blazor content: ".NET 8" acceptable when describing feature introduction; add ".NET 9" for current version
    - Aspire content: ensure references to Aspire 9.x, not generic ".NET Aspire" without version

    Commit: "fix(04-03): accuracy pass M13-15 -- Blazor rendering modes, Aspire 9.x, xUnit patterns"
  </action>
  <verify>
    - Blazor rendering modes correctly described (InteractiveServer/WebAssembly/Auto)
    - .NET Aspire references include version (9.x)
    - xUnit patterns match 2.x conventions
    - Module 14 lesson 03 KEY_POINT preserved
    - All code examples syntactically valid C#
  </verify>
  <done>Modules 13-15 verified. Blazor, Aspire, and testing content current for .NET 9. Missing warnings addressed where appropriate.</done>
</task>

</tasks>

<verification>
After both tasks complete:
1. All 31 lessons in Modules 11-15 reviewed for framework-specific accuracy
2. Module 12 has WARNING sections in all 8 lessons (was 0)
3. HybridCache correctly identified as .NET 9 API
4. Blazor rendering modes accurately described for .NET 8/9
5. .NET Aspire references version-specific (9.x)
6. xUnit patterns current
</verification>

<success_criteria>
- CSRP-01 partially satisfied: Modules 11-15 (31/132 lessons) verified against .NET 9
- CSRP-02 partially satisfied: Web framework progression verified
- Module 12 WARNING gap closed (was 8/8 missing, now 0/8 missing)
</success_criteria>

<output>
After completion, create `.planning/phases/04-csharp-course-audit/04-03-SUMMARY.md`

The SUMMARY must include:
- Count of files modified per module
- Framework-specific corrections (ASP.NET Core, EF Core, Blazor, Aspire, xUnit)
- WARNING sections added to Module 12 (topics per lesson)
- HybridCache .NET 9 attribution
- Blazor version reference handling
- Any issues deferred to later plans
</output>
