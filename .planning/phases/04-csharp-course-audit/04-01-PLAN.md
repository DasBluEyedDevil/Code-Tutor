---
phase: 04-csharp-course-audit
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - content/version-manifest.json
  - content/courses/csharp/course.json
  - content/courses/csharp/refactor_course.py (delete)
  - content/courses/csharp/modules/**/content/*-architecture.md (rename to *-theory.md, 11 files)
  - content/courses/csharp/modules/**/content/*-real_world.md (rename to *-analogy.md, 8 files)
  - content/courses/csharp/modules/**/content/*-deep_dive.md (rename to *-theory.md, 5 files)
autonomous: true

must_haves:
  truths:
    - "ZERO files named *-architecture.md in the C# course (all renamed to *-theory.md)"
    - "ZERO files named *-real_world.md in the C# course (all renamed to *-analogy.md)"
    - "ZERO files named *-deep_dive.md in the C# course (all renamed to *-theory.md)"
    - "Version manifest targets .NET 9 / C# 13 (matching actual course content)"
    - "course.json minimumRuntimeVersion updated to .NET 9.0"
    - "course.json estimatedHours is realistic (80-120 range)"
    - "refactor_course.py artifact deleted"
    - "Module progression is smooth from M01 through M24 with no knowledge cliffs"
  artifacts:
    - path: "content/version-manifest.json"
      provides: "Updated C# version targets (.NET 9, C# 13)"
      contains: "C# 13"
    - path: "content/courses/csharp/course.json"
      provides: "Accurate course metadata"
      contains: ".NET 9.0"
  key_links:
    - from: "content file frontmatter type: THEORY"
      to: "content filename *-theory.md"
      via: "naming consistency"
      pattern: "theory\\.md$"
    - from: "content file frontmatter type: ANALOGY"
      to: "content filename *-analogy.md"
      via: "naming consistency"
      pattern: "analogy\\.md$"
---

<objective>
Resolve the .NET 8 vs .NET 9 version mismatch by updating the version manifest and course.json to match the actual course content (.NET 9 / C# 13). Rename all 24 non-standard content filenames to match their frontmatter types. Delete the refactor_course.py artifact. Update course.json metadata (estimatedHours, description). Perform a structural review of module progression.

Purpose: Version alignment and filename consistency are prerequisites for all subsequent accuracy passes. Auditors must know the target version before reviewing content. Non-standard filenames create confusion when searching for content types.

Output: Updated version-manifest.json, updated course.json, 24 renamed files, deleted artifact, structural assessment documented in SUMMARY.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-csharp-course-audit/04-RESEARCH.md
@content/version-manifest.json
@content/courses/csharp/course.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Version alignment + filename migration + artifact cleanup</name>
  <files>
    content/version-manifest.json
    content/courses/csharp/course.json
    content/courses/csharp/refactor_course.py (delete)
    content/courses/csharp/modules/**/content/*-architecture.md (11 files -> *-theory.md)
    content/courses/csharp/modules/**/content/*-real_world.md (8 files -> *-analogy.md)
    content/courses/csharp/modules/**/content/*-deep_dive.md (5 files -> *-theory.md)
  </files>
  <action>
    **1. Update version-manifest.json C# section:**

    Update the `csharp` entry to target .NET 9 / C# 13 (matching the actual course content):
    - `runtime.version`: "8.0" -> "9.0"
    - `runtime.versionType`: "LTS" -> "STS"
    - `runtime.languageVersion`: "C# 12" -> "C# 13"
    - `runtime.lastVerified`: today's date
    - Add `runtime.notes`: "Course written for .NET 9/C# 13. Both .NET 8 and .NET 9 EOL November 2026. .NET 10 LTS available; upgrade planned for future cycle."
    - Update all framework versions to match .NET 9:
      - ASP.NET Core: "8.0" -> "9.0", notes: "Web framework. Built-in OpenAPI support (MapOpenApi). Minimal API patterns."
      - Entity Framework Core: "8.0" -> "9.0", notes: "ORM. HybridCache, compiled models. Course uses code-first migrations."
      - Blazor: "8.0" -> "9.0", notes: "Interactive UI framework. Server and WebAssembly rendering modes."
      - xUnit: keep "2.x" (no change)
      - .NET Aspire: keep "9.x", add notes: "Cloud-native orchestration. Aspire 13.0 released for .NET 10; course targets 9.x for .NET 9."
    - Update all `lastVerified` dates to today

    **2. Update course.json:**
    - `minimumRuntimeVersion`: ".NET 8.0" -> ".NET 9.0"
    - `estimatedHours`: 29 -> 100 (realistic for 24 modules, 132 lessons covering basics through deployment)
    - `difficulty`: "advanced" -> "beginner-to-advanced" (course starts from absolute basics)
    - `description`: Update to "Master C# and .NET 9 development from absolute basics to deploying a full-stack application. 132 lessons across 24 modules covering C# 13 fundamentals, OOP, LINQ, async/await, ASP.NET Core APIs, Blazor, Entity Framework Core, .NET Aspire, authentication, and CI/CD. Includes ShopFlow capstone project."

    **3. Batch rename non-standard filenames using `git mv`:**

    Rename rules:
    - `*-architecture.md` -> `*-theory.md` (11 files, frontmatter already says type: THEORY)
    - `*-real_world.md` -> `*-analogy.md` (8 files, frontmatter already says type: ANALOGY)
    - `*-deep_dive.md` -> `*-theory.md` (5 files, frontmatter already says type: THEORY)

    **IMPORTANT:** Do NOT change frontmatter inside the files. Only filenames change.

    **IMPORTANT for theory.md conflicts:** When renaming architecture.md or deep_dive.md to theory.md, check if a theory.md already exists in the same directory with the same numeric prefix. If so, use the NEXT available number (e.g., if 03-theory.md exists and you're renaming 05-architecture.md, rename to 05-theory.md -- the number stays, only the name part changes).

    Approach:
    ```
    find content/courses/csharp -name '*-architecture.md' -exec sh -c 'git mv "$1" "$(echo "$1" | sed "s/-architecture\.md$/-theory.md/")"' _ {} \;
    find content/courses/csharp -name '*-real_world.md' -exec sh -c 'git mv "$1" "$(echo "$1" | sed "s/-real_world\.md$/-analogy.md/")"' _ {} \;
    find content/courses/csharp -name '*-deep_dive.md' -exec sh -c 'git mv "$1" "$(echo "$1" | sed "s/-deep_dive\.md$/-theory.md/")"' _ {} \;
    ```

    **4. Delete artifact:**
    ```
    git rm content/courses/csharp/refactor_course.py
    ```

    Commit: "feat(04-01): align C# to .NET 9/C# 13, rename 24 files, update metadata, delete artifact"
  </action>
  <verify>
    - `find content/courses/csharp -name '*-architecture.md' | wc -l` returns 0
    - `find content/courses/csharp -name '*-real_world.md' | wc -l` returns 0
    - `find content/courses/csharp -name '*-deep_dive.md' | wc -l` returns 0
    - `ls content/courses/csharp/refactor_course.py 2>/dev/null` returns nothing (deleted)
    - Version manifest csharp.runtime.version is "9.0"
    - Version manifest csharp.runtime.languageVersion is "C# 13"
    - course.json minimumRuntimeVersion is ".NET 9.0"
    - course.json estimatedHours is 100
    - Both JSON files are valid JSON (parse without errors)
    - All renamed files tracked by git (git status shows renames)
  </verify>
  <done>Version manifest aligned to .NET 9/C# 13. 24 non-standard filenames renamed. course.json metadata accurate. refactor_course.py deleted. Git history preserved.</done>
</task>

<task type="auto">
  <name>Task 2: Structural review and progression analysis</name>
  <files>
    content/courses/csharp/modules/ (read-only scan)
  </files>
  <action>
    Analyze the 24-module progression for knowledge gaps, prerequisites, and difficulty calibration. Read the first lesson's content in each module (theory + analogy) to assess voice and approach.

    **1. Module boundary review (23 transitions):**
    For each transition (M01->M02, M02->M03, ..., M23->M24):
    - Does the next module build on concepts from the previous?
    - Is there an assumed concept that wasn't taught yet?
    - Is the difficulty jump reasonable?

    Specific known concerns from research to verify:
    - M05 (Collections) -> M06 (Methods): Does M06 assume collection knowledge from M05?
    - M10 (Async) -> M11 (ASP.NET Core): Is the jump from pure C# to web framework managed?
    - M14 (Blazor+Aspire) -> M15 (Testing): Is testing taught AFTER building real apps? That's fine if intentional (test what you've built)
    - M17 (Native AOT) placement: AOT after Aspire but before Clean Architecture -- is this logical?
    - M18 (Clean Architecture) -> M19 (Modern APIs) -> M20-22 (Auth): Does the capstone (M24) draw on all of these?

    **2. Content type gap assessment:**
    Document which modules are missing WARNING sections (27 lessons across 6 modules from research):
    - Module 12: 8/8 missing WARNING
    - Module 14: 2/6 missing
    - Module 18: 3/4 missing
    - Module 22: 3/4 missing
    - Module 23: 3/5 missing
    - Module 24: 5/5 missing WARNING, 2/5 missing ANALOGY

    These gaps will be addressed in the accuracy passes (plans 04-02 through 04-04) where appropriate warnings naturally exist.

    **3. Estimated hours per module:**
    Review each module.json for estimatedHours. Recommend realistic values based on lesson count and complexity:
    - Fundamentals (M01-04): ~2-3 hours each (simple concepts, many exercises)
    - Core C# (M05-10): ~3-5 hours each (deeper concepts, more code)
    - Web/Frameworks (M11-16): ~4-6 hours each (new frameworks, setup)
    - Advanced (M17-23): ~3-5 hours each (specialized topics)
    - Capstone (M24): ~8-10 hours (full project)

    Do NOT modify module.json files in this task -- just document the recommendations in the SUMMARY for potential future fix.

    **4. Capstone completeness check:**
    Verify ShopFlow capstone has:
    - Solution file (.sln)
    - All expected projects (API, Application, Core, Domain, Infrastructure, Web, Web.Client)
    - Test projects (Unit, Integration)
    - CI pipeline (.github/workflows/ci.yml)
    - Build instructions / README

    Do NOT attempt to build the capstone here -- that is Plan 04-05's scope.

    No commit for this task (read-only analysis). Findings go into the SUMMARY.
  </action>
  <verify>
    - SUMMARY documents all 23 module transitions with assessment
    - SUMMARY lists WARNING gaps per module
    - SUMMARY includes estimated hours recommendations
    - SUMMARY confirms capstone project structure completeness
  </verify>
  <done>Structural review complete. Module progression assessed. WARNING gaps documented. Capstone structure verified. All findings recorded in SUMMARY for downstream plans.</done>
</task>

</tasks>

<verification>
After both tasks complete:
1. Version manifest and course.json aligned to .NET 9 / C# 13
2. Zero non-standard filenames in C# course
3. refactor_course.py artifact deleted
4. Structural review completed with progression assessment
5. All git operations clean
</verification>

<success_criteria>
- CSRP-01 foundation: Version target resolved (prerequisite for accuracy passes)
- CSRP-02 partially assessed: Module progression reviewed for knowledge gaps
- CSRP-04 partially assessed: Capstone structure verified (build verification in 04-05)
- Filename consistency achieved for all 532 content files
</success_criteria>

<output>
After completion, create `.planning/phases/04-csharp-course-audit/04-01-SUMMARY.md`

The SUMMARY must include:
- Version alignment changes (manifest + course.json)
- Count of files renamed per module
- Structural review findings (progression gaps, WARNING gaps, difficulty calibration)
- Capstone structure assessment
- Estimated hours recommendations
- Issues flagged for downstream plans (04-02 through 04-05)
</output>
