---
phase: 01-foundation-and-content-normalization
plan: 05
type: execute
wave: 1
depends_on: []
files_modified:
  - content/version-manifest.json
autonomous: true

must_haves:
  truths:
    - "A version manifest file exists listing pinned version targets for all 6 courses"
    - "Each course entry includes language/runtime version AND key framework versions"
    - "Each version entry includes a lastVerified date"
    - "Version targets match the project requirements: Java 21, Python 3.12+, C# 12/.NET 8, Node 22, Kotlin 2.0+, Flutter 3.x/Dart 3.x"
  artifacts:
    - path: "content/version-manifest.json"
      provides: "Pinned version targets for all 6 courses with framework versions"
      contains: "lastVerified"
  key_links: []
---

<objective>
Create a version manifest file that pins language runtime and framework version targets for all 6 courses, serving as the single source of truth for content auditors in Phases 2-7.

Purpose: NORM-05 requires version targets pinned per language. INFR-03 requires minimum runtime versions updated. Currently there is no authoritative document specifying which version of Java, Python, C#, etc. the course content should target. Each AI-generated session may have assumed different versions. The manifest provides a single reference that auditors consult when verifying code examples and API references.

Output: `content/version-manifest.json` with version targets, framework versions, and lastVerified dates for all 6 courses.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation-and-content-normalization/01-CONTEXT.md
@.planning/phases/01-foundation-and-content-normalization/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Research current stable versions and create version manifest</name>
  <files>content/version-manifest.json</files>
  <action>
    Create `content/version-manifest.json` with the following structure. For each course, include the language runtime version AND all major frameworks/libraries taught in the course.

    The version manifest serves two purposes:
    1. **Auditor reference**: When reviewing lesson content, auditors check code examples against these pinned versions
    2. **Runtime minimum**: When a student runs code, these are the minimum versions the content assumes

    **Structure:**
    ```json
    {
      "$schema": "Version manifest for Code Tutor course content",
      "description": "Pinned version targets for all courses. Auditors verify content against these versions.",
      "lastUpdated": "2026-02-02",
      "courses": {
        "java": {
          "runtime": { "name": "Java (OpenJDK)", "version": "21", "versionType": "LTS", "lastVerified": "2026-02-02" },
          "frameworks": [
            { "name": "Spring Boot", "version": "3.3", "lastVerified": "2026-02-02" },
            { "name": "Gradle", "version": "8.x", "lastVerified": "2026-02-02" },
            { "name": "JUnit", "version": "5.x", "lastVerified": "2026-02-02" }
          ]
        },
        "python": { ... },
        ...
      }
    }
    ```

    **Version targets (from ROADMAP.md and RESEARCH.md):**

    **Java:**
    - Runtime: Java 21 (LTS)
    - Frameworks: Spring Boot 3.3.x, Gradle 8.x, JUnit 5.x, Maven (optional)

    **Python:**
    - Runtime: Python 3.12+
    - Frameworks: FastAPI 0.115.x (or latest stable), Django 5.1.x, SQLAlchemy 2.0.x, Pydantic 2.x, pytest 8.x, Alembic 1.x

    **C#:**
    - Runtime: .NET 8.0 (LTS), C# 12
    - Frameworks: ASP.NET Core 8.0, Entity Framework Core 8.0, Blazor 8.0, xUnit 2.x, .NET Aspire

    **JavaScript:**
    - Runtime: Node.js 22 (LTS)
    - Frameworks: Bun 1.x, Hono 4.x, React 19, Prisma 6.x (or latest stable), TypeScript 5.x

    **Kotlin:**
    - Runtime: Kotlin 2.0+ (K2 compiler)
    - Frameworks: Ktor 3.x, Compose Multiplatform 1.7.x, SQLDelight 2.x, Koin 4.x, Gradle 8.x

    **Flutter/Dart:**
    - Runtime: Flutter 3.27.x / Dart 3.6.x (or latest stable within 3.x)
    - Frameworks: Riverpod 2.x, GoRouter 14.x, Dart Frog 1.x (community-maintained), Serverpod 2.x

    IMPORTANT: Before writing the manifest, verify the LATEST stable versions for each framework by checking a few key ones. The versions listed above are baseline estimates from the planning phase. Check the following if possible (use web fetch for critical ones like Spring Boot, FastAPI, React, Ktor):
    - Spring Boot latest stable
    - FastAPI latest stable
    - React latest stable (should be 19.x as of late 2025)
    - Ktor latest stable
    - Flutter latest stable

    If web verification is not available or times out, use the baseline versions above and set lastVerified to "2026-02-02" with a note that framework versions should be re-verified when each course audit begins.

    Commit: "feat(01-05): create version manifest with pinned targets for all 6 courses"
  </action>
  <verify>
    - `content/version-manifest.json` exists and is valid JSON
    - All 6 courses have entries
    - Each course has a runtime section with name, version, and lastVerified
    - Each course has a frameworks array with at least 2 entries
    - All required versions are present: Java 21, Python 3.12+, .NET 8.0, Node.js 22, Kotlin 2.0+, Flutter 3.x/Dart 3.x
    - `node -e "JSON.parse(require('fs').readFileSync('content/version-manifest.json','utf8'))"` succeeds (valid JSON)
  </verify>
  <done>Version manifest exists at content/version-manifest.json with pinned runtime and framework versions for all 6 courses. Each entry has lastVerified date.</done>
</task>

<task type="auto">
  <name>Task 2: Update course.json files with minimum runtime version metadata</name>
  <files>
    content/courses/java/course.json
    content/courses/python/course.json
    content/courses/csharp/course.json
    content/courses/javascript/course.json
    content/courses/kotlin/course.json
    content/courses/flutter/course.json
    content/schemas/course.schema.json
  </files>
  <action>
    1. **Update course schema if it exists.** Before modifying course.json files, check if `content/schemas/course.schema.json` exists (it will if Plan 02 has already run). If so, add `minimumRuntimeVersion` to the schema's `properties` object as an optional string field:
       ```json
       "minimumRuntimeVersion": {
         "type": "string",
         "description": "Minimum language/runtime version required to run this course's code examples"
       }
       ```
       Do NOT add it to the `required` array (it is optional). Write the updated schema back to disk.

    2. **Add minimumRuntimeVersion to each course.json.** Read each course.json and add/update a `minimumRuntimeVersion` field that tells the app (and students) what minimum runtime is required to run the course's code.

       Add to each course.json:
       ```json
       "minimumRuntimeVersion": "Java 21"          // for java
       "minimumRuntimeVersion": "Python 3.12"      // for python
       "minimumRuntimeVersion": ".NET 8.0"         // for csharp
       "minimumRuntimeVersion": "Node.js 22"       // for javascript
       "minimumRuntimeVersion": "Kotlin 2.0"       // for kotlin
       "minimumRuntimeVersion": "Flutter 3.27"     // for flutter
       ```

    3. Also verify and update the `prerequisites` array if it contains version-specific information that is now outdated. For example, if a prerequisites entry says "Python 3.10+" update it to "Python 3.12+".

    If `content/schemas/course.schema.json` does NOT exist (Plan 02 has not run yet), skip step 1 -- the schema will be created later with this field already supported via `additionalProperties: true`.

    Commit: "feat(01-05): add minimum runtime versions to course.json files"
  </action>
  <verify>
    - Each course.json has a `minimumRuntimeVersion` field
    - Values match the pinned targets from the version manifest
    - All course.json files are still valid JSON
    - If `content/schemas/course.schema.json` exists, verify it includes `minimumRuntimeVersion` in its properties
    - Run the schema validation from Plan 02 (if available) to confirm no schema violations
  </verify>
  <done>All 6 course.json files include minimumRuntimeVersion. If course schema existed, it has been updated to explicitly define the field. INFR-03 requirement (minimum runtime versions updated) is satisfied.</done>
</task>

</tasks>

<verification>
After both tasks complete:
1. `content/version-manifest.json` exists with all 6 courses
2. All 6 course.json files have `minimumRuntimeVersion` field
3. Version targets match project requirements (Java 21, Python 3.12+, C# 12/.NET 8, Node 22, Kotlin 2.0+, Flutter 3.x/Dart 3.x)
4. Each manifest entry has a lastVerified date
5. Framework versions are included for each course
</verification>

<success_criteria>
- NORM-05 satisfied: Version targets pinned per language and documented in a manifest file
- INFR-03 satisfied: Minimum runtime versions updated in course.json files
- The manifest serves as the single reference for all subsequent audit phases (2-7)
- Framework versions provide specific targets for API verification during audits
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-and-content-normalization/01-05-SUMMARY.md`
</output>
