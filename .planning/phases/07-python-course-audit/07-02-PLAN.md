---
phase: 07-python-course-audit
plan: 02
type: execute
wave: 1
depends_on:
  - 07-01
files_modified:
  - content/courses/python/modules/01-*/lessons/*/* (M01-05: fundamentals)
  - content/courses/python/modules/06-*/lessons/*/* (M06-10: functions through modules)
  - content/courses/python/modules/11-*/lessons/*/* (M11-13: OOP, decorators, async)
  - content/courses/python/modules/14-*/lessons/*/* (M14-17: web frameworks)
  - content/courses/python/modules/18-*/lessons/*/* (M18-24: advanced, testing, deployment, capstone)
autonomous: true

must_haves:
  truths:
    - All Python lessons are accurate against Python 3.12+ stable
    - No deprecated patterns or incorrect version claims exist
    - FastAPI, Django, SQLAlchemy, and other framework versions match version-manifest.json
    - Python 3.13+ features are correctly noted where applicable
    - All code examples use current Python idioms
  artifacts:
    - path: "content/courses/python/modules/*/lessons/*/*.md"
      provides: "All lesson content verified for Python 3.12+ accuracy"
      pattern: "Updated content with current Python patterns"
    - path: "content/courses/python/modules/*/lessons/*/lesson.json"
      provides: "Accurate metadata for all lessons"
  key_links:
    - from: "lesson content"
      to: "version-manifest.json"
      via: "framework version consistency"
      pattern: "FastAPI 0.115+, SQLAlchemy 2.0+, Django 5.x"
    - from: "code examples"
      to: "Python 3.12+ features"
      via: "modern Python idioms"
      pattern: "typing syntax, async patterns, exception groups"
---

<objective>
Verify and correct all Python lesson content for accuracy against Python 3.12+ stable. Check for deprecated patterns, incorrect version claims, outdated framework versions, and ensure all code examples use current Python idioms.

Purpose: Ensure PYTH-01 (accuracy) is satisfied. This follows the pattern from Phases 2-6 where accuracy passes were split by module ranges to manage scope.

Output: All Python lesson content verified and corrected for Python 3.12+ accuracy.
</objective>

<execution_context>
@~/.config/opencode/get-shit-done/workflows/execute-plan.md
@~/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/REQUIREMENTS.md
@.planning/phases/07-python-course-audit/07-CONTEXT.md
@.planning/phases/07-python-course-audit/07-01-SUMMARY.md
@content/version-manifest.json

## Version Targets (from version-manifest.json)

Python section should contain:
- Python 3.12+ (minimum runtime)
- FastAPI 0.115.x (or current stable)
- SQLAlchemy 2.0.x
- Django 5.x
- Pydantic 2.x
- pytest 8.x
- Typer 0.15.x (or current)

## Prior Phase Patterns

From STATE.md - accuracy pass patterns:
- Phase 2 (Java): M01-03 fundamentals, M04-05 OOP, M06-09 advanced, M10-12 Spring, M13-16 React/DevOps
- Phase 3 (JS): M01-09 fundamentals, M10-12 TypeScript/backend, M13-16 React/testing, M17-21 advanced
- Phase 4 (C#): M01-10 fundamentals, M11-15 web/data/testing, M16-24 advanced/auth/DevOps
- Phase 5 (Flutter): M01-07 fundamentals, M08-13 backend, M14-18 advanced/capstone
- Phase 6 (Kotlin): M01-05 fundamentals, M06-07 backend/UI, M08-12 KMP, M13-15 advanced

## Python-Specific Concerns

From 07-CONTEXT.md:
- Module 14 was restructured - verify content matches new structure
- Bridge lessons needed at framework transitions
- Git/tools content to be added (deferred to Plan 05)
- Challenge fixes done inline during validation (Plan 04)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Accuracy pass - Fundamentals (M01-05)</name>
  <files>content/courses/python/modules/01-*/lessons/*/*, content/courses/python/modules/02-*/lessons/*/*, content/courses/python/modules/03-*/lessons/*/*, content/courses/python/modules/04-*/lessons/*/*, content/courses/python/modules/05-*/lessons/*/*</files>
  <action>
    Review all lessons in Modules 01-05 for Python 3.12+ accuracy:
    
    1. M01: The Absolute Basics
       - Verify print() function usage (not Python 2 print statement)
       - Check input() handling (returns str in Python 3)
       - Verify basic syntax (no Python 2-isms)
    
    2. M02: Variables
       - Verify type hint syntax (modern PEP 484 style)
       - Check f-string usage (Python 3.6+, should be standard)
       - Verify no old-style string formatting (% operator) unless teaching history
    
    3. M03: Boolean Logic
       - Verify comparison operators
       - Check truthiness concepts (Python 3 behavior)
    
    4. M04: Loops
       - Verify range() behavior (Python 3 lazy evaluation)
       - Check enumerate() and zip() usage (iterators, not lists)
       - Verify no xrange references (Python 2 only)
    
    5. M05: Lists and Tuples
       - Verify list comprehension syntax
       - Check tuple unpacking (modern extended unpacking)
       - Verify no .iteritems() or .itervalues() (Python 2 only)
    
    Fix any issues found:
    - Update deprecated syntax to Python 3.12+ idioms
    - Add LEGACY_COMPARISON sections if teaching old vs new syntax
    - Update any version-specific claims (e.g., "new in Python 3.8" for features now standard)
    
    Document any patterns that need global fixing across other modules.
  </action>
  <verify>
    # Spot-check for Python 2-isms
    grep -r "print " content/courses/python/modules/0[1-5]-*/lessons/*/*.md | grep -v "print()" | head -20
    grep -r "xrange" content/courses/python/modules/0[1-5]-*/lessons/*/*.md
    grep -r "\.iteritems\|\.itervalues\|\.iterkeys" content/courses/python/modules/0[1-5]-*/lessons/*/*.md
  </verify>
  <done>
    - M01-05 reviewed for Python 3.12+ accuracy
    - No Python 2 syntax remains (unless in LEGACY_COMPARISON)
    - Modern Python idioms used throughout
    - Any issues found are documented
  </done>
</task>

<task type="auto">
  <name>Task 2: Accuracy pass - Functions through Modules (M06-10)</name>
  <files>content/courses/python/modules/06-*/lessons/*/*, content/courses/python/modules/07-*/lessons/*/*, content/courses/python/modules/08-*/lessons/*/*, content/courses/python/modules/09-*/lessons/*/*, content/courses/python/modules/10-*/lessons/*/*</files>
  <action>
    Review all lessons in Modules 06-10 for Python 3.12+ accuracy:
    
    1. M06: Functions
       - Verify type hint syntax (parameter and return types)
       - Check default argument handling (mutable defaults warning)
       - Verify *args and **kwargs syntax
       - Check positional-only (/ ) and keyword-only (* ) parameters (Python 3.8+)
    
    2. M07: Dictionaries
       - Verify dict preservation of insertion order (Python 3.7+ guaranteed)
       - Check | operator for dict merging (Python 3.9+)
       - Verify .get() and .setdefault() usage
    
    3. M08: Exception Handling
       - Verify except Exception as e syntax (not comma syntax)
       - Check exception chaining with raise ... from ...
       - Verify ExceptionGroup and BaseExceptionGroup notes (Python 3.11+)
    
    4. M09: File I/O
       - Verify pathlib.Path usage (preferred over os.path)
       - Check with statement for file handling
       - Verify encoding="utf-8" is explicit or noted
    
    5. M10: Modules and Packages
       - Verify import syntax and relative imports
       - Check __init__.py handling (namespace packages in Python 3.3+)
       - Verify pip and venv usage (not virtualenv unless noted)
    
    Fix any issues:
    - Update to modern Python patterns (pathlib over os.path)
    - Add version notes for newer features (| operator, positional-only params)
    - Ensure exception handling uses modern syntax
  </action>
  <verify>
    # Check for old exception syntax
    grep -r "except.*," content/courses/python/modules/0[6-9]-*/lessons/*/*.md | grep -v "except.*as"
    
    # Check for os.path vs pathlib preference
    grep -r "import os.path\|from os import path" content/courses/python/modules/0[6-9]-*/lessons/*/*.md
  </verify>
  <done>
    - M06-10 reviewed for Python 3.12+ accuracy
    - Modern patterns (pathlib, dict | operator) used where appropriate
    - Exception handling uses correct syntax
    - Module/package content is current
  </done>
</task>

<task type="auto">
  <name>Task 3: Accuracy pass - OOP, Decorators, Async (M11-13)</name>
  <files>content/courses/python/modules/11-*/lessons/*/*, content/courses/python/modules/12-*/lessons/*/*, content/courses/python/modules/13-*/lessons/*/*</files>
  <action>
    Review all lessons in Modules 11-13 for Python 3.12+ accuracy:
    
    1. M11: Classes and Objects (OOP)
       - Verify class syntax and inheritance
       - Check dataclasses usage (dataclasses module, Python 3.7+)
       - Verify @property, @staticmethod, @classmethod decorators
       - Check __init__, __str__, __repr__ methods
       - Verify type hints in class definitions
       - Check for @override decorator (Python 3.12+)
    
    2. M12: Decorators and Advanced Patterns
       - Verify decorator syntax (@decorator)
       - Check functools.wraps usage
       - Verify class decorators and method decorators
       - Check context managers (with statement, contextlib)
       - Verify typing decorator patterns
    
    3. M13: Asynchronous Python
       - Verify async/await syntax (Python 3.5+)
       - Check asyncio patterns (modern APIs, not deprecated loop patterns)
       - Verify async context managers and iterators
       - Check TaskGroup usage (Python 3.11+) vs asyncio.gather
       - Verify async with database libraries pattern
    
    Fix any issues:
    - Update OOP examples to use dataclasses where appropriate
    - Add @override decorator examples (new in 3.12)
    - Ensure async patterns use modern asyncio APIs
    - Update TaskGroup examples to note Python 3.11+ requirement
  </action>
  <verify>
    # Check for old asyncio patterns
    grep -r "get_event_loop\|set_event_loop" content/courses/python/modules/13-*/lessons/*/*.md | head -10
    
    # Check dataclasses usage
    grep -r "from dataclasses import\|@dataclass" content/courses/python/modules/11-*/lessons/*/*.md | head -10
  </verify>
  <done>
    - M11-13 reviewed for Python 3.12+ accuracy
    - OOP uses modern patterns (dataclasses, @override)
    - Async content uses current asyncio APIs
    - Decorator patterns are correct
  </done>
</task>

<task type="auto">
  <name>Task 4: Accuracy pass - Web Frameworks (M14-17)</name>
  <files>content/courses/python/modules/14-*/lessons/*/*, content/courses/python/modules/15-*/lessons/*/*, content/courses/python/modules/16-*/lessons/*/*, content/courses/python/modules/17-*/lessons/*/*</files>
  <action>
    Review all lessons in Modules 14-17 for framework version accuracy:
    
    1. M14: HTTP and FastAPI
       - Verify FastAPI version (0.115.x or current from version-manifest.json)
       - Check Pydantic v2 patterns (not v1 - major breaking change)
       - Verify async route handlers
       - Check dependency injection patterns
       - Verify HTTP method decorators (@app.get, etc.)
    
    2. M15: Databases and SQLAlchemy
       - Verify SQLAlchemy 2.0 patterns (major version change)
       - Check async SQLAlchemy usage (async_session, select())
       - Verify Alembic migration patterns
       - Check PostgreSQL and SQLite connection patterns
    
    3. M16: API Authentication
       - Verify JWT handling patterns
       - Check password hashing (bcrypt, argon2)
       - Verify OAuth2 flows (if covered)
       - Check FastAPI security dependencies
    
    4. M17: Sharing Your Work
       - Verify packaging with pyproject.toml (not setup.py as primary)
       - Check pip install -e . patterns
       - Verify version management
       - Check publishing to PyPI guidance
    
    Critical fixes needed:
    - Pydantic v2 migration (field() vs Field(), .dict() vs .model_dump())
    - SQLAlchemy 2.0 (query() vs select(), session patterns)
    - FastAPI dependency patterns
    
    Document any framework version mismatches found.
  </action>
  <verify>
    # Check for Pydantic v1 patterns
    grep -r "\.dict()\|\.json()" content/courses/python/modules/14-*/lessons/*/*.md | grep -v "model_dump\|model_dump_json" | head -10
    
    # Check for SQLAlchemy 1.x patterns
    grep -r "\.query(" content/courses/python/modules/15-*/lessons/*/*.md | head -10
  </verify>
  <done>
    - M14-17 reviewed for framework version accuracy
    - Pydantic v2 patterns verified/corrected
    - SQLAlchemy 2.0 patterns verified/corrected
    - FastAPI patterns are current
  </done>
</task>

<task type="auto">
  <name>Task 5: Accuracy pass - Advanced, Testing, Deployment, Capstone (M18-24)</name>
  <files>content/courses/python/modules/18-*/lessons/*/*, content/courses/python/modules/19-*/lessons/*/*, content/courses/python/modules/20-*/lessons/*/*, content/courses/python/modules/21-*/lessons/*/*, content/courses/python/modules/22-*/lessons/*/*, content/courses/python/modules/23-*/lessons/*/*, content/courses/python/modules/24-*/lessons/*/*</files>
  <action>
    Review all lessons in Modules 18-24 for accuracy:
    
    1. M18: Professional CLI Tools with Typer
       - Verify Typer version and patterns
       - Check modern CLI patterns (async support, rich output)
    
    2. M19: Exception Groups and Structured Concurrency
       - Verify ExceptionGroup/BaseExceptionGroup (Python 3.11+)
       - Check TaskGroup usage (Python 3.11+)
       - Verify except* syntax (Python 3.11+)
    
    3. M20: Advanced pytest and Test Architecture
       - Verify pytest 8.x patterns
       - Check fixture patterns, parametrize, markers
       - Verify async test patterns (pytest-asyncio)
    
    4. M21: Django Fundamentals
       - Verify Django 5.x patterns
       - Check MTV architecture explanations
       - Verify ORM patterns, admin, URL routing
    
    5. M22: PostgreSQL Advanced Database Patterns
       - Verify async PostgreSQL patterns
       - Check connection pooling, advanced queries
    
    6. M23: Authentication and Security
       - Verify security best practices
       - Check Django auth patterns
    
    7. M24: Capstone (Personal Finance Tracker)
       - Verify capstone project structure
       - Check deployment instructions
       - Verify all concepts from prior modules are applied
    
    Fix any issues:
    - Update ExceptionGroup content to note Python 3.11+ requirement
    - Verify Django 5.x patterns (not 4.x or 3.x)
    - Ensure capstone uses current versions of all frameworks
  </action>
  <verify>
    # Check for ExceptionGroup Python version notes
    grep -r "ExceptionGroup\|TaskGroup\|except \*" content/courses/python/modules/19-*/lessons/*/*.md | head -10
    
    # Check Django version references
    grep -r "Django [0-9]" content/courses/python/modules/21-*/lessons/*/*.md | head -10
  </verify>
  <done>
    - M18-24 reviewed for accuracy
    - Python 3.11+ features (ExceptionGroup, TaskGroup) correctly noted
    - Django 5.x patterns verified
    - Capstone project is current and deployable
  </done>
</task>

</tasks>

<verification>
1. All modules M01-24 have been reviewed for Python 3.12+ accuracy
2. No Python 2 syntax remains (unless intentionally in LEGACY_COMPARISON)
3. Framework versions match version-manifest.json
4. Pydantic v2 and SQLAlchemy 2.0 patterns are correct
5. Python 3.11+ features (ExceptionGroup, TaskGroup, @override) are correctly noted
6. All code examples use current Python idioms
</verification>

<success_criteria>
- PYTH-01 (accuracy) is satisfied: Every lesson reviewed for Python 3.12+ accuracy
- No deprecated patterns or incorrect version claims exist
- FastAPI, Django, SQLAlchemy versions match version manifest
- All code examples use current Python idioms
- Accuracy issues catalogued for any challenges that need fixing
</success_criteria>

<output>
After completion, create `.planning/phases/07-python-course-audit/07-02-SUMMARY.md`
</output>
