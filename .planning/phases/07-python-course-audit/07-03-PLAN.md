---
phase: 07-python-course-audit
plan: 03
type: execute
wave: 2
depends_on:
  - 07-01
  - 07-02
files_modified:
  - content/courses/python/modules/13-*/lessons/*/content/ (bridge lesson before FastAPI)
  - content/courses/python/modules/14-*/lessons/*/content/ (content quality improvements)
  - content/courses/python/modules/16-*/lessons/*/content/ (bridge lesson before Django)
  - content/courses/python/modules/*/lessons/*/content/*.md (KEY_POINT, ANALOGY, WARNING additions)
autonomous: true

must_haves:
  truths:
    - Bridge lessons exist at major framework transitions
    - Module 14-16 content has deep quality improvements
    - KEY_POINT coverage increased in web framework modules
    - ANALOGY sections added where concepts are abstract
    - WARNING sections added for common pitfalls
  artifacts:
    - path: "content/courses/python/modules/13-*/lessons/*/content/"
      provides: "Bridge lesson content before FastAPI transition"
    - path: "content/courses/python/modules/16-*/lessons/*/content/"
      provides: "Bridge lesson content before Django transition"
    - path: "content/courses/python/modules/14-*/lessons/*/content/*.md"
      provides: "Enhanced FastAPI module content"
    - path: "content/courses/python/modules/15-*/lessons/*/content/*.md"
      provides: "Enhanced SQLAlchemy module content"
  key_links:
    - from: "M13 (async)"
      to: "M14 (FastAPI)"
      via: "bridge lesson"
      pattern: "transition from async concepts to web framework"
    - from: "M16 (API auth)"
      to: "M21 (Django)"
      via: "bridge lesson"
      pattern: "transition from FastAPI to Django full-stack"
---

<objective>
Perform deep content edit on web framework modules (M14-16), add bridge lessons at major transitions, and enrich content with KEY_POINT, ANALOGY, and WARNING sections where gaps exist.

Purpose: Address PYTH-02 (progressive curriculum) and PYTH-05 (consistent voice/difficulty). Bridge lessons ensure smooth transitions between major learning phases. Content enrichment improves learning outcomes.

Output: Enhanced web framework modules with bridge lessons and improved content coverage.
</objective>

<execution_context>
@~/.config/opencode/get-shit-done/workflows/execute-plan.md
@~/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/REQUIREMENTS.md
@.planning/phases/07-python-course-audit/07-CONTEXT.md
@.planning/phases/07-python-course-audit/07-01-SUMMARY.md
@.planning/phases/07-python-course-audit/07-02-SUMMARY.md

## Bridge Lesson Design (from 07-CONTEXT.md)

- Transitions requiring bridges: All major framework transitions
- Bridge purpose: Combination approach — review prerequisites, preview upcoming content, connect concepts, or practical setup based on the specific transition
- Lesson length: Variable based on gap size
- Challenges: Optional — OpenCode decides per bridge lesson whether challenges add value

## Prior Phase Enrichment Patterns

From STATE.md:
- Phase 4 (C#): 131 KEY_POINTs added (from 1 total) — every lesson now has at least one
- Phase 5 (Flutter): 44 KEY_POINTs added for 100% coverage, 16 WARNINGs added to zero-WARNING modules
- Phase 6 (Kotlin): ~98 KEY_POINTs + ~18 analogies + ~10 warnings added

## Module 14 Restructuring Context

From 07-CONTEXT.md:
- Module 14 was already restructured in Phase 1 (was 26 lessons covering FastAPI, Django, PostgreSQL, Auth)
- Now split into: M14 (FastAPI), M15 (Databases), M16 (API Auth), M17 (Sharing), M21 (Django), M22 (PostgreSQL advanced), M23 (Auth/Security)
- This plan focuses on content quality within the restructured modules
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create bridge lesson - Async to FastAPI (M13 → M14)</name>
  <files>content/courses/python/modules/13-*/lessons/ (new bridge lesson or enhance existing)</files>
  <action>
    Create or enhance a bridge lesson at the end of M13 (Asynchronous Python) to prepare students for M14 (FastAPI):
    
    Bridge lesson content should include:
    1. Review of async/await concepts from M13
    2. Preview of how async is used in web frameworks (FastAPI)
    3. Practical setup: virtual environment, installing FastAPI/uvicorn
    4. First async web handler concept (connecting async def to HTTP)
    5. What to expect in M14 (API development, Pydantic models, dependency injection)
    
    Options:
    - Option A: If M13 has a final "summary" or "next steps" lesson, enhance it with bridge content
    - Option B: Create a new final lesson in M13 specifically as a bridge
    
    Recommended approach: Check if M13 lesson 08 or 09 is a summary/next steps lesson. If yes, enhance it. If no, create a new lesson.
    
    Content sections to add:
    - THEORY: Why async matters for web APIs
    - EXAMPLE: Simple async handler preview (conceptual, not full FastAPI code)
    - KEY_POINT: "FastAPI is built on async - your M13 skills transfer directly"
    - ANALOGY: Compare async request handling to a restaurant kitchen (multiple orders in parallel)
  </action>
  <verify>
    ls content/courses/python/modules/13-*/lessons/
    cat content/courses/python/modules/13-*/module.json
  </verify>
  <done>
    - Bridge lesson exists at end of M13 connecting async to FastAPI
    - Lesson includes review, preview, setup, and concept connection
    - KEY_POINT and ANALOGY sections present
  </done>
</task>

<task type="auto">
  <name>Task 2: Create bridge lesson - FastAPI to Django (M16 → M21)</name>
  <files>content/courses/python/modules/16-*/lessons/ (new bridge lesson or enhance existing)</files>
  <action>
    Create or enhance a bridge lesson at the end of M16 (API Authentication) to prepare students for M21 (Django Fundamentals):
    
    Bridge lesson content should include:
    1. Review of FastAPI patterns learned (M14-16)
    2. Introduction to "batteries-included" vs "micro" framework philosophy
    3. Comparison: When to choose FastAPI vs Django
    4. Preview of Django's MTV architecture
    5. Practical setup: Django installation, project creation
    6. Mental model shift: from explicit (FastAPI) to convention-based (Django)
    
    Options:
    - Option A: Enhance M16 final lesson with bridge content
    - Option B: Create a new "Framework Comparison" or "Choosing Django" lesson at end of M16
    
    Content sections to add:
    - THEORY: Micro vs batteries-included frameworks
    - EXAMPLE: Same simple endpoint in FastAPI vs Django (conceptual comparison)
    - KEY_POINT: "FastAPI = explicit and flexible; Django = convention and speed"
    - ANALOGY: FastAPI is like building with LEGO Technic (precise control); Django is like a pre-built LEGO set (faster to assemble)
    - WARNING: "Don't try to use FastAPI patterns in Django - embrace Django's conventions"
  </action>
  <verify>
    ls content/courses/python/modules/16-*/lessons/
    cat content/courses/python/modules/16-*/module.json
  </verify>
  <done>
    - Bridge lesson exists at end of M16 connecting FastAPI to Django
    - Lesson includes framework comparison and philosophy explanation
    - KEY_POINT, ANALOGY, and WARNING sections present
  </done>
</task>

<task type="auto">
  <name>Task 3: Deep edit - Module 14 (FastAPI) content quality</name>
  <files>content/courses/python/modules/14-*/lessons/*/content/*.md</files>
  <action>
    Perform deep content edit on Module 14 (HTTP and FastAPI) to improve quality:
    
    Review each lesson and enhance:
    
    1. Content flow and clarity:
       - Ensure concepts build logically
       - Check for abrupt topic changes
       - Verify code examples are complete and runnable
    
    2. Add missing content sections:
       - KEY_POINT: Every lesson should have at least one clear takeaway
       - ANALOGY: Where concepts are abstract (dependency injection, Pydantic validation)
       - WARNING: For common FastAPI pitfalls (async/sync mixing, validation errors)
    
    3. Specific FastAPI improvements:
       - Ensure Pydantic v2 patterns are consistent (from Plan 02)
       - Verify dependency injection explanations are clear
       - Check that async handler patterns are correct
       - Ensure HTTP method explanations are complete
    
    4. Lesson-by-lesson focus:
       - L01: HTTP basics - ensure requests library usage is current
       - L02: Pydantic - validation concepts with clear examples
       - L03: FastAPI fundamentals - clear getting-started path
       - L04: Pydantic v2 deep dive - comprehensive v2 patterns
       - L05: Routes and models - CRUD patterns
       - L06: Dependency injection - clear explanation with examples
       - L07: Flask comparison - fair comparison, not biased
       - L08: Testing and docs - pytest and OpenAPI usage
       - L09: Mini-project - complete working example
    
    Document any lessons that need challenge updates (for Plan 04).
  </action>
  <verify>
    # Count content sections in M14
    find content/courses/python/modules/14-*/lessons -name "*.md" | xargs grep -l "KEY_POINT\|ANALOGY\|WARNING" | wc -l
    
    # List lessons missing content types
    for lesson in content/courses/python/modules/14-*/lessons/*/; do
      echo "=== $(basename $lesson) ==="
      ls $lesson/content/ 2>/dev/null || echo "No content directory"
    done
  </verify>
  <done>
    - All M14 lessons have at least one KEY_POINT
    - Abstract concepts have ANALOGY sections
    - Common pitfalls have WARNING sections
    - Content flow is logical and clear
    - Pydantic v2 patterns are consistent
  </done>
</task>

<task type="auto">
  <name>Task 4: Deep edit - Module 15 (SQLAlchemy) content quality</name>
  <files>content/courses/python/modules/15-*/lessons/*/content/*.md</files>
  <action>
    Perform deep content edit on Module 15 (Databases and SQLAlchemy):
    
    1. SQLAlchemy 2.0 patterns (from Plan 02):
       - Ensure select() syntax is used (not query())
       - Verify async session patterns
       - Check Alembic migration examples
    
    2. Add missing content sections:
       - KEY_POINT: Clear takeaways for each database concept
       - ANALOGY: ORM concepts (compare to spreadsheets, filing systems)
       - WARNING: Common SQLAlchemy pitfalls (session management, N+1 queries)
    
    3. Content improvements:
       - Ensure SQLite vs PostgreSQL guidance is clear
       - Verify connection pooling explanations
       - Check migration workflow is complete
       - Ensure async database patterns are correct
    
    4. Bridge to M16:
       - Final lesson should preview how database connects to API authentication
       - Set up context for M16's authenticated blog API
  </action>
  <verify>
    # Check for SQLAlchemy 1.x patterns that should be 2.x
    grep -r "\.query(" content/courses/python/modules/15-*/lessons/*/content/*.md
    
    # Count content sections
    find content/courses/python/modules/15-*/lessons -name "key_point.md" | wc -l
    find content/courses/python/modules/15-*/lessons -name "analogy.md" | wc -l
    find content/courses/python/modules/15-*/lessons -name "warning.md" | wc -l
  </verify>
  <done>
    - M15 uses SQLAlchemy 2.0 patterns throughout
    - All lessons have KEY_POINT sections
    - ORM concepts have ANALOGY sections
    - Database pitfalls have WARNING sections
    - Content bridges to M16 (API auth)
  </done>
</task>

<task type="auto">
  <name>Task 5: Deep edit - Module 16 (API Authentication) content quality</name>
  <files>content/courses/python/modules/16-*/lessons/*/content/*.md</files>
  <action>
    Perform deep content edit on Module 16 (API Authentication):
    
    1. Authentication concepts:
       - Ensure password hashing is explained (bcrypt/argon2)
       - Verify JWT token flow is clear
       - Check OAuth2 concepts (if covered)
       - Ensure security best practices are emphasized
    
    2. Add missing content sections:
       - KEY_POINT: Security takeaways for each lesson
       - ANALOGY: Token concepts (compare to tickets, keys)
       - WARNING: Security pitfalls (hardcoded secrets, weak hashing, token exposure)
    
    3. FastAPI security integration:
       - Verify FastAPI security dependencies are correct
       - Check authentication middleware patterns
       - Ensure protected route examples work
    
    4. Authenticated blog API project:
       - Verify it's a complete, working example
       - Check all concepts from M14-15 are integrated
       - Ensure it can be extended for M21 Django comparison
    
    5. Bridge preparation:
       - Final lesson should set up framework comparison for M21
  </action>
  <verify>
    # Check content sections
    find content/courses/python/modules/16-*/lessons -name "key_point.md" | wc -l
    find content/courses/python/modules/16-*/lessons -name "warning.md" | wc -l
    
    # Verify blog API project exists
    ls content/courses/python/modules/16-*/lessons/ | grep -i "project\|capstone\|blog"
  </verify>
  <done>
    - M16 has comprehensive authentication coverage
    - All security-critical lessons have WARNING sections
    - Token concepts have ANALOGY sections
    - Authenticated blog API is complete and working
    - Bridge to M21 is prepared
  </done>
</task>

</tasks>

<verification>
1. Bridge lesson exists between M13 and M14 (async → FastAPI)
2. Bridge lesson exists between M16 and M21 (FastAPI → Django)
3. M14 (FastAPI) has enhanced content with KEY_POINT, ANALOGY, WARNING coverage
4. M15 (SQLAlchemy) uses SQLAlchemy 2.0 patterns and has enriched content
5. M16 (API Auth) has security warnings and complete blog API project
6. All web framework modules have improved content quality
</verification>

<success_criteria>
- PYTH-02 (progressive curriculum) improved with bridge lessons at transitions
- PYTH-05 (consistent voice) addressed with content enrichment
- Bridge lessons exist at M13→M14 and M16→M21 transitions
- M14-16 have KEY_POINT coverage (every lesson has at least one)
- M14-16 have ANALOGY sections where concepts are abstract
- M14-16 have WARNING sections for common pitfalls
- Content flows logically and builds progressively
</success_criteria>

<output>
After completion, create `.planning/phases/07-python-course-audit/07-03-SUMMARY.md`
</output>
