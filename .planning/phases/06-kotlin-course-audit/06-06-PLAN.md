---
phase: 06-kotlin-course-audit
plan: 06
type: execute
wave: 3
depends_on: ["06-02", "06-03"]
files_modified:
  - content/courses/kotlin/modules/01-the-absolute-basics/lessons/*/challenges/*/challenge.json
  - content/courses/kotlin/modules/01-the-absolute-basics/lessons/*/challenges/*/solution.kt
  - content/courses/kotlin/modules/01-the-absolute-basics/lessons/*/challenges/*/starter.kt
  - content/courses/kotlin/modules/02-controlling-the-flow/lessons/*/challenges/*
  - content/courses/kotlin/modules/03-object-oriented-programming/lessons/*/challenges/*
  - content/courses/kotlin/modules/04-advanced-kotlin/lessons/*/challenges/*
  - content/courses/kotlin/modules/05-coroutines-and-flows/lessons/*/challenges/*
  - content/courses/kotlin/modules/06-backend-development-with-ktor/lessons/*/challenges/*
  - content/courses/kotlin/modules/07-mobile-development-with-compose-multiplatform/lessons/*/challenges/*
autonomous: true

must_haves:
  truths:
    - "Every lesson in M01-M07 has at least one coding challenge"
    - "New challenges have complete challenge.json, starter.kt, and solution.kt files"
    - "M01-M04 challenges are pure Kotlin (executable via kotlinc -script or Piston)"
    - "M05-M07 challenges are code-review/output-matching (require project context for full execution)"
    - "Challenge difficulty progresses within each module"
  artifacts:
    - path: "content/courses/kotlin/modules/01-*/lessons/*/challenges/*/challenge.json"
      provides: "Challenge metadata with type, difficulty, description"
    - path: "content/courses/kotlin/modules/01-*/lessons/*/challenges/*/solution.kt"
      provides: "Working solution code"
    - path: "content/courses/kotlin/modules/01-*/lessons/*/challenges/*/starter.kt"
      provides: "Starter code with TODO placeholders"
  key_links:
    - from: "challenge.json"
      to: "solution.kt"
      via: "Solution implements the challenge described in JSON"
      pattern: "solution\\.kt"
    - from: "challenge.json"
      to: "starter.kt"
      via: "Starter provides scaffold matching challenge requirements"
      pattern: "starter\\.kt"
---

<objective>
Create missing challenges for Modules 01-07 (approximately 40 new challenges). M01-M04 pure Kotlin challenges should be executable standalone. M05-M07 challenges should test concepts through code-review or output-matching patterns since they require framework dependencies.

Purpose: KTLN-03 requires every lesson to have at least one coding challenge. Currently M01 is 50%, M02 71%, M03 57%, M04 23%, M06 20%, M07 30%. This plan closes the gap for the first 7 modules (fundamentals + backend + UI).
Output: ~40 new challenge directories with challenge.json, starter.kt, and solution.kt.
</objective>

<execution_context>
@C:\Users\dasbl\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\dasbl\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06-kotlin-course-audit/06-RESEARCH.md
@.planning/phases/06-kotlin-course-audit/06-02-SUMMARY.md
@.planning/phases/06-kotlin-course-audit/06-03-SUMMARY.md
@content/version-manifest.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create challenges for M01-M04 (pure Kotlin, ~29 challenges)</name>
  <files>
    New challenge directories in:
    content/courses/kotlin/modules/01-the-absolute-basics/lessons/*/challenges/
    content/courses/kotlin/modules/02-controlling-the-flow/lessons/*/challenges/
    content/courses/kotlin/modules/03-object-oriented-programming/lessons/*/challenges/
    content/courses/kotlin/modules/04-advanced-kotlin/lessons/*/challenges/
  </files>
  <action>
    **Step 1: Identify lessons without challenges**
    Scan M01-M04 and list every lesson that has NO challenge directory or has an empty challenge directory.
    - M01: 5 of 10 lessons missing challenges
    - M02: 2 of 7 lessons missing challenges
    - M03: 3 of 7 lessons missing challenges
    - M04: 10 of 13 lessons missing challenges (worst coverage)
    Total: ~20 lessons need new challenges, some may need 2 challenges = ~29 new challenges.

    **Step 2: Review existing challenges for pattern**
    Read 3-4 existing challenge.json files from M01-M04 to understand the established format:
    - challenge.json structure: id, title, description, type, difficulty, hints, testCases
    - starter.kt format: function stubs with TODO comments
    - solution.kt format: complete working solution
    Replicate the exact same JSON schema and file naming conventions.

    **Step 3: Create challenges for each missing lesson**
    For EACH lesson without a challenge, create a challenge directory containing:

    1. **challenge.json**: Following exact schema used by existing challenges. Include:
       - id: "{lesson-id}-challenge-01" (or challenge-02 if lesson already has one)
       - title: Action-oriented title describing what to build
       - description: Clear problem statement referencing lesson concepts
       - type: "FREE_CODING" for most, "QUIZ" for conceptual lessons
       - difficulty: Match lesson's position in module
       - hints: 2-3 progressive hints
       - testCases: Input/output pairs for validation

    2. **starter.kt**: Scaffold code with:
       - Function signature(s) matching the challenge
       - TODO("Implement ...") placeholders
       - Required imports
       - For M01-M03: Include a main() function that calls the student's code and prints results
       - For M04: May omit main() for higher-order function challenges

    3. **solution.kt**: Complete working solution that:
       - Passes all test cases in challenge.json
       - Uses patterns taught in THAT specific lesson (not patterns from later modules)
       - Is executable via `kotlinc -script solution.kt` or standard Kotlin compilation
       - Uses Kotlin 1.8 compatible syntax where possible (Piston compatibility) -- BUT if the lesson teaches Kotlin 2.0+ features, use those features and note the Piston limitation

    **Challenge design guidelines for M01-M04:**
    - M01 (basics): Variable declarations, type conversions, string templates, null safety, basic I/O
    - M02 (control flow): When expressions, loops, list/map operations, range expressions
    - M03 (OOP): Class hierarchies, data classes, sealed classes, interfaces, object declarations
    - M04 (advanced): Higher-order functions, lambda expressions, collection operations, scope functions, generics, DSL building
    - M04 L08-L09 (coroutines preview): Simple launch/async examples -- these should use kotlinx.coroutines patterns but note they need the coroutines dependency

    Each challenge should test the PRIMARY concept of its lesson. If a lesson covers multiple concepts, test the most important one.
  </action>
  <verify>
    Count total new challenges created for M01-M04.
    Verify each new challenge has all 3 files (challenge.json, starter.kt, solution.kt).
    Verify challenge.json follows the schema used by existing challenges.
    Spot-check 3-4 solution.kt files for correctness (mentally trace execution).
    Verify M01-M04 now have 100% challenge coverage (every lesson has at least one challenge).
  </verify>
  <done>
    ~29 new challenges created across M01-M04. Every lesson in M01-M04 now has at least one coding challenge. Pure Kotlin challenges are executable standalone. Challenge difficulty progresses within each module.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create challenges for M05-M07 (~11 challenges -- framework-dependent)</name>
  <files>
    New challenge directories in:
    content/courses/kotlin/modules/05-coroutines-and-flows/lessons/*/challenges/ (0 new -- already 100%)
    content/courses/kotlin/modules/06-backend-development-with-ktor/lessons/*/challenges/
    content/courses/kotlin/modules/07-mobile-development-with-compose-multiplatform/lessons/*/challenges/
  </files>
  <action>
    **Step 1: Identify lessons without challenges**
    - M05: Already 100% coverage (7/7), no new challenges needed
    - M06: 12 of 15 lessons missing challenges (only 3 have challenges)
    - M07: 7 of 10 lessons missing challenges (only 3 have challenges)
    Total: ~19 lessons need challenges

    However, some M06-M07 lessons may not be suitable for standalone challenges (setup lessons, intro lessons, capstone overview). Assess each lesson:
    - If the lesson is a setup/intro/overview: Create a QUIZ type challenge (conceptual questions)
    - If the lesson teaches a specific pattern: Create a FREE_CODING challenge with simulated context

    **Step 2: Challenge design for Ktor modules (M06)**
    These challenges CANNOT run via Piston or kotlinc -script (need Ktor dependencies). Design approach:
    - Provide stub/mock classes in starter.kt that simulate Ktor types (Route, ApplicationCall, etc.)
    - Student implements the logic (not the framework boilerplate)
    - solution.kt contains the complete logic
    - Alternatively: Use output-matching where student writes a pure function that PROCESSES request data (parsing, validation, response building) without actual Ktor imports

    Examples:
    - Routing lesson: "Write a function that maps URL paths to handler functions" (pure Kotlin, no Ktor imports)
    - Exposed lesson: "Write a function that builds a SQL query string for the given filters" (pure logic)
    - Auth lesson: "Implement a JWT token validator function" (pure string/crypto logic)
    - Validation lesson: "Write a request validation function that returns error messages" (pure logic)

    **Step 3: Challenge design for Compose MP modules (M07)**
    Similar approach -- cannot run Compose code standalone. Design approach:
    - State management challenges: Pure functions that compute UI state (no @Composable needed)
    - Navigation challenges: Route matching/parsing as pure functions
    - Networking challenges: Data parsing/transformation (JSON -> domain objects) as pure Kotlin
    - UI challenges: QUIZ type asking about Composable behavior

    **Step 4: Create all challenge files**
    For each new challenge, create challenge.json + starter.kt + solution.kt following the same schema and patterns as existing challenges and the M01-M04 challenges from Task 1.
  </action>
  <verify>
    Count total new challenges created for M06-M07.
    Verify each new challenge has all 3 files.
    Verify M06 and M07 now have 100% lesson coverage (or document which lessons got QUIZ vs FREE_CODING).
    Verify no new challenges require Ktor/Compose imports in starter.kt or solution.kt (pure logic or simulated stubs only).
  </verify>
  <done>
    ~19 new challenges created across M06-M07. Every lesson in M05-M07 now has at least one coding challenge. Framework-dependent challenges use pure logic extraction or QUIZ format. M01-M07 at 100% challenge coverage.
  </done>
</task>

</tasks>

<verification>
1. Every lesson in M01-M07 (69 lessons) has at least one challenge
2. All new challenges have challenge.json + starter.kt + solution.kt
3. M01-M04 challenges are executable pure Kotlin
4. M05-M07 challenges are framework-independent (pure logic or QUIZ)
5. Challenge difficulty progresses within each module
6. challenge.json follows the exact schema used by existing challenges
</verification>

<success_criteria>
- KTLN-03 partially addressed: M01-M07 at 100% challenge coverage (~40 new challenges created)
- Pure Kotlin challenges (M01-M04) are standalone executable
- Framework-dependent challenges (M05-M07) use appropriate abstraction
- No broken or incomplete challenge files
</success_criteria>

<output>
After completion, create `.planning/phases/06-kotlin-course-audit/06-06-SUMMARY.md`
</output>
