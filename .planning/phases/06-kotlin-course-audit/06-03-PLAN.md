---
phase: 06-kotlin-course-audit
plan: 03
type: execute
wave: 2
depends_on: ["06-01"]
files_modified:
  - content/courses/kotlin/modules/06-backend-development-with-ktor/lessons/*/content/*.md
  - content/courses/kotlin/modules/07-mobile-development-with-compose-multiplatform/lessons/*/content/*.md
autonomous: true

must_haves:
  truths:
    - "M06 Ktor content follows the corrected lesson order (setup before auth) with no forward references to lessons not yet covered"
    - "Ktor 3.4.0 APIs are correct (server-core-jvm, server-cio-jvm, content-negotiation, auth-jwt)"
    - "Exposed 1.0.0 ORM patterns are correct (Table definitions, transaction blocks, CRUD operations)"
    - "M07 Compose Multiplatform content uses current CMP patterns compatible with 1.10.x"
    - "All 25 lessons across M06-M07 are accurate against their respective framework versions"
  artifacts:
    - path: "content/courses/kotlin/modules/06-backend-development-with-ktor/lessons/*/content/*.md"
      provides: "Ktor 3.4.0 and Exposed 1.0.0 verified content"
    - path: "content/courses/kotlin/modules/07-mobile-development-with-compose-multiplatform/lessons/*/content/*.md"
      provides: "Compose Multiplatform verified content"
  key_links:
    - from: "M06 Exposed usage"
      to: "Exposed 1.0.0 API"
      via: "Import statements and Table/Column definitions"
      pattern: "org\\.jetbrains\\.exposed"
    - from: "M07 Compose code"
      to: "Compose Multiplatform 1.10.x API"
      via: "Composable function patterns"
      pattern: "@Composable|remember|mutableStateOf"
---

<objective>
Verify Modules 06-07 (25 lessons, ~380 content files) against Ktor 3.4.0, Exposed 1.0.0, and Compose Multiplatform 1.10.x. Fix forward references broken by the M06 reorder, verify Exposed package namespaces, and validate Compose MP patterns.

Purpose: KTLN-01 requires framework accuracy. M06 is the most structurally affected module (just reordered in Plan 01), so content may have forward references that no longer make sense. M07 teaches the UI layer that students will use for the capstone.
Output: Verified M06-M07 content files with corrections. Forward reference issues from M06 reorder resolved.
</objective>

<execution_context>
@C:\Users\dasbl\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\dasbl\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06-kotlin-course-audit/06-RESEARCH.md
@.planning/phases/06-kotlin-course-audit/06-01-SUMMARY.md
@content/version-manifest.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Accuracy pass M06 (15 lessons -- Ktor 3.4.0, Exposed 1.0.0)</name>
  <files>
    content/courses/kotlin/modules/06-backend-development-with-ktor/lessons/*/content/*.md
  </files>
  <action>
    Read all content files across M06 (15 lessons, ~250 content files) IN THE NEW CORRECTED ORDER established by Plan 01.

    **Post-reorder forward reference audit:**
    After Plan 01, the lesson order is: HTTP intro -> Ktor setup -> Routing -> Params -> JSON -> DB1 -> DB2 -> Repo -> Validation -> Auth Reg -> Auth Login -> Auth Routes -> DI -> Testing -> Capstone.

    Check each lesson for references to "as we learned in the previous lesson" or "building on what we set up earlier" that may now reference LATER lessons instead of earlier ones. Specifically:
    - The auth lessons (now positions 10-12) may reference routing concepts "from earlier" -- this is CORRECT now (routing is position 3)
    - The testing lesson (now position 14) may reference various concepts "from earlier" -- should all be correct
    - The Ktor setup lesson (now position 2) should NOT reference auth, database, or testing
    - Check for any "in the next lesson we'll learn about X" that now points to a different next lesson

    **Ktor 3.4.0 accuracy checks:**
    - Plugin installation: `install(ContentNegotiation)`, `install(Authentication)` use correct Ktor 3.x syntax
    - Routing: `routing { get("/") { } }` not deprecated `Routing` feature approach
    - Content negotiation: `json()` in ContentNegotiation block uses kotlinx.serialization
    - Authentication: JWT auth uses `jwt { }` block in `install(Authentication)` -- verify scheme name, realm, verifier
    - Server engine: CIO, Netty, or Jetty -- verify the module consistently uses one engine (research says CIO)
    - Dependencies use "io.ktor:ktor-server-*-jvm:3.4.0" format (not old "io.ktor:ktor-server-*:3.4.0" without -jvm suffix for JVM target)

    **Exposed 1.0.0 accuracy checks:**
    - Import statements: Verify whether course uses `org.jetbrains.exposed.sql.*` (old) or `org.jetbrains.exposed.v1.sql.*` (new 1.0 namespace). Research says course targets Exposed 1.0.0 in dependencies. Check if content uses v1 namespace.
    - If content uses old namespace but declares 1.0.0 dependency: This works (backward compat) but note it in summary
    - Table definitions: `object Users : Table() { val id = integer("id").autoIncrement() }` -- verify current syntax
    - Transaction blocks: `transaction { }` syntax is correct for 1.0
    - DAO patterns: If DAO layer is used, verify IntEntity/LongEntity patterns are current
    - H2/SQLite driver: Verify driver class names match current versions

    **kotlinx.serialization accuracy checks:**
    - @Serializable data classes use current annotation
    - Json { } configuration block uses current properties (ignoreUnknownKeys, prettyPrint, etc.)
    - No deprecated serializers (e.g., old PolymorphicSerializer patterns)

    Fix any inaccuracies in-place. Track changes for summary.
  </action>
  <verify>
    Report: X lessons reviewed, Y corrections applied, Z forward-reference fixes.
    Grep M06 content for "previous lesson", "earlier", "last lesson" and verify each reference is accurate post-reorder.
    Grep for deprecated Ktor 2.x patterns: "install(Routing)", "features", "Application.module".
    Verify Exposed dependency declarations say "1.0.0".
  </verify>
  <done>
    All 15 M06 lessons verified against Ktor 3.4.0 and Exposed 1.0.0. Forward references corrected after reorder. API patterns current.
  </done>
</task>

<task type="auto">
  <name>Task 2: Accuracy pass M07 (10 lessons -- Compose Multiplatform 1.10.x)</name>
  <files>
    content/courses/kotlin/modules/07-mobile-development-with-compose-multiplatform/lessons/*/content/*.md
  </files>
  <action>
    Read all content files across M07 (10 lessons, ~130 content files).

    **Compose Multiplatform 1.10.x accuracy checks:**
    - Composable functions: @Composable annotation, remember, mutableStateOf patterns
    - State management: State hoisting, derivedStateOf, snapshotFlow -- verify current patterns
    - Navigation: Check which navigation library is used. If using Compose Multiplatform navigation (not just Android Jetpack navigation), verify patterns. If using Voyager or Decompose, verify compatibility.
    - Networking: If lessons show HTTP client usage, verify Ktor client patterns match Ktor 3.4.0
    - Modifier chains: Verify current Modifier API (no deprecated modifiers like Modifier.preferredSize)
    - Material 3: Check if content uses Material 3 (MaterialTheme from material3) or Material 2. M3 is current standard.
    - LazyColumn/LazyRow: Verify current patterns (items, itemsIndexed, key parameter)

    **Cross-platform accuracy:**
    - Verify content teaches Compose MULTIPLATFORM (not just Jetpack Compose for Android)
    - Check for Android-only APIs being used in shared code (Context, Activity, etc.)
    - Verify expect/actual patterns if platform-specific code is shown
    - iOS target: If iOS integration is mentioned, verify it uses current CMP iOS patterns (UIViewController integration, etc.)

    **Lesson progression checks:**
    - L01 should introduce Compose MP concepts (not assume prior Android knowledge)
    - State management should build on M04/M05 coroutines knowledge
    - Navigation should reference M06 routing concepts where applicable
    - No knowledge cliffs (referencing Android-specific concepts not yet taught)

    Fix any inaccuracies in-place.
  </action>
  <verify>
    Report: X lessons reviewed, Y corrections applied.
    Grep for Android-only patterns in shared code: "Context", "Activity", "Intent", "AndroidManifest".
    Grep for deprecated Compose patterns: "Modifier.preferredSize", "Ambients", "Providers".
    Verify all @Composable code examples use current syntax.
  </verify>
  <done>
    All 10 M07 lessons verified against Compose Multiplatform 1.10.x. Cross-platform patterns correct. No Android-only code in shared modules. Material 3 patterns verified.
  </done>
</task>

</tasks>

<verification>
1. All 25 lessons across M06-M07 reviewed for framework accuracy
2. M06 forward references fixed after reorder (no "previous lesson" pointing to wrong lesson)
3. Ktor 3.4.0, Exposed 1.0.0, kotlinx.serialization patterns verified
4. Compose Multiplatform patterns verified (cross-platform, not Android-only)
5. Zero deprecated framework patterns remain
</verification>

<success_criteria>
- KTLN-01 partially addressed: M06-M07 (25/128 lessons) verified accurate against framework versions
- KTLN-02 partially addressed: Backend -> UI progression verified
- M06 post-reorder coherence verified (no broken cross-references)
- Exposed 1.0.0 namespace usage documented
</success_criteria>

<output>
After completion, create `.planning/phases/06-kotlin-course-audit/06-03-SUMMARY.md`
</output>
