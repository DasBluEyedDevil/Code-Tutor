---
phase: 06-kotlin-course-audit
plan: 04
type: execute
wave: 2
depends_on: ["06-01"]
files_modified:
  - content/courses/kotlin/modules/08-persistence-with-sqldelight/lessons/*/content/*.md
  - content/courses/kotlin/modules/09-kmp-architecture-patterns/lessons/*/content/*.md
  - content/courses/kotlin/modules/10-dependency-injection-with-koin/lessons/*/content/*.md
  - content/courses/kotlin/modules/11-testing-kmp-applications/lessons/*/content/*.md
  - content/courses/kotlin/modules/12-professional-development-deployment/lessons/*/content/*.md
autonomous: true

must_haves:
  truths:
    - "SQLDelight 2.2.x patterns are correct (type-safe SQL, platform drivers, reactive queries)"
    - "Koin 4.1.x DI patterns match current KMP integration API"
    - "Testing content uses current kotlin.test and kotlinx-coroutines-test patterns"
    - "M12 deployment content uses current CI/CD and cloud patterns"
    - "M12 L08 existing capstone (ShopKotlin) is assessed -- Jetpack Compose vs CMP mismatch documented"
  artifacts:
    - path: "content/courses/kotlin/modules/08-persistence-with-sqldelight/lessons/*/content/*.md"
      provides: "SQLDelight 2.2.x verified content"
    - path: "content/courses/kotlin/modules/10-dependency-injection-with-koin/lessons/*/content/*.md"
      provides: "Koin 4.1.x verified content"
    - path: "content/courses/kotlin/modules/12-professional-development-deployment/lessons/*/content/*.md"
      provides: "Deployment content verified, capstone assessed"
  key_links:
    - from: "M08 SQLDelight"
      to: "M07 Compose MP (client-side data)"
      via: "Persistence layer for the UI taught in M07"
      pattern: "sqldelight|SqlDriver"
    - from: "M10 Koin DI"
      to: "M06 Ktor Koin lesson"
      via: "DI concepts introduced in M06, deep-dived in M10"
      pattern: "koinModule|single|factory"
---

<objective>
Verify Modules 08-12 (42 lessons, ~520 content files) against SQLDelight 2.2.x, Koin 4.1.x, kotlin.test, and current deployment practices. Assess the existing M12 capstone (ShopKotlin) for CMP alignment.

Purpose: KTLN-01 requires all 128 lessons accurate. M08-M12 cover the KMP ecosystem (persistence, architecture, DI, testing, deployment) which students need before the capstone. The M12 capstone assessment informs Plan 08 (capstone creation).
Output: Verified M08-M12 content files with corrections. Capstone assessment for Plan 08 input.
</objective>

<execution_context>
@C:\Users\dasbl\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\dasbl\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06-kotlin-course-audit/06-RESEARCH.md
@.planning/phases/06-kotlin-course-audit/06-01-SUMMARY.md
@content/version-manifest.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Accuracy pass M08-M10 (21 lessons -- SQLDelight, KMP Architecture, Koin)</name>
  <files>
    content/courses/kotlin/modules/08-persistence-with-sqldelight/lessons/*/content/*.md
    content/courses/kotlin/modules/09-kmp-architecture-patterns/lessons/*/content/*.md
    content/courses/kotlin/modules/10-dependency-injection-with-koin/lessons/*/content/*.md
  </files>
  <action>
    Read all content files across M08-M10 (21 lessons, ~260 content files).

    **M08 SQLDelight 2.2.x accuracy checks (7 lessons):**
    - SQLDelight plugin configuration uses current Gradle DSL: `sqldelight { databases { create("AppDb") { ... } } }`
    - Platform drivers: AndroidSqliteDriver, NativeSqliteDriver (iOS), JdbcSqliteDriver (JVM) -- verify class names
    - .sq files: Verify query syntax examples match SQLDelight 2.x (named parameters, type mappings)
    - Generated code: References to generated queries should match 2.x output patterns
    - Reactive queries: `asFlow().mapToList()` or similar -- verify current API
    - Migrations: Verify .sqm migration file patterns
    - No SQLDelight 1.x patterns (old plugin DSL, old driver names)

    **M09 KMP Architecture Patterns (7 lessons):**
    - Clean Architecture: Verify domain/data/presentation layer patterns
    - MVVM: Verify ViewModel patterns are KMP-compatible (not Android-only ViewModel from Jetpack)
    - MVI: Verify state machine / intent patterns
    - Shared ViewModels: If using KMP ViewModel library, verify current patterns. If using custom shared ViewModel, verify pattern is cross-platform.
    - Navigation: Verify navigation patterns work across platforms
    - No Android-specific architecture components in shared code (LiveData, Android ViewModel, etc.)

    **M10 Koin 4.1.x DI (7 lessons):**
    - Koin module DSL: `module { single { } factory { } }` -- verify 4.x syntax
    - KMP integration: `koinApplication { }` or `startKoin { }` -- verify current initialization pattern
    - Koin annotations: If using `@Single`, `@Factory` annotations, verify koin-annotations compatibility
    - Ktor integration: `install(Koin) { modules(...) }` -- verify Koin-Ktor plugin syntax matches 4.1.x
    - Compose integration: koinViewModel, koinInject -- verify current Compose extension functions
    - Testing: Koin testing utilities (checkModules, KoinTest) -- verify patterns
    - No Koin 3.x patterns (old module DSL, old Android extensions)

    Fix any inaccuracies in-place.
  </action>
  <verify>
    Report: X lessons reviewed, Y corrections applied.
    Grep for deprecated patterns: "LiveData", "AndroidViewModel" (in shared code), "BroadcastChannel".
    Grep for Koin 3.x patterns: "androidContext", "androidApplication" (should only be in platform-specific code).
    Verify SQLDelight plugin uses 2.x DSL format.
  </verify>
  <done>
    All 21 lessons in M08-M10 verified against SQLDelight 2.2.x, current KMP architecture patterns, and Koin 4.1.x. No Android-specific code in shared modules. Framework APIs current.
  </done>
</task>

<task type="auto">
  <name>Task 2: Accuracy pass M11-M12 (21 lessons -- Testing, Deployment + capstone assessment)</name>
  <files>
    content/courses/kotlin/modules/11-testing-kmp-applications/lessons/*/content/*.md
    content/courses/kotlin/modules/12-professional-development-deployment/lessons/*/content/*.md
  </files>
  <action>
    Read all content files across M11-M12 (21 lessons, ~260 content files).

    **M11 Testing KMP Applications (7 lessons):**
    - kotlin.test: Verify @Test, assertEquals, assertFailsWith, assertContains -- current API
    - kotlinx-coroutines-test: runTest { }, TestDispatcher, advanceUntilIdle() -- verify 1.10.x patterns
    - Mocking: If MockK or similar is used, verify KMP compatibility and current API
    - UI testing: If Compose testing is covered, verify ComposeTestRule / createComposeRule patterns
    - CI/CD testing: If GitHub Actions or similar is covered, verify workflow patterns
    - No JUnit 4/5-specific assertions in shared test code (should use kotlin.test)

    **M12 Professional Development & Deployment (14 lessons):**
    - CI/CD: GitHub Actions workflows -- verify Kotlin/Gradle action versions, caching patterns
    - Docker: If containerized deployment shown, verify Kotlin JVM image patterns (eclipse-temurin, slim variants)
    - Cloud deployment: Verify deployment targets are current (Railway, Fly.io, Google Cloud Run, AWS Lambda)
    - App store deployment: If Android/iOS store processes described, verify current patterns
    - Security: Verify security patterns (API key management, HTTPS, CORS in Ktor)
    - KMP publishing: If library publishing is covered, verify maven-publish plugin patterns

    **M12 L08 Capstone Assessment (CRITICAL for Plan 08):**
    Research identified the M12 capstone describes "ShopKotlin" using Jetpack Compose (Android-only), contradicting the KMP course title. Assess:
    1. How much actual code/content exists in M12 L08? (full project vs. high-level description)
    2. Does the content mention Compose Multiplatform or only Jetpack Compose?
    3. What technologies does it describe? (Ktor + Compose + PostgreSQL + Stripe per research)
    4. Can this lesson be reframed as a "case study" while Plan 08 creates the real capstone?
    5. Document findings clearly -- Plan 08 needs this assessment.

    Fix any inaccuracies in-place. For M12 L08 capstone, only add a note if it says "Jetpack Compose" -- reframe to "Compose Multiplatform" if appropriate, or add a note acknowledging the distinction.
  </action>
  <verify>
    Report: X lessons reviewed, Y corrections applied.
    Grep for JUnit patterns in M11 shared code: "@org.junit", "Assert.assert" (should be kotlin.test).
    Verify M11 uses runTest (not runBlockingTest which is deprecated).
    Document M12 L08 capstone assessment: technologies described, CMP vs Jetpack distinction, content depth.
  </verify>
  <done>
    All 21 lessons in M11-M12 verified against kotlin.test, kotlinx-coroutines-test 1.10.x, and current deployment patterns. M12 L08 capstone assessed: CMP alignment documented, reframing applied if needed. Assessment ready for Plan 08 input.
  </done>
</task>

</tasks>

<verification>
1. All 42 lessons across M08-M12 reviewed for framework accuracy
2. SQLDelight 2.2.x patterns verified (plugin DSL, drivers, reactive queries)
3. Koin 4.1.x patterns verified (module DSL, KMP integration, annotations)
4. Testing uses kotlin.test + kotlinx-coroutines-test (not JUnit in shared code)
5. M12 L08 capstone assessed for CMP alignment (documented in summary)
6. No Android-specific APIs in shared code sections
</verification>

<success_criteria>
- KTLN-01 partially addressed: M08-M12 (42/128 lessons) verified accurate
- KTLN-02 partially addressed: KMP ecosystem progression verified (persistence -> architecture -> DI -> testing -> deployment)
- M12 capstone CMP alignment assessed (input for Plan 08)
- Zero deprecated framework patterns in KMP modules
</success_criteria>

<output>
After completion, create `.planning/phases/06-kotlin-course-audit/06-04-SUMMARY.md`
</output>
